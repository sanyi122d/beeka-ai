function WI(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Pi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Lh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var G1={exports:{}},Mh={},K1={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wl=Symbol.for("react.element"),GI=Symbol.for("react.portal"),KI=Symbol.for("react.fragment"),QI=Symbol.for("react.strict_mode"),YI=Symbol.for("react.profiler"),JI=Symbol.for("react.provider"),XI=Symbol.for("react.context"),ZI=Symbol.for("react.forward_ref"),e2=Symbol.for("react.suspense"),t2=Symbol.for("react.memo"),n2=Symbol.for("react.lazy"),Fv=Symbol.iterator;function r2(t){return t===null||typeof t!="object"?null:(t=Fv&&t[Fv]||t["@@iterator"],typeof t=="function"?t:null)}var Q1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y1=Object.assign,J1={};function Yo(t,e,n){this.props=t,this.context=e,this.refs=J1,this.updater=n||Q1}Yo.prototype.isReactComponent={};Yo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Yo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function X1(){}X1.prototype=Yo.prototype;function Pm(t,e,n){this.props=t,this.context=e,this.refs=J1,this.updater=n||Q1}var Rm=Pm.prototype=new X1;Rm.constructor=Pm;Y1(Rm,Yo.prototype);Rm.isPureReactComponent=!0;var Vv=Array.isArray,Z1=Object.prototype.hasOwnProperty,jm={current:null},e_={key:!0,ref:!0,__self:!0,__source:!0};function t_(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Z1.call(e,r)&&!e_.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Wl,type:t,key:s,ref:o,props:i,_owner:jm.current}}function i2(t,e){return{$$typeof:Wl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Dm(t){return typeof t=="object"&&t!==null&&t.$$typeof===Wl}function s2(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var zv=/\/+/g;function zd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?s2(""+t.key):e.toString(36)}function lc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Wl:case GI:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+zd(o,0):r,Vv(i)?(n="",t!=null&&(n=t.replace(zv,"$&/")+"/"),lc(i,e,n,"",function(c){return c})):i!=null&&(Dm(i)&&(i=i2(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(zv,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Vv(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+zd(s,a);o+=lc(s,e,n,l,i)}else if(l=r2(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+zd(s,a++),o+=lc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ru(t,e,n){if(t==null)return t;var r=[],i=0;return lc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function o2(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var en={current:null},uc={transition:null},a2={ReactCurrentDispatcher:en,ReactCurrentBatchConfig:uc,ReactCurrentOwner:jm};function n_(){throw Error("act(...) is not supported in production builds of React.")}Ie.Children={map:Ru,forEach:function(t,e,n){Ru(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ru(t,function(){e++}),e},toArray:function(t){return Ru(t,function(e){return e})||[]},only:function(t){if(!Dm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ie.Component=Yo;Ie.Fragment=KI;Ie.Profiler=YI;Ie.PureComponent=Pm;Ie.StrictMode=QI;Ie.Suspense=e2;Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=a2;Ie.act=n_;Ie.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Y1({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=jm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Z1.call(e,l)&&!e_.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Wl,type:t.type,key:i,ref:s,props:r,_owner:o}};Ie.createContext=function(t){return t={$$typeof:XI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:JI,_context:t},t.Consumer=t};Ie.createElement=t_;Ie.createFactory=function(t){var e=t_.bind(null,t);return e.type=t,e};Ie.createRef=function(){return{current:null}};Ie.forwardRef=function(t){return{$$typeof:ZI,render:t}};Ie.isValidElement=Dm;Ie.lazy=function(t){return{$$typeof:n2,_payload:{_status:-1,_result:t},_init:o2}};Ie.memo=function(t,e){return{$$typeof:t2,type:t,compare:e===void 0?null:e}};Ie.startTransition=function(t){var e=uc.transition;uc.transition={};try{t()}finally{uc.transition=e}};Ie.unstable_act=n_;Ie.useCallback=function(t,e){return en.current.useCallback(t,e)};Ie.useContext=function(t){return en.current.useContext(t)};Ie.useDebugValue=function(){};Ie.useDeferredValue=function(t){return en.current.useDeferredValue(t)};Ie.useEffect=function(t,e){return en.current.useEffect(t,e)};Ie.useId=function(){return en.current.useId()};Ie.useImperativeHandle=function(t,e,n){return en.current.useImperativeHandle(t,e,n)};Ie.useInsertionEffect=function(t,e){return en.current.useInsertionEffect(t,e)};Ie.useLayoutEffect=function(t,e){return en.current.useLayoutEffect(t,e)};Ie.useMemo=function(t,e){return en.current.useMemo(t,e)};Ie.useReducer=function(t,e,n){return en.current.useReducer(t,e,n)};Ie.useRef=function(t){return en.current.useRef(t)};Ie.useState=function(t){return en.current.useState(t)};Ie.useSyncExternalStore=function(t,e,n){return en.current.useSyncExternalStore(t,e,n)};Ie.useTransition=function(){return en.current.useTransition()};Ie.version="18.3.1";K1.exports=Ie;var M=K1.exports;const or=Lh(M),l2=WI({__proto__:null,default:or},[M]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u2=M,c2=Symbol.for("react.element"),h2=Symbol.for("react.fragment"),d2=Object.prototype.hasOwnProperty,f2=u2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p2={key:!0,ref:!0,__self:!0,__source:!0};function r_(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)d2.call(e,r)&&!p2.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:c2,type:t,key:s,ref:o,props:i,_owner:f2.current}}Mh.Fragment=h2;Mh.jsx=r_;Mh.jsxs=r_;G1.exports=Mh;var h=G1.exports,Uf={},i_={exports:{}},bn={},s_={exports:{}},o_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,Y){var j=U.length;U.push(Y);e:for(;0<j;){var J=j-1>>>1,ne=U[J];if(0<i(ne,Y))U[J]=Y,U[j]=ne,j=J;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var Y=U[0],j=U.pop();if(j!==Y){U[0]=j;e:for(var J=0,ne=U.length,L=ne>>>1;J<L;){var ge=2*(J+1)-1,Ne=U[ge],he=ge+1,X=U[he];if(0>i(Ne,j))he<ne&&0>i(X,Ne)?(U[J]=X,U[he]=j,J=he):(U[J]=Ne,U[ge]=j,J=ge);else if(he<ne&&0>i(X,j))U[J]=X,U[he]=j,J=he;else break e}}return Y}function i(U,Y){var j=U.sortIndex-Y.sortIndex;return j!==0?j:U.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,p=3,g=!1,w=!1,T=!1,I=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(U){for(var Y=n(c);Y!==null;){if(Y.callback===null)r(c);else if(Y.startTime<=U)r(c),Y.sortIndex=Y.expirationTime,e(l,Y);else break;Y=n(c)}}function N(U){if(T=!1,x(U),!w)if(n(l)!==null)w=!0,ce(O);else{var Y=n(c);Y!==null&&se(N,Y.startTime-U)}}function O(U,Y){w=!1,T&&(T=!1,E(b),b=-1),g=!0;var j=p;try{for(x(Y),f=n(l);f!==null&&(!(f.expirationTime>Y)||U&&!P());){var J=f.callback;if(typeof J=="function"){f.callback=null,p=f.priorityLevel;var ne=J(f.expirationTime<=Y);Y=t.unstable_now(),typeof ne=="function"?f.callback=ne:f===n(l)&&r(l),x(Y)}else r(l);f=n(l)}if(f!==null)var L=!0;else{var ge=n(c);ge!==null&&se(N,ge.startTime-Y),L=!1}return L}finally{f=null,p=j,g=!1}}var A=!1,k=null,b=-1,S=5,_=-1;function P(){return!(t.unstable_now()-_<S)}function D(){if(k!==null){var U=t.unstable_now();_=U;var Y=!0;try{Y=k(!0,U)}finally{Y?R():(A=!1,k=null)}}else A=!1}var R;if(typeof v=="function")R=function(){v(D)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,Q=q.port2;q.port1.onmessage=D,R=function(){Q.postMessage(null)}}else R=function(){I(D,0)};function ce(U){k=U,A||(A=!0,R())}function se(U,Y){b=I(function(){U(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){w||g||(w=!0,ce(O))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(U){switch(p){case 1:case 2:case 3:var Y=3;break;default:Y=p}var j=p;p=Y;try{return U()}finally{p=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,Y){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var j=p;p=U;try{return Y()}finally{p=j}},t.unstable_scheduleCallback=function(U,Y,j){var J=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?J+j:J):j=J,U){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=j+ne,U={id:d++,callback:Y,priorityLevel:U,startTime:j,expirationTime:ne,sortIndex:-1},j>J?(U.sortIndex=j,e(c,U),n(l)===null&&U===n(c)&&(T?(E(b),b=-1):T=!0,se(N,j-J))):(U.sortIndex=ne,e(l,U),w||g||(w=!0,ce(O))),U},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(U){var Y=p;return function(){var j=p;p=Y;try{return U.apply(this,arguments)}finally{p=j}}}})(o_);s_.exports=o_;var m2=s_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g2=M,En=m2;function G(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a_=new Set,dl={};function Ms(t,e){Ro(t,e),Ro(t+"Capture",e)}function Ro(t,e){for(dl[t]=e,t=0;t<e.length;t++)a_.add(e[t])}var Dr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$f=Object.prototype.hasOwnProperty,y2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Uv={},$v={};function v2(t){return $f.call($v,t)?!0:$f.call(Uv,t)?!1:y2.test(t)?$v[t]=!0:(Uv[t]=!0,!1)}function x2(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function w2(t,e,n,r){if(e===null||typeof e>"u"||x2(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function tn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Nt[t]=new tn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Nt[e]=new tn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Nt[t]=new tn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Nt[t]=new tn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Nt[t]=new tn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Nt[t]=new tn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Nt[t]=new tn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Nt[t]=new tn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Nt[t]=new tn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Om=/[\-:]([a-z])/g;function Lm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Om,Lm);Nt[e]=new tn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Om,Lm);Nt[e]=new tn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Om,Lm);Nt[e]=new tn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Nt[t]=new tn(t,1,!1,t.toLowerCase(),null,!1,!1)});Nt.xlinkHref=new tn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Nt[t]=new tn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Mm(t,e,n,r){var i=Nt.hasOwnProperty(e)?Nt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(w2(e,n,i,r)&&(n=null),r||i===null?v2(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Br=g2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ju=Symbol.for("react.element"),oo=Symbol.for("react.portal"),ao=Symbol.for("react.fragment"),Fm=Symbol.for("react.strict_mode"),Bf=Symbol.for("react.profiler"),l_=Symbol.for("react.provider"),u_=Symbol.for("react.context"),Vm=Symbol.for("react.forward_ref"),Hf=Symbol.for("react.suspense"),qf=Symbol.for("react.suspense_list"),zm=Symbol.for("react.memo"),ni=Symbol.for("react.lazy"),c_=Symbol.for("react.offscreen"),Bv=Symbol.iterator;function ba(t){return t===null||typeof t!="object"?null:(t=Bv&&t[Bv]||t["@@iterator"],typeof t=="function"?t:null)}var tt=Object.assign,Ud;function Da(t){if(Ud===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ud=e&&e[1]||""}return`
`+Ud+t}var $d=!1;function Bd(t,e){if(!t||$d)return"";$d=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{$d=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Da(t):""}function _2(t){switch(t.tag){case 5:return Da(t.type);case 16:return Da("Lazy");case 13:return Da("Suspense");case 19:return Da("SuspenseList");case 0:case 2:case 15:return t=Bd(t.type,!1),t;case 11:return t=Bd(t.type.render,!1),t;case 1:return t=Bd(t.type,!0),t;default:return""}}function Wf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ao:return"Fragment";case oo:return"Portal";case Bf:return"Profiler";case Fm:return"StrictMode";case Hf:return"Suspense";case qf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case u_:return(t.displayName||"Context")+".Consumer";case l_:return(t._context.displayName||"Context")+".Provider";case Vm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case zm:return e=t.displayName||null,e!==null?e:Wf(t.type)||"Memo";case ni:e=t._payload,t=t._init;try{return Wf(t(e))}catch{}}return null}function E2(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Wf(e);case 8:return e===Fm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ri(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function h_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function b2(t){var e=h_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Du(t){t._valueTracker||(t._valueTracker=b2(t))}function d_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=h_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Oc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Gf(t,e){var n=e.checked;return tt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Hv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ri(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function f_(t,e){e=e.checked,e!=null&&Mm(t,"checked",e,!1)}function Kf(t,e){f_(t,e);var n=Ri(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Qf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Qf(t,e.type,Ri(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function qv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Qf(t,e,n){(e!=="number"||Oc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Oa=Array.isArray;function _o(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ri(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Yf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(G(91));return tt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Wv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(G(92));if(Oa(n)){if(1<n.length)throw Error(G(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ri(n)}}function p_(t,e){var n=Ri(e.value),r=Ri(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Gv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function m_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?m_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ou,g_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ou=Ou||document.createElement("div"),Ou.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ou.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function fl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Wa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},k2=["Webkit","ms","Moz","O"];Object.keys(Wa).forEach(function(t){k2.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Wa[e]=Wa[t]})});function y_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Wa.hasOwnProperty(t)&&Wa[t]?(""+e).trim():e+"px"}function v_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=y_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var S2=tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xf(t,e){if(e){if(S2[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(G(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(G(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(G(61))}if(e.style!=null&&typeof e.style!="object")throw Error(G(62))}}function Zf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ep=null;function Um(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var tp=null,Eo=null,bo=null;function Kv(t){if(t=Ql(t)){if(typeof tp!="function")throw Error(G(280));var e=t.stateNode;e&&(e=$h(e),tp(t.stateNode,t.type,e))}}function x_(t){Eo?bo?bo.push(t):bo=[t]:Eo=t}function w_(){if(Eo){var t=Eo,e=bo;if(bo=Eo=null,Kv(t),e)for(t=0;t<e.length;t++)Kv(e[t])}}function __(t,e){return t(e)}function E_(){}var Hd=!1;function b_(t,e,n){if(Hd)return t(e,n);Hd=!0;try{return __(t,e,n)}finally{Hd=!1,(Eo!==null||bo!==null)&&(E_(),w_())}}function pl(t,e){var n=t.stateNode;if(n===null)return null;var r=$h(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(G(231,e,typeof n));return n}var np=!1;if(Dr)try{var ka={};Object.defineProperty(ka,"passive",{get:function(){np=!0}}),window.addEventListener("test",ka,ka),window.removeEventListener("test",ka,ka)}catch{np=!1}function T2(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Ga=!1,Lc=null,Mc=!1,rp=null,I2={onError:function(t){Ga=!0,Lc=t}};function C2(t,e,n,r,i,s,o,a,l){Ga=!1,Lc=null,T2.apply(I2,arguments)}function A2(t,e,n,r,i,s,o,a,l){if(C2.apply(this,arguments),Ga){if(Ga){var c=Lc;Ga=!1,Lc=null}else throw Error(G(198));Mc||(Mc=!0,rp=c)}}function Fs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function k_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Qv(t){if(Fs(t)!==t)throw Error(G(188))}function N2(t){var e=t.alternate;if(!e){if(e=Fs(t),e===null)throw Error(G(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Qv(i),t;if(s===r)return Qv(i),e;s=s.sibling}throw Error(G(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(G(189))}}if(n.alternate!==r)throw Error(G(190))}if(n.tag!==3)throw Error(G(188));return n.stateNode.current===n?t:e}function S_(t){return t=N2(t),t!==null?T_(t):null}function T_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=T_(t);if(e!==null)return e;t=t.sibling}return null}var I_=En.unstable_scheduleCallback,Yv=En.unstable_cancelCallback,P2=En.unstable_shouldYield,R2=En.unstable_requestPaint,at=En.unstable_now,j2=En.unstable_getCurrentPriorityLevel,$m=En.unstable_ImmediatePriority,C_=En.unstable_UserBlockingPriority,Fc=En.unstable_NormalPriority,D2=En.unstable_LowPriority,A_=En.unstable_IdlePriority,Fh=null,ur=null;function O2(t){if(ur&&typeof ur.onCommitFiberRoot=="function")try{ur.onCommitFiberRoot(Fh,t,void 0,(t.current.flags&128)===128)}catch{}}var Gn=Math.clz32?Math.clz32:F2,L2=Math.log,M2=Math.LN2;function F2(t){return t>>>=0,t===0?32:31-(L2(t)/M2|0)|0}var Lu=64,Mu=4194304;function La(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Vc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=La(a):(s&=o,s!==0&&(r=La(s)))}else o=n&~i,o!==0?r=La(o):s!==0&&(r=La(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Gn(e),i=1<<n,r|=t[n],e&=~i;return r}function V2(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function z2(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Gn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=V2(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function ip(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function N_(){var t=Lu;return Lu<<=1,!(Lu&4194240)&&(Lu=64),t}function qd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Gl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Gn(e),t[e]=n}function U2(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Gn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Bm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Gn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ve=0;function P_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var R_,Hm,j_,D_,O_,sp=!1,Fu=[],gi=null,yi=null,vi=null,ml=new Map,gl=new Map,si=[],$2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jv(t,e){switch(t){case"focusin":case"focusout":gi=null;break;case"dragenter":case"dragleave":yi=null;break;case"mouseover":case"mouseout":vi=null;break;case"pointerover":case"pointerout":ml.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":gl.delete(e.pointerId)}}function Sa(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ql(e),e!==null&&Hm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function B2(t,e,n,r,i){switch(e){case"focusin":return gi=Sa(gi,t,e,n,r,i),!0;case"dragenter":return yi=Sa(yi,t,e,n,r,i),!0;case"mouseover":return vi=Sa(vi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ml.set(s,Sa(ml.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,gl.set(s,Sa(gl.get(s)||null,t,e,n,r,i)),!0}return!1}function L_(t){var e=gs(t.target);if(e!==null){var n=Fs(e);if(n!==null){if(e=n.tag,e===13){if(e=k_(n),e!==null){t.blockedOn=e,O_(t.priority,function(){j_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function cc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=op(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ep=r,n.target.dispatchEvent(r),ep=null}else return e=Ql(n),e!==null&&Hm(e),t.blockedOn=n,!1;e.shift()}return!0}function Xv(t,e,n){cc(t)&&n.delete(e)}function H2(){sp=!1,gi!==null&&cc(gi)&&(gi=null),yi!==null&&cc(yi)&&(yi=null),vi!==null&&cc(vi)&&(vi=null),ml.forEach(Xv),gl.forEach(Xv)}function Ta(t,e){t.blockedOn===e&&(t.blockedOn=null,sp||(sp=!0,En.unstable_scheduleCallback(En.unstable_NormalPriority,H2)))}function yl(t){function e(i){return Ta(i,t)}if(0<Fu.length){Ta(Fu[0],t);for(var n=1;n<Fu.length;n++){var r=Fu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(gi!==null&&Ta(gi,t),yi!==null&&Ta(yi,t),vi!==null&&Ta(vi,t),ml.forEach(e),gl.forEach(e),n=0;n<si.length;n++)r=si[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<si.length&&(n=si[0],n.blockedOn===null);)L_(n),n.blockedOn===null&&si.shift()}var ko=Br.ReactCurrentBatchConfig,zc=!0;function q2(t,e,n,r){var i=Ve,s=ko.transition;ko.transition=null;try{Ve=1,qm(t,e,n,r)}finally{Ve=i,ko.transition=s}}function W2(t,e,n,r){var i=Ve,s=ko.transition;ko.transition=null;try{Ve=4,qm(t,e,n,r)}finally{Ve=i,ko.transition=s}}function qm(t,e,n,r){if(zc){var i=op(t,e,n,r);if(i===null)tf(t,e,r,Uc,n),Jv(t,r);else if(B2(i,t,e,n,r))r.stopPropagation();else if(Jv(t,r),e&4&&-1<$2.indexOf(t)){for(;i!==null;){var s=Ql(i);if(s!==null&&R_(s),s=op(t,e,n,r),s===null&&tf(t,e,r,Uc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else tf(t,e,r,null,n)}}var Uc=null;function op(t,e,n,r){if(Uc=null,t=Um(r),t=gs(t),t!==null)if(e=Fs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=k_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Uc=t,null}function M_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(j2()){case $m:return 1;case C_:return 4;case Fc:case D2:return 16;case A_:return 536870912;default:return 16}default:return 16}}var hi=null,Wm=null,hc=null;function F_(){if(hc)return hc;var t,e=Wm,n=e.length,r,i="value"in hi?hi.value:hi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return hc=i.slice(t,1<r?1-r:void 0)}function dc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Vu(){return!0}function Zv(){return!1}function kn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Vu:Zv,this.isPropagationStopped=Zv,this}return tt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Vu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Vu)},persist:function(){},isPersistent:Vu}),e}var Jo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gm=kn(Jo),Kl=tt({},Jo,{view:0,detail:0}),G2=kn(Kl),Wd,Gd,Ia,Vh=tt({},Kl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Km,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ia&&(Ia&&t.type==="mousemove"?(Wd=t.screenX-Ia.screenX,Gd=t.screenY-Ia.screenY):Gd=Wd=0,Ia=t),Wd)},movementY:function(t){return"movementY"in t?t.movementY:Gd}}),e0=kn(Vh),K2=tt({},Vh,{dataTransfer:0}),Q2=kn(K2),Y2=tt({},Kl,{relatedTarget:0}),Kd=kn(Y2),J2=tt({},Jo,{animationName:0,elapsedTime:0,pseudoElement:0}),X2=kn(J2),Z2=tt({},Jo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),eC=kn(Z2),tC=tt({},Jo,{data:0}),t0=kn(tC),nC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=iC[t])?!!e[t]:!1}function Km(){return sC}var oC=tt({},Kl,{key:function(t){if(t.key){var e=nC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=dc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?rC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Km,charCode:function(t){return t.type==="keypress"?dc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?dc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),aC=kn(oC),lC=tt({},Vh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),n0=kn(lC),uC=tt({},Kl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Km}),cC=kn(uC),hC=tt({},Jo,{propertyName:0,elapsedTime:0,pseudoElement:0}),dC=kn(hC),fC=tt({},Vh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),pC=kn(fC),mC=[9,13,27,32],Qm=Dr&&"CompositionEvent"in window,Ka=null;Dr&&"documentMode"in document&&(Ka=document.documentMode);var gC=Dr&&"TextEvent"in window&&!Ka,V_=Dr&&(!Qm||Ka&&8<Ka&&11>=Ka),r0=" ",i0=!1;function z_(t,e){switch(t){case"keyup":return mC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function U_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var lo=!1;function yC(t,e){switch(t){case"compositionend":return U_(e);case"keypress":return e.which!==32?null:(i0=!0,r0);case"textInput":return t=e.data,t===r0&&i0?null:t;default:return null}}function vC(t,e){if(lo)return t==="compositionend"||!Qm&&z_(t,e)?(t=F_(),hc=Wm=hi=null,lo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return V_&&e.locale!=="ko"?null:e.data;default:return null}}var xC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function s0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!xC[t.type]:e==="textarea"}function $_(t,e,n,r){x_(r),e=$c(e,"onChange"),0<e.length&&(n=new Gm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Qa=null,vl=null;function wC(t){Z_(t,0)}function zh(t){var e=ho(t);if(d_(e))return t}function _C(t,e){if(t==="change")return e}var B_=!1;if(Dr){var Qd;if(Dr){var Yd="oninput"in document;if(!Yd){var o0=document.createElement("div");o0.setAttribute("oninput","return;"),Yd=typeof o0.oninput=="function"}Qd=Yd}else Qd=!1;B_=Qd&&(!document.documentMode||9<document.documentMode)}function a0(){Qa&&(Qa.detachEvent("onpropertychange",H_),vl=Qa=null)}function H_(t){if(t.propertyName==="value"&&zh(vl)){var e=[];$_(e,vl,t,Um(t)),b_(wC,e)}}function EC(t,e,n){t==="focusin"?(a0(),Qa=e,vl=n,Qa.attachEvent("onpropertychange",H_)):t==="focusout"&&a0()}function bC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zh(vl)}function kC(t,e){if(t==="click")return zh(e)}function SC(t,e){if(t==="input"||t==="change")return zh(e)}function TC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Jn=typeof Object.is=="function"?Object.is:TC;function xl(t,e){if(Jn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!$f.call(e,i)||!Jn(t[i],e[i]))return!1}return!0}function l0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function u0(t,e){var n=l0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=l0(n)}}function q_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?q_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function W_(){for(var t=window,e=Oc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Oc(t.document)}return e}function Ym(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function IC(t){var e=W_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&q_(n.ownerDocument.documentElement,n)){if(r!==null&&Ym(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=u0(n,s);var o=u0(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var CC=Dr&&"documentMode"in document&&11>=document.documentMode,uo=null,ap=null,Ya=null,lp=!1;function c0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;lp||uo==null||uo!==Oc(r)||(r=uo,"selectionStart"in r&&Ym(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ya&&xl(Ya,r)||(Ya=r,r=$c(ap,"onSelect"),0<r.length&&(e=new Gm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=uo)))}function zu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var co={animationend:zu("Animation","AnimationEnd"),animationiteration:zu("Animation","AnimationIteration"),animationstart:zu("Animation","AnimationStart"),transitionend:zu("Transition","TransitionEnd")},Jd={},G_={};Dr&&(G_=document.createElement("div").style,"AnimationEvent"in window||(delete co.animationend.animation,delete co.animationiteration.animation,delete co.animationstart.animation),"TransitionEvent"in window||delete co.transitionend.transition);function Uh(t){if(Jd[t])return Jd[t];if(!co[t])return t;var e=co[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in G_)return Jd[t]=e[n];return t}var K_=Uh("animationend"),Q_=Uh("animationiteration"),Y_=Uh("animationstart"),J_=Uh("transitionend"),X_=new Map,h0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ui(t,e){X_.set(t,e),Ms(e,[t])}for(var Xd=0;Xd<h0.length;Xd++){var Zd=h0[Xd],AC=Zd.toLowerCase(),NC=Zd[0].toUpperCase()+Zd.slice(1);Ui(AC,"on"+NC)}Ui(K_,"onAnimationEnd");Ui(Q_,"onAnimationIteration");Ui(Y_,"onAnimationStart");Ui("dblclick","onDoubleClick");Ui("focusin","onFocus");Ui("focusout","onBlur");Ui(J_,"onTransitionEnd");Ro("onMouseEnter",["mouseout","mouseover"]);Ro("onMouseLeave",["mouseout","mouseover"]);Ro("onPointerEnter",["pointerout","pointerover"]);Ro("onPointerLeave",["pointerout","pointerover"]);Ms("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ms("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ms("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ms("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ms("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ms("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ma="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ma));function d0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,A2(r,e,void 0,t),t.currentTarget=null}function Z_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;d0(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;d0(i,a,c),s=l}}}if(Mc)throw t=rp,Mc=!1,rp=null,t}function Ke(t,e){var n=e[fp];n===void 0&&(n=e[fp]=new Set);var r=t+"__bubble";n.has(r)||(eE(e,t,2,!1),n.add(r))}function ef(t,e,n){var r=0;e&&(r|=4),eE(n,t,r,e)}var Uu="_reactListening"+Math.random().toString(36).slice(2);function wl(t){if(!t[Uu]){t[Uu]=!0,a_.forEach(function(n){n!=="selectionchange"&&(PC.has(n)||ef(n,!1,t),ef(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Uu]||(e[Uu]=!0,ef("selectionchange",!1,e))}}function eE(t,e,n,r){switch(M_(e)){case 1:var i=q2;break;case 4:i=W2;break;default:i=qm}n=i.bind(null,e,n,t),i=void 0,!np||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function tf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=gs(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}b_(function(){var c=s,d=Um(n),f=[];e:{var p=X_.get(t);if(p!==void 0){var g=Gm,w=t;switch(t){case"keypress":if(dc(n)===0)break e;case"keydown":case"keyup":g=aC;break;case"focusin":w="focus",g=Kd;break;case"focusout":w="blur",g=Kd;break;case"beforeblur":case"afterblur":g=Kd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=e0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Q2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=cC;break;case K_:case Q_:case Y_:g=X2;break;case J_:g=dC;break;case"scroll":g=G2;break;case"wheel":g=pC;break;case"copy":case"cut":case"paste":g=eC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=n0}var T=(e&4)!==0,I=!T&&t==="scroll",E=T?p!==null?p+"Capture":null:p;T=[];for(var v=c,x;v!==null;){x=v;var N=x.stateNode;if(x.tag===5&&N!==null&&(x=N,E!==null&&(N=pl(v,E),N!=null&&T.push(_l(v,N,x)))),I)break;v=v.return}0<T.length&&(p=new g(p,w,null,n,d),f.push({event:p,listeners:T}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==ep&&(w=n.relatedTarget||n.fromElement)&&(gs(w)||w[Or]))break e;if((g||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,g?(w=n.relatedTarget||n.toElement,g=c,w=w?gs(w):null,w!==null&&(I=Fs(w),w!==I||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=c),g!==w)){if(T=e0,N="onMouseLeave",E="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(T=n0,N="onPointerLeave",E="onPointerEnter",v="pointer"),I=g==null?p:ho(g),x=w==null?p:ho(w),p=new T(N,v+"leave",g,n,d),p.target=I,p.relatedTarget=x,N=null,gs(d)===c&&(T=new T(E,v+"enter",w,n,d),T.target=x,T.relatedTarget=I,N=T),I=N,g&&w)t:{for(T=g,E=w,v=0,x=T;x;x=Js(x))v++;for(x=0,N=E;N;N=Js(N))x++;for(;0<v-x;)T=Js(T),v--;for(;0<x-v;)E=Js(E),x--;for(;v--;){if(T===E||E!==null&&T===E.alternate)break t;T=Js(T),E=Js(E)}T=null}else T=null;g!==null&&f0(f,p,g,T,!1),w!==null&&I!==null&&f0(f,I,w,T,!0)}}e:{if(p=c?ho(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var O=_C;else if(s0(p))if(B_)O=SC;else{O=bC;var A=EC}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(O=kC);if(O&&(O=O(t,c))){$_(f,O,n,d);break e}A&&A(t,p,c),t==="focusout"&&(A=p._wrapperState)&&A.controlled&&p.type==="number"&&Qf(p,"number",p.value)}switch(A=c?ho(c):window,t){case"focusin":(s0(A)||A.contentEditable==="true")&&(uo=A,ap=c,Ya=null);break;case"focusout":Ya=ap=uo=null;break;case"mousedown":lp=!0;break;case"contextmenu":case"mouseup":case"dragend":lp=!1,c0(f,n,d);break;case"selectionchange":if(CC)break;case"keydown":case"keyup":c0(f,n,d)}var k;if(Qm)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else lo?z_(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(V_&&n.locale!=="ko"&&(lo||b!=="onCompositionStart"?b==="onCompositionEnd"&&lo&&(k=F_()):(hi=d,Wm="value"in hi?hi.value:hi.textContent,lo=!0)),A=$c(c,b),0<A.length&&(b=new t0(b,t,null,n,d),f.push({event:b,listeners:A}),k?b.data=k:(k=U_(n),k!==null&&(b.data=k)))),(k=gC?yC(t,n):vC(t,n))&&(c=$c(c,"onBeforeInput"),0<c.length&&(d=new t0("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=k))}Z_(f,e)})}function _l(t,e,n){return{instance:t,listener:e,currentTarget:n}}function $c(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=pl(t,n),s!=null&&r.unshift(_l(t,s,i)),s=pl(t,e),s!=null&&r.push(_l(t,s,i))),t=t.return}return r}function Js(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function f0(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=pl(n,s),l!=null&&o.unshift(_l(n,l,a))):i||(l=pl(n,s),l!=null&&o.push(_l(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var RC=/\r\n?/g,jC=/\u0000|\uFFFD/g;function p0(t){return(typeof t=="string"?t:""+t).replace(RC,`
`).replace(jC,"")}function $u(t,e,n){if(e=p0(e),p0(t)!==e&&n)throw Error(G(425))}function Bc(){}var up=null,cp=null;function hp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var dp=typeof setTimeout=="function"?setTimeout:void 0,DC=typeof clearTimeout=="function"?clearTimeout:void 0,m0=typeof Promise=="function"?Promise:void 0,OC=typeof queueMicrotask=="function"?queueMicrotask:typeof m0<"u"?function(t){return m0.resolve(null).then(t).catch(LC)}:dp;function LC(t){setTimeout(function(){throw t})}function nf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),yl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);yl(e)}function xi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function g0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Xo=Math.random().toString(36).slice(2),ar="__reactFiber$"+Xo,El="__reactProps$"+Xo,Or="__reactContainer$"+Xo,fp="__reactEvents$"+Xo,MC="__reactListeners$"+Xo,FC="__reactHandles$"+Xo;function gs(t){var e=t[ar];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Or]||n[ar]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=g0(t);t!==null;){if(n=t[ar])return n;t=g0(t)}return e}t=n,n=t.parentNode}return null}function Ql(t){return t=t[ar]||t[Or],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ho(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(G(33))}function $h(t){return t[El]||null}var pp=[],fo=-1;function $i(t){return{current:t}}function Ye(t){0>fo||(t.current=pp[fo],pp[fo]=null,fo--)}function He(t,e){fo++,pp[fo]=t.current,t.current=e}var ji={},$t=$i(ji),cn=$i(!1),Ss=ji;function jo(t,e){var n=t.type.contextTypes;if(!n)return ji;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function hn(t){return t=t.childContextTypes,t!=null}function Hc(){Ye(cn),Ye($t)}function y0(t,e,n){if($t.current!==ji)throw Error(G(168));He($t,e),He(cn,n)}function tE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(G(108,E2(t)||"Unknown",i));return tt({},n,r)}function qc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ji,Ss=$t.current,He($t,t),He(cn,cn.current),!0}function v0(t,e,n){var r=t.stateNode;if(!r)throw Error(G(169));n?(t=tE(t,e,Ss),r.__reactInternalMemoizedMergedChildContext=t,Ye(cn),Ye($t),He($t,t)):Ye(cn),He(cn,n)}var Ir=null,Bh=!1,rf=!1;function nE(t){Ir===null?Ir=[t]:Ir.push(t)}function VC(t){Bh=!0,nE(t)}function Bi(){if(!rf&&Ir!==null){rf=!0;var t=0,e=Ve;try{var n=Ir;for(Ve=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ir=null,Bh=!1}catch(i){throw Ir!==null&&(Ir=Ir.slice(t+1)),I_($m,Bi),i}finally{Ve=e,rf=!1}}return null}var po=[],mo=0,Wc=null,Gc=0,In=[],Cn=0,Ts=null,Ar=1,Nr="";function hs(t,e){po[mo++]=Gc,po[mo++]=Wc,Wc=t,Gc=e}function rE(t,e,n){In[Cn++]=Ar,In[Cn++]=Nr,In[Cn++]=Ts,Ts=t;var r=Ar;t=Nr;var i=32-Gn(r)-1;r&=~(1<<i),n+=1;var s=32-Gn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ar=1<<32-Gn(e)+i|n<<i|r,Nr=s+t}else Ar=1<<s|n<<i|r,Nr=t}function Jm(t){t.return!==null&&(hs(t,1),rE(t,1,0))}function Xm(t){for(;t===Wc;)Wc=po[--mo],po[mo]=null,Gc=po[--mo],po[mo]=null;for(;t===Ts;)Ts=In[--Cn],In[Cn]=null,Nr=In[--Cn],In[Cn]=null,Ar=In[--Cn],In[Cn]=null}var wn=null,vn=null,Je=!1,qn=null;function iE(t,e){var n=Rn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function x0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,wn=t,vn=xi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,wn=t,vn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ts!==null?{id:Ar,overflow:Nr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Rn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,wn=t,vn=null,!0):!1;default:return!1}}function mp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function gp(t){if(Je){var e=vn;if(e){var n=e;if(!x0(t,e)){if(mp(t))throw Error(G(418));e=xi(n.nextSibling);var r=wn;e&&x0(t,e)?iE(r,n):(t.flags=t.flags&-4097|2,Je=!1,wn=t)}}else{if(mp(t))throw Error(G(418));t.flags=t.flags&-4097|2,Je=!1,wn=t}}}function w0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;wn=t}function Bu(t){if(t!==wn)return!1;if(!Je)return w0(t),Je=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!hp(t.type,t.memoizedProps)),e&&(e=vn)){if(mp(t))throw sE(),Error(G(418));for(;e;)iE(t,e),e=xi(e.nextSibling)}if(w0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(G(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){vn=xi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}vn=null}}else vn=wn?xi(t.stateNode.nextSibling):null;return!0}function sE(){for(var t=vn;t;)t=xi(t.nextSibling)}function Do(){vn=wn=null,Je=!1}function Zm(t){qn===null?qn=[t]:qn.push(t)}var zC=Br.ReactCurrentBatchConfig;function Ca(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(G(309));var r=n.stateNode}if(!r)throw Error(G(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(G(284));if(!n._owner)throw Error(G(290,t))}return t}function Hu(t,e){throw t=Object.prototype.toString.call(e),Error(G(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function _0(t){var e=t._init;return e(t._payload)}function oE(t){function e(E,v){if(t){var x=E.deletions;x===null?(E.deletions=[v],E.flags|=16):x.push(v)}}function n(E,v){if(!t)return null;for(;v!==null;)e(E,v),v=v.sibling;return null}function r(E,v){for(E=new Map;v!==null;)v.key!==null?E.set(v.key,v):E.set(v.index,v),v=v.sibling;return E}function i(E,v){return E=bi(E,v),E.index=0,E.sibling=null,E}function s(E,v,x){return E.index=x,t?(x=E.alternate,x!==null?(x=x.index,x<v?(E.flags|=2,v):x):(E.flags|=2,v)):(E.flags|=1048576,v)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,v,x,N){return v===null||v.tag!==6?(v=hf(x,E.mode,N),v.return=E,v):(v=i(v,x),v.return=E,v)}function l(E,v,x,N){var O=x.type;return O===ao?d(E,v,x.props.children,N,x.key):v!==null&&(v.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===ni&&_0(O)===v.type)?(N=i(v,x.props),N.ref=Ca(E,v,x),N.return=E,N):(N=xc(x.type,x.key,x.props,null,E.mode,N),N.ref=Ca(E,v,x),N.return=E,N)}function c(E,v,x,N){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=df(x,E.mode,N),v.return=E,v):(v=i(v,x.children||[]),v.return=E,v)}function d(E,v,x,N,O){return v===null||v.tag!==7?(v=bs(x,E.mode,N,O),v.return=E,v):(v=i(v,x),v.return=E,v)}function f(E,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=hf(""+v,E.mode,x),v.return=E,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ju:return x=xc(v.type,v.key,v.props,null,E.mode,x),x.ref=Ca(E,null,v),x.return=E,x;case oo:return v=df(v,E.mode,x),v.return=E,v;case ni:var N=v._init;return f(E,N(v._payload),x)}if(Oa(v)||ba(v))return v=bs(v,E.mode,x,null),v.return=E,v;Hu(E,v)}return null}function p(E,v,x,N){var O=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return O!==null?null:a(E,v,""+x,N);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ju:return x.key===O?l(E,v,x,N):null;case oo:return x.key===O?c(E,v,x,N):null;case ni:return O=x._init,p(E,v,O(x._payload),N)}if(Oa(x)||ba(x))return O!==null?null:d(E,v,x,N,null);Hu(E,x)}return null}function g(E,v,x,N,O){if(typeof N=="string"&&N!==""||typeof N=="number")return E=E.get(x)||null,a(v,E,""+N,O);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case ju:return E=E.get(N.key===null?x:N.key)||null,l(v,E,N,O);case oo:return E=E.get(N.key===null?x:N.key)||null,c(v,E,N,O);case ni:var A=N._init;return g(E,v,x,A(N._payload),O)}if(Oa(N)||ba(N))return E=E.get(x)||null,d(v,E,N,O,null);Hu(v,N)}return null}function w(E,v,x,N){for(var O=null,A=null,k=v,b=v=0,S=null;k!==null&&b<x.length;b++){k.index>b?(S=k,k=null):S=k.sibling;var _=p(E,k,x[b],N);if(_===null){k===null&&(k=S);break}t&&k&&_.alternate===null&&e(E,k),v=s(_,v,b),A===null?O=_:A.sibling=_,A=_,k=S}if(b===x.length)return n(E,k),Je&&hs(E,b),O;if(k===null){for(;b<x.length;b++)k=f(E,x[b],N),k!==null&&(v=s(k,v,b),A===null?O=k:A.sibling=k,A=k);return Je&&hs(E,b),O}for(k=r(E,k);b<x.length;b++)S=g(k,E,b,x[b],N),S!==null&&(t&&S.alternate!==null&&k.delete(S.key===null?b:S.key),v=s(S,v,b),A===null?O=S:A.sibling=S,A=S);return t&&k.forEach(function(P){return e(E,P)}),Je&&hs(E,b),O}function T(E,v,x,N){var O=ba(x);if(typeof O!="function")throw Error(G(150));if(x=O.call(x),x==null)throw Error(G(151));for(var A=O=null,k=v,b=v=0,S=null,_=x.next();k!==null&&!_.done;b++,_=x.next()){k.index>b?(S=k,k=null):S=k.sibling;var P=p(E,k,_.value,N);if(P===null){k===null&&(k=S);break}t&&k&&P.alternate===null&&e(E,k),v=s(P,v,b),A===null?O=P:A.sibling=P,A=P,k=S}if(_.done)return n(E,k),Je&&hs(E,b),O;if(k===null){for(;!_.done;b++,_=x.next())_=f(E,_.value,N),_!==null&&(v=s(_,v,b),A===null?O=_:A.sibling=_,A=_);return Je&&hs(E,b),O}for(k=r(E,k);!_.done;b++,_=x.next())_=g(k,E,b,_.value,N),_!==null&&(t&&_.alternate!==null&&k.delete(_.key===null?b:_.key),v=s(_,v,b),A===null?O=_:A.sibling=_,A=_);return t&&k.forEach(function(D){return e(E,D)}),Je&&hs(E,b),O}function I(E,v,x,N){if(typeof x=="object"&&x!==null&&x.type===ao&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case ju:e:{for(var O=x.key,A=v;A!==null;){if(A.key===O){if(O=x.type,O===ao){if(A.tag===7){n(E,A.sibling),v=i(A,x.props.children),v.return=E,E=v;break e}}else if(A.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===ni&&_0(O)===A.type){n(E,A.sibling),v=i(A,x.props),v.ref=Ca(E,A,x),v.return=E,E=v;break e}n(E,A);break}else e(E,A);A=A.sibling}x.type===ao?(v=bs(x.props.children,E.mode,N,x.key),v.return=E,E=v):(N=xc(x.type,x.key,x.props,null,E.mode,N),N.ref=Ca(E,v,x),N.return=E,E=N)}return o(E);case oo:e:{for(A=x.key;v!==null;){if(v.key===A)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){n(E,v.sibling),v=i(v,x.children||[]),v.return=E,E=v;break e}else{n(E,v);break}else e(E,v);v=v.sibling}v=df(x,E.mode,N),v.return=E,E=v}return o(E);case ni:return A=x._init,I(E,v,A(x._payload),N)}if(Oa(x))return w(E,v,x,N);if(ba(x))return T(E,v,x,N);Hu(E,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(n(E,v.sibling),v=i(v,x),v.return=E,E=v):(n(E,v),v=hf(x,E.mode,N),v.return=E,E=v),o(E)):n(E,v)}return I}var Oo=oE(!0),aE=oE(!1),Kc=$i(null),Qc=null,go=null,eg=null;function tg(){eg=go=Qc=null}function ng(t){var e=Kc.current;Ye(Kc),t._currentValue=e}function yp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function So(t,e){Qc=t,eg=go=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(un=!0),t.firstContext=null)}function Dn(t){var e=t._currentValue;if(eg!==t)if(t={context:t,memoizedValue:e,next:null},go===null){if(Qc===null)throw Error(G(308));go=t,Qc.dependencies={lanes:0,firstContext:t}}else go=go.next=t;return e}var ys=null;function rg(t){ys===null?ys=[t]:ys.push(t)}function lE(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,rg(e)):(n.next=i.next,i.next=n),e.interleaved=n,Lr(t,r)}function Lr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ri=!1;function ig(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function jr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function wi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,De&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Lr(t,n)}return i=r.interleaved,i===null?(e.next=e,rg(r)):(e.next=i.next,i.next=e),r.interleaved=e,Lr(t,n)}function fc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Bm(t,n)}}function E0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Yc(t,e,n,r){var i=t.updateQueue;ri=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,d=c=l=null,a=s;do{var p=a.lane,g=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,T=a;switch(p=e,g=n,T.tag){case 1:if(w=T.payload,typeof w=="function"){f=w.call(g,f,p);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=T.payload,p=typeof w=="function"?w.call(g,f,p):w,p==null)break e;f=tt({},f,p);break e;case 2:ri=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,l=f):d=d.next=g,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Cs|=o,t.lanes=o,t.memoizedState=f}}function b0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(G(191,i));i.call(r)}}}var Yl={},cr=$i(Yl),bl=$i(Yl),kl=$i(Yl);function vs(t){if(t===Yl)throw Error(G(174));return t}function sg(t,e){switch(He(kl,e),He(bl,t),He(cr,Yl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Jf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Jf(e,t)}Ye(cr),He(cr,e)}function Lo(){Ye(cr),Ye(bl),Ye(kl)}function cE(t){vs(kl.current);var e=vs(cr.current),n=Jf(e,t.type);e!==n&&(He(bl,t),He(cr,n))}function og(t){bl.current===t&&(Ye(cr),Ye(bl))}var Xe=$i(0);function Jc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var sf=[];function ag(){for(var t=0;t<sf.length;t++)sf[t]._workInProgressVersionPrimary=null;sf.length=0}var pc=Br.ReactCurrentDispatcher,of=Br.ReactCurrentBatchConfig,Is=0,et=null,pt=null,Et=null,Xc=!1,Ja=!1,Sl=0,UC=0;function Dt(){throw Error(G(321))}function lg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Jn(t[n],e[n]))return!1;return!0}function ug(t,e,n,r,i,s){if(Is=s,et=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,pc.current=t===null||t.memoizedState===null?qC:WC,t=n(r,i),Ja){s=0;do{if(Ja=!1,Sl=0,25<=s)throw Error(G(301));s+=1,Et=pt=null,e.updateQueue=null,pc.current=GC,t=n(r,i)}while(Ja)}if(pc.current=Zc,e=pt!==null&&pt.next!==null,Is=0,Et=pt=et=null,Xc=!1,e)throw Error(G(300));return t}function cg(){var t=Sl!==0;return Sl=0,t}function rr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?et.memoizedState=Et=t:Et=Et.next=t,Et}function On(){if(pt===null){var t=et.alternate;t=t!==null?t.memoizedState:null}else t=pt.next;var e=Et===null?et.memoizedState:Et.next;if(e!==null)Et=e,pt=t;else{if(t===null)throw Error(G(310));pt=t,t={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Et===null?et.memoizedState=Et=t:Et=Et.next=t}return Et}function Tl(t,e){return typeof e=="function"?e(t):e}function af(t){var e=On(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=pt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((Is&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,et.lanes|=d,Cs|=d}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Jn(r,e.memoizedState)||(un=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,et.lanes|=s,Cs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function lf(t){var e=On(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Jn(s,e.memoizedState)||(un=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function hE(){}function dE(t,e){var n=et,r=On(),i=e(),s=!Jn(r.memoizedState,i);if(s&&(r.memoizedState=i,un=!0),r=r.queue,hg(mE.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Et!==null&&Et.memoizedState.tag&1){if(n.flags|=2048,Il(9,pE.bind(null,n,r,i,e),void 0,null),bt===null)throw Error(G(349));Is&30||fE(n,e,i)}return i}function fE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function pE(t,e,n,r){e.value=n,e.getSnapshot=r,gE(e)&&yE(t)}function mE(t,e,n){return n(function(){gE(e)&&yE(t)})}function gE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Jn(t,n)}catch{return!0}}function yE(t){var e=Lr(t,1);e!==null&&Kn(e,t,1,-1)}function k0(t){var e=rr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tl,lastRenderedState:t},e.queue=t,t=t.dispatch=HC.bind(null,et,t),[e.memoizedState,t]}function Il(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function vE(){return On().memoizedState}function mc(t,e,n,r){var i=rr();et.flags|=t,i.memoizedState=Il(1|e,n,void 0,r===void 0?null:r)}function Hh(t,e,n,r){var i=On();r=r===void 0?null:r;var s=void 0;if(pt!==null){var o=pt.memoizedState;if(s=o.destroy,r!==null&&lg(r,o.deps)){i.memoizedState=Il(e,n,s,r);return}}et.flags|=t,i.memoizedState=Il(1|e,n,s,r)}function S0(t,e){return mc(8390656,8,t,e)}function hg(t,e){return Hh(2048,8,t,e)}function xE(t,e){return Hh(4,2,t,e)}function wE(t,e){return Hh(4,4,t,e)}function _E(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function EE(t,e,n){return n=n!=null?n.concat([t]):null,Hh(4,4,_E.bind(null,e,t),n)}function dg(){}function bE(t,e){var n=On();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&lg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function kE(t,e){var n=On();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&lg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function SE(t,e,n){return Is&21?(Jn(n,e)||(n=N_(),et.lanes|=n,Cs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,un=!0),t.memoizedState=n)}function $C(t,e){var n=Ve;Ve=n!==0&&4>n?n:4,t(!0);var r=of.transition;of.transition={};try{t(!1),e()}finally{Ve=n,of.transition=r}}function TE(){return On().memoizedState}function BC(t,e,n){var r=Ei(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},IE(t))CE(e,n);else if(n=lE(t,e,n,r),n!==null){var i=Zt();Kn(n,t,r,i),AE(n,e,r)}}function HC(t,e,n){var r=Ei(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(IE(t))CE(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Jn(a,o)){var l=e.interleaved;l===null?(i.next=i,rg(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=lE(t,e,i,r),n!==null&&(i=Zt(),Kn(n,t,r,i),AE(n,e,r))}}function IE(t){var e=t.alternate;return t===et||e!==null&&e===et}function CE(t,e){Ja=Xc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function AE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Bm(t,n)}}var Zc={readContext:Dn,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},qC={readContext:Dn,useCallback:function(t,e){return rr().memoizedState=[t,e===void 0?null:e],t},useContext:Dn,useEffect:S0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,mc(4194308,4,_E.bind(null,e,t),n)},useLayoutEffect:function(t,e){return mc(4194308,4,t,e)},useInsertionEffect:function(t,e){return mc(4,2,t,e)},useMemo:function(t,e){var n=rr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=rr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=BC.bind(null,et,t),[r.memoizedState,t]},useRef:function(t){var e=rr();return t={current:t},e.memoizedState=t},useState:k0,useDebugValue:dg,useDeferredValue:function(t){return rr().memoizedState=t},useTransition:function(){var t=k0(!1),e=t[0];return t=$C.bind(null,t[1]),rr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=et,i=rr();if(Je){if(n===void 0)throw Error(G(407));n=n()}else{if(n=e(),bt===null)throw Error(G(349));Is&30||fE(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,S0(mE.bind(null,r,s,t),[t]),r.flags|=2048,Il(9,pE.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=rr(),e=bt.identifierPrefix;if(Je){var n=Nr,r=Ar;n=(r&~(1<<32-Gn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Sl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=UC++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},WC={readContext:Dn,useCallback:bE,useContext:Dn,useEffect:hg,useImperativeHandle:EE,useInsertionEffect:xE,useLayoutEffect:wE,useMemo:kE,useReducer:af,useRef:vE,useState:function(){return af(Tl)},useDebugValue:dg,useDeferredValue:function(t){var e=On();return SE(e,pt.memoizedState,t)},useTransition:function(){var t=af(Tl)[0],e=On().memoizedState;return[t,e]},useMutableSource:hE,useSyncExternalStore:dE,useId:TE,unstable_isNewReconciler:!1},GC={readContext:Dn,useCallback:bE,useContext:Dn,useEffect:hg,useImperativeHandle:EE,useInsertionEffect:xE,useLayoutEffect:wE,useMemo:kE,useReducer:lf,useRef:vE,useState:function(){return lf(Tl)},useDebugValue:dg,useDeferredValue:function(t){var e=On();return pt===null?e.memoizedState=t:SE(e,pt.memoizedState,t)},useTransition:function(){var t=lf(Tl)[0],e=On().memoizedState;return[t,e]},useMutableSource:hE,useSyncExternalStore:dE,useId:TE,unstable_isNewReconciler:!1};function Bn(t,e){if(t&&t.defaultProps){e=tt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function vp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:tt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var qh={isMounted:function(t){return(t=t._reactInternals)?Fs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Zt(),i=Ei(t),s=jr(r,i);s.payload=e,n!=null&&(s.callback=n),e=wi(t,s,i),e!==null&&(Kn(e,t,i,r),fc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Zt(),i=Ei(t),s=jr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=wi(t,s,i),e!==null&&(Kn(e,t,i,r),fc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Zt(),r=Ei(t),i=jr(n,r);i.tag=2,e!=null&&(i.callback=e),e=wi(t,i,r),e!==null&&(Kn(e,t,r,n),fc(e,t,r))}};function T0(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!xl(n,r)||!xl(i,s):!0}function NE(t,e,n){var r=!1,i=ji,s=e.contextType;return typeof s=="object"&&s!==null?s=Dn(s):(i=hn(e)?Ss:$t.current,r=e.contextTypes,s=(r=r!=null)?jo(t,i):ji),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=qh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function I0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&qh.enqueueReplaceState(e,e.state,null)}function xp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},ig(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Dn(s):(s=hn(e)?Ss:$t.current,i.context=jo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(vp(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&qh.enqueueReplaceState(i,i.state,null),Yc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Mo(t,e){try{var n="",r=e;do n+=_2(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function uf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function wp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var KC=typeof WeakMap=="function"?WeakMap:Map;function PE(t,e,n){n=jr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){th||(th=!0,Np=r),wp(t,e)},n}function RE(t,e,n){n=jr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){wp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){wp(t,e),typeof r!="function"&&(_i===null?_i=new Set([this]):_i.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function C0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new KC;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=lA.bind(null,t,e,n),e.then(t,t))}function A0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function N0(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=jr(-1,1),e.tag=2,wi(n,e,1))),n.lanes|=1),t)}var QC=Br.ReactCurrentOwner,un=!1;function Yt(t,e,n,r){e.child=t===null?aE(e,null,n,r):Oo(e,t.child,n,r)}function P0(t,e,n,r,i){n=n.render;var s=e.ref;return So(e,i),r=ug(t,e,n,r,s,i),n=cg(),t!==null&&!un?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Mr(t,e,i)):(Je&&n&&Jm(e),e.flags|=1,Yt(t,e,r,i),e.child)}function R0(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!wg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,jE(t,e,s,r,i)):(t=xc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:xl,n(o,r)&&t.ref===e.ref)return Mr(t,e,i)}return e.flags|=1,t=bi(s,r),t.ref=e.ref,t.return=e,e.child=t}function jE(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(xl(s,r)&&t.ref===e.ref)if(un=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(un=!0);else return e.lanes=t.lanes,Mr(t,e,i)}return _p(t,e,n,r,i)}function DE(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(vo,yn),yn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,He(vo,yn),yn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,He(vo,yn),yn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,He(vo,yn),yn|=r;return Yt(t,e,i,n),e.child}function OE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function _p(t,e,n,r,i){var s=hn(n)?Ss:$t.current;return s=jo(e,s),So(e,i),n=ug(t,e,n,r,s,i),r=cg(),t!==null&&!un?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Mr(t,e,i)):(Je&&r&&Jm(e),e.flags|=1,Yt(t,e,n,i),e.child)}function j0(t,e,n,r,i){if(hn(n)){var s=!0;qc(e)}else s=!1;if(So(e,i),e.stateNode===null)gc(t,e),NE(e,n,r),xp(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Dn(c):(c=hn(n)?Ss:$t.current,c=jo(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&I0(e,o,r,c),ri=!1;var p=e.memoizedState;o.state=p,Yc(e,r,o,i),l=e.memoizedState,a!==r||p!==l||cn.current||ri?(typeof d=="function"&&(vp(e,n,d,r),l=e.memoizedState),(a=ri||T0(e,n,a,r,p,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,uE(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Bn(e.type,a),o.props=c,f=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Dn(l):(l=hn(n)?Ss:$t.current,l=jo(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&I0(e,o,r,l),ri=!1,p=e.memoizedState,o.state=p,Yc(e,r,o,i);var w=e.memoizedState;a!==f||p!==w||cn.current||ri?(typeof g=="function"&&(vp(e,n,g,r),w=e.memoizedState),(c=ri||T0(e,n,c,r,p,w,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Ep(t,e,n,r,s,i)}function Ep(t,e,n,r,i,s){OE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&v0(e,n,!1),Mr(t,e,s);r=e.stateNode,QC.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Oo(e,t.child,null,s),e.child=Oo(e,null,a,s)):Yt(t,e,a,s),e.memoizedState=r.state,i&&v0(e,n,!0),e.child}function LE(t){var e=t.stateNode;e.pendingContext?y0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&y0(t,e.context,!1),sg(t,e.containerInfo)}function D0(t,e,n,r,i){return Do(),Zm(i),e.flags|=256,Yt(t,e,n,r),e.child}var bp={dehydrated:null,treeContext:null,retryLane:0};function kp(t){return{baseLanes:t,cachePool:null,transitions:null}}function ME(t,e,n){var r=e.pendingProps,i=Xe.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),He(Xe,i&1),t===null)return gp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Kh(o,r,0,null),t=bs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=kp(n),e.memoizedState=bp,t):fg(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return YC(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=bi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=bi(a,s):(s=bs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?kp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=bp,r}return s=t.child,t=s.sibling,r=bi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function fg(t,e){return e=Kh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function qu(t,e,n,r){return r!==null&&Zm(r),Oo(e,t.child,null,n),t=fg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function YC(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=uf(Error(G(422))),qu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Kh({mode:"visible",children:r.children},i,0,null),s=bs(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Oo(e,t.child,null,o),e.child.memoizedState=kp(o),e.memoizedState=bp,s);if(!(e.mode&1))return qu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(G(419)),r=uf(s,r,void 0),qu(t,e,o,r)}if(a=(o&t.childLanes)!==0,un||a){if(r=bt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Lr(t,i),Kn(r,t,i,-1))}return xg(),r=uf(Error(G(421))),qu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=uA.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,vn=xi(i.nextSibling),wn=e,Je=!0,qn=null,t!==null&&(In[Cn++]=Ar,In[Cn++]=Nr,In[Cn++]=Ts,Ar=t.id,Nr=t.overflow,Ts=e),e=fg(e,r.children),e.flags|=4096,e)}function O0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),yp(t.return,e,n)}function cf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function FE(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Yt(t,e,r.children,n),r=Xe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&O0(t,n,e);else if(t.tag===19)O0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(He(Xe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Jc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),cf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Jc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}cf(e,!0,n,null,s);break;case"together":cf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function gc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Mr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Cs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(G(153));if(e.child!==null){for(t=e.child,n=bi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=bi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function JC(t,e,n){switch(e.tag){case 3:LE(e),Do();break;case 5:cE(e);break;case 1:hn(e.type)&&qc(e);break;case 4:sg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;He(Kc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(He(Xe,Xe.current&1),e.flags|=128,null):n&e.child.childLanes?ME(t,e,n):(He(Xe,Xe.current&1),t=Mr(t,e,n),t!==null?t.sibling:null);He(Xe,Xe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return FE(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),He(Xe,Xe.current),r)break;return null;case 22:case 23:return e.lanes=0,DE(t,e,n)}return Mr(t,e,n)}var VE,Sp,zE,UE;VE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Sp=function(){};zE=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,vs(cr.current);var s=null;switch(n){case"input":i=Gf(t,i),r=Gf(t,r),s=[];break;case"select":i=tt({},i,{value:void 0}),r=tt({},r,{value:void 0}),s=[];break;case"textarea":i=Yf(t,i),r=Yf(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Bc)}Xf(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(dl.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(dl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ke("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};UE=function(t,e,n,r){n!==r&&(e.flags|=4)};function Aa(t,e){if(!Je)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ot(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function XC(t,e,n){var r=e.pendingProps;switch(Xm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(e),null;case 1:return hn(e.type)&&Hc(),Ot(e),null;case 3:return r=e.stateNode,Lo(),Ye(cn),Ye($t),ag(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Bu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,qn!==null&&(jp(qn),qn=null))),Sp(t,e),Ot(e),null;case 5:og(e);var i=vs(kl.current);if(n=e.type,t!==null&&e.stateNode!=null)zE(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(G(166));return Ot(e),null}if(t=vs(cr.current),Bu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ar]=e,r[El]=s,t=(e.mode&1)!==0,n){case"dialog":Ke("cancel",r),Ke("close",r);break;case"iframe":case"object":case"embed":Ke("load",r);break;case"video":case"audio":for(i=0;i<Ma.length;i++)Ke(Ma[i],r);break;case"source":Ke("error",r);break;case"img":case"image":case"link":Ke("error",r),Ke("load",r);break;case"details":Ke("toggle",r);break;case"input":Hv(r,s),Ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ke("invalid",r);break;case"textarea":Wv(r,s),Ke("invalid",r)}Xf(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&$u(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&$u(r.textContent,a,t),i=["children",""+a]):dl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ke("scroll",r)}switch(n){case"input":Du(r),qv(r,s,!0);break;case"textarea":Du(r),Gv(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Bc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=m_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ar]=e,t[El]=r,VE(t,e,!1,!1),e.stateNode=t;e:{switch(o=Zf(n,r),n){case"dialog":Ke("cancel",t),Ke("close",t),i=r;break;case"iframe":case"object":case"embed":Ke("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ma.length;i++)Ke(Ma[i],t);i=r;break;case"source":Ke("error",t),i=r;break;case"img":case"image":case"link":Ke("error",t),Ke("load",t),i=r;break;case"details":Ke("toggle",t),i=r;break;case"input":Hv(t,r),i=Gf(t,r),Ke("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=tt({},r,{value:void 0}),Ke("invalid",t);break;case"textarea":Wv(t,r),i=Yf(t,r),Ke("invalid",t);break;default:i=r}Xf(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?v_(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&g_(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&fl(t,l):typeof l=="number"&&fl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(dl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ke("scroll",t):l!=null&&Mm(t,s,l,o))}switch(n){case"input":Du(t),qv(t,r,!1);break;case"textarea":Du(t),Gv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ri(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?_o(t,!!r.multiple,s,!1):r.defaultValue!=null&&_o(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Bc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ot(e),null;case 6:if(t&&e.stateNode!=null)UE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(G(166));if(n=vs(kl.current),vs(cr.current),Bu(e)){if(r=e.stateNode,n=e.memoizedProps,r[ar]=e,(s=r.nodeValue!==n)&&(t=wn,t!==null))switch(t.tag){case 3:$u(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&$u(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ar]=e,e.stateNode=r}return Ot(e),null;case 13:if(Ye(Xe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Je&&vn!==null&&e.mode&1&&!(e.flags&128))sE(),Do(),e.flags|=98560,s=!1;else if(s=Bu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(G(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(G(317));s[ar]=e}else Do(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ot(e),s=!1}else qn!==null&&(jp(qn),qn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Xe.current&1?gt===0&&(gt=3):xg())),e.updateQueue!==null&&(e.flags|=4),Ot(e),null);case 4:return Lo(),Sp(t,e),t===null&&wl(e.stateNode.containerInfo),Ot(e),null;case 10:return ng(e.type._context),Ot(e),null;case 17:return hn(e.type)&&Hc(),Ot(e),null;case 19:if(Ye(Xe),s=e.memoizedState,s===null)return Ot(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Aa(s,!1);else{if(gt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Jc(t),o!==null){for(e.flags|=128,Aa(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return He(Xe,Xe.current&1|2),e.child}t=t.sibling}s.tail!==null&&at()>Fo&&(e.flags|=128,r=!0,Aa(s,!1),e.lanes=4194304)}else{if(!r)if(t=Jc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Aa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Je)return Ot(e),null}else 2*at()-s.renderingStartTime>Fo&&n!==1073741824&&(e.flags|=128,r=!0,Aa(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=at(),e.sibling=null,n=Xe.current,He(Xe,r?n&1|2:n&1),e):(Ot(e),null);case 22:case 23:return vg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?yn&1073741824&&(Ot(e),e.subtreeFlags&6&&(e.flags|=8192)):Ot(e),null;case 24:return null;case 25:return null}throw Error(G(156,e.tag))}function ZC(t,e){switch(Xm(e),e.tag){case 1:return hn(e.type)&&Hc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Lo(),Ye(cn),Ye($t),ag(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return og(e),null;case 13:if(Ye(Xe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(G(340));Do()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ye(Xe),null;case 4:return Lo(),null;case 10:return ng(e.type._context),null;case 22:case 23:return vg(),null;case 24:return null;default:return null}}var Wu=!1,Vt=!1,eA=typeof WeakSet=="function"?WeakSet:Set,ie=null;function yo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){it(t,e,r)}else n.current=null}function Tp(t,e,n){try{n()}catch(r){it(t,e,r)}}var L0=!1;function tA(t,e){if(up=zc,t=W_(),Ym(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,f=t,p=null;t:for(;;){for(var g;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)p=f,f=g;for(;;){if(f===t)break t;if(p===n&&++c===i&&(a=o),p===s&&++d===r&&(l=o),(g=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(cp={focusedElem:t,selectionRange:n},zc=!1,ie=e;ie!==null;)if(e=ie,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ie=t;else for(;ie!==null;){e=ie;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var T=w.memoizedProps,I=w.memoizedState,E=e.stateNode,v=E.getSnapshotBeforeUpdate(e.elementType===e.type?T:Bn(e.type,T),I);E.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(N){it(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,ie=t;break}ie=e.return}return w=L0,L0=!1,w}function Xa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Tp(e,n,s)}i=i.next}while(i!==r)}}function Wh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ip(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function $E(t){var e=t.alternate;e!==null&&(t.alternate=null,$E(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ar],delete e[El],delete e[fp],delete e[MC],delete e[FC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function BE(t){return t.tag===5||t.tag===3||t.tag===4}function M0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||BE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Cp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Bc));else if(r!==4&&(t=t.child,t!==null))for(Cp(t,e,n),t=t.sibling;t!==null;)Cp(t,e,n),t=t.sibling}function Ap(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ap(t,e,n),t=t.sibling;t!==null;)Ap(t,e,n),t=t.sibling}var Tt=null,Hn=!1;function Zr(t,e,n){for(n=n.child;n!==null;)HE(t,e,n),n=n.sibling}function HE(t,e,n){if(ur&&typeof ur.onCommitFiberUnmount=="function")try{ur.onCommitFiberUnmount(Fh,n)}catch{}switch(n.tag){case 5:Vt||yo(n,e);case 6:var r=Tt,i=Hn;Tt=null,Zr(t,e,n),Tt=r,Hn=i,Tt!==null&&(Hn?(t=Tt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Tt.removeChild(n.stateNode));break;case 18:Tt!==null&&(Hn?(t=Tt,n=n.stateNode,t.nodeType===8?nf(t.parentNode,n):t.nodeType===1&&nf(t,n),yl(t)):nf(Tt,n.stateNode));break;case 4:r=Tt,i=Hn,Tt=n.stateNode.containerInfo,Hn=!0,Zr(t,e,n),Tt=r,Hn=i;break;case 0:case 11:case 14:case 15:if(!Vt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Tp(n,e,o),i=i.next}while(i!==r)}Zr(t,e,n);break;case 1:if(!Vt&&(yo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){it(n,e,a)}Zr(t,e,n);break;case 21:Zr(t,e,n);break;case 22:n.mode&1?(Vt=(r=Vt)||n.memoizedState!==null,Zr(t,e,n),Vt=r):Zr(t,e,n);break;default:Zr(t,e,n)}}function F0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new eA),e.forEach(function(r){var i=cA.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function $n(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Tt=a.stateNode,Hn=!1;break e;case 3:Tt=a.stateNode.containerInfo,Hn=!0;break e;case 4:Tt=a.stateNode.containerInfo,Hn=!0;break e}a=a.return}if(Tt===null)throw Error(G(160));HE(s,o,i),Tt=null,Hn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){it(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)qE(e,t),e=e.sibling}function qE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if($n(e,t),nr(t),r&4){try{Xa(3,t,t.return),Wh(3,t)}catch(T){it(t,t.return,T)}try{Xa(5,t,t.return)}catch(T){it(t,t.return,T)}}break;case 1:$n(e,t),nr(t),r&512&&n!==null&&yo(n,n.return);break;case 5:if($n(e,t),nr(t),r&512&&n!==null&&yo(n,n.return),t.flags&32){var i=t.stateNode;try{fl(i,"")}catch(T){it(t,t.return,T)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&f_(i,s),Zf(a,o);var c=Zf(a,s);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?v_(i,f):d==="dangerouslySetInnerHTML"?g_(i,f):d==="children"?fl(i,f):Mm(i,d,f,c)}switch(a){case"input":Kf(i,s);break;case"textarea":p_(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?_o(i,!!s.multiple,g,!1):p!==!!s.multiple&&(s.defaultValue!=null?_o(i,!!s.multiple,s.defaultValue,!0):_o(i,!!s.multiple,s.multiple?[]:"",!1))}i[El]=s}catch(T){it(t,t.return,T)}}break;case 6:if($n(e,t),nr(t),r&4){if(t.stateNode===null)throw Error(G(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(T){it(t,t.return,T)}}break;case 3:if($n(e,t),nr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{yl(e.containerInfo)}catch(T){it(t,t.return,T)}break;case 4:$n(e,t),nr(t);break;case 13:$n(e,t),nr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(gg=at())),r&4&&F0(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Vt=(c=Vt)||d,$n(e,t),Vt=c):$n(e,t),nr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(ie=t,d=t.child;d!==null;){for(f=ie=d;ie!==null;){switch(p=ie,g=p.child,p.tag){case 0:case 11:case 14:case 15:Xa(4,p,p.return);break;case 1:yo(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(T){it(r,n,T)}}break;case 5:yo(p,p.return);break;case 22:if(p.memoizedState!==null){z0(f);continue}}g!==null?(g.return=p,ie=g):z0(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=y_("display",o))}catch(T){it(t,t.return,T)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(T){it(t,t.return,T)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:$n(e,t),nr(t),r&4&&F0(t);break;case 21:break;default:$n(e,t),nr(t)}}function nr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(BE(n)){var r=n;break e}n=n.return}throw Error(G(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(fl(i,""),r.flags&=-33);var s=M0(t);Ap(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=M0(t);Cp(t,a,o);break;default:throw Error(G(161))}}catch(l){it(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function nA(t,e,n){ie=t,WE(t)}function WE(t,e,n){for(var r=(t.mode&1)!==0;ie!==null;){var i=ie,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Wu;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Vt;a=Wu;var c=Vt;if(Wu=o,(Vt=l)&&!c)for(ie=i;ie!==null;)o=ie,l=o.child,o.tag===22&&o.memoizedState!==null?U0(i):l!==null?(l.return=o,ie=l):U0(i);for(;s!==null;)ie=s,WE(s),s=s.sibling;ie=i,Wu=a,Vt=c}V0(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ie=s):V0(t)}}function V0(t){for(;ie!==null;){var e=ie;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Vt||Wh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Vt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Bn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&b0(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}b0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&yl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}Vt||e.flags&512&&Ip(e)}catch(p){it(e,e.return,p)}}if(e===t){ie=null;break}if(n=e.sibling,n!==null){n.return=e.return,ie=n;break}ie=e.return}}function z0(t){for(;ie!==null;){var e=ie;if(e===t){ie=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ie=n;break}ie=e.return}}function U0(t){for(;ie!==null;){var e=ie;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Wh(4,e)}catch(l){it(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){it(e,i,l)}}var s=e.return;try{Ip(e)}catch(l){it(e,s,l)}break;case 5:var o=e.return;try{Ip(e)}catch(l){it(e,o,l)}}}catch(l){it(e,e.return,l)}if(e===t){ie=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ie=a;break}ie=e.return}}var rA=Math.ceil,eh=Br.ReactCurrentDispatcher,pg=Br.ReactCurrentOwner,jn=Br.ReactCurrentBatchConfig,De=0,bt=null,ht=null,At=0,yn=0,vo=$i(0),gt=0,Cl=null,Cs=0,Gh=0,mg=0,Za=null,an=null,gg=0,Fo=1/0,Tr=null,th=!1,Np=null,_i=null,Gu=!1,di=null,nh=0,el=0,Pp=null,yc=-1,vc=0;function Zt(){return De&6?at():yc!==-1?yc:yc=at()}function Ei(t){return t.mode&1?De&2&&At!==0?At&-At:zC.transition!==null?(vc===0&&(vc=N_()),vc):(t=Ve,t!==0||(t=window.event,t=t===void 0?16:M_(t.type)),t):1}function Kn(t,e,n,r){if(50<el)throw el=0,Pp=null,Error(G(185));Gl(t,n,r),(!(De&2)||t!==bt)&&(t===bt&&(!(De&2)&&(Gh|=n),gt===4&&oi(t,At)),dn(t,r),n===1&&De===0&&!(e.mode&1)&&(Fo=at()+500,Bh&&Bi()))}function dn(t,e){var n=t.callbackNode;z2(t,e);var r=Vc(t,t===bt?At:0);if(r===0)n!==null&&Yv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Yv(n),e===1)t.tag===0?VC($0.bind(null,t)):nE($0.bind(null,t)),OC(function(){!(De&6)&&Bi()}),n=null;else{switch(P_(r)){case 1:n=$m;break;case 4:n=C_;break;case 16:n=Fc;break;case 536870912:n=A_;break;default:n=Fc}n=eb(n,GE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function GE(t,e){if(yc=-1,vc=0,De&6)throw Error(G(327));var n=t.callbackNode;if(To()&&t.callbackNode!==n)return null;var r=Vc(t,t===bt?At:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=rh(t,r);else{e=r;var i=De;De|=2;var s=QE();(bt!==t||At!==e)&&(Tr=null,Fo=at()+500,Es(t,e));do try{oA();break}catch(a){KE(t,a)}while(!0);tg(),eh.current=s,De=i,ht!==null?e=0:(bt=null,At=0,e=gt)}if(e!==0){if(e===2&&(i=ip(t),i!==0&&(r=i,e=Rp(t,i))),e===1)throw n=Cl,Es(t,0),oi(t,r),dn(t,at()),n;if(e===6)oi(t,r);else{if(i=t.current.alternate,!(r&30)&&!iA(i)&&(e=rh(t,r),e===2&&(s=ip(t),s!==0&&(r=s,e=Rp(t,s))),e===1))throw n=Cl,Es(t,0),oi(t,r),dn(t,at()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(G(345));case 2:ds(t,an,Tr);break;case 3:if(oi(t,r),(r&130023424)===r&&(e=gg+500-at(),10<e)){if(Vc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Zt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=dp(ds.bind(null,t,an,Tr),e);break}ds(t,an,Tr);break;case 4:if(oi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Gn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=at()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*rA(r/1960))-r,10<r){t.timeoutHandle=dp(ds.bind(null,t,an,Tr),r);break}ds(t,an,Tr);break;case 5:ds(t,an,Tr);break;default:throw Error(G(329))}}}return dn(t,at()),t.callbackNode===n?GE.bind(null,t):null}function Rp(t,e){var n=Za;return t.current.memoizedState.isDehydrated&&(Es(t,e).flags|=256),t=rh(t,e),t!==2&&(e=an,an=n,e!==null&&jp(e)),t}function jp(t){an===null?an=t:an.push.apply(an,t)}function iA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Jn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function oi(t,e){for(e&=~mg,e&=~Gh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Gn(e),r=1<<n;t[n]=-1,e&=~r}}function $0(t){if(De&6)throw Error(G(327));To();var e=Vc(t,0);if(!(e&1))return dn(t,at()),null;var n=rh(t,e);if(t.tag!==0&&n===2){var r=ip(t);r!==0&&(e=r,n=Rp(t,r))}if(n===1)throw n=Cl,Es(t,0),oi(t,e),dn(t,at()),n;if(n===6)throw Error(G(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ds(t,an,Tr),dn(t,at()),null}function yg(t,e){var n=De;De|=1;try{return t(e)}finally{De=n,De===0&&(Fo=at()+500,Bh&&Bi())}}function As(t){di!==null&&di.tag===0&&!(De&6)&&To();var e=De;De|=1;var n=jn.transition,r=Ve;try{if(jn.transition=null,Ve=1,t)return t()}finally{Ve=r,jn.transition=n,De=e,!(De&6)&&Bi()}}function vg(){yn=vo.current,Ye(vo)}function Es(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,DC(n)),ht!==null)for(n=ht.return;n!==null;){var r=n;switch(Xm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Hc();break;case 3:Lo(),Ye(cn),Ye($t),ag();break;case 5:og(r);break;case 4:Lo();break;case 13:Ye(Xe);break;case 19:Ye(Xe);break;case 10:ng(r.type._context);break;case 22:case 23:vg()}n=n.return}if(bt=t,ht=t=bi(t.current,null),At=yn=e,gt=0,Cl=null,mg=Gh=Cs=0,an=Za=null,ys!==null){for(e=0;e<ys.length;e++)if(n=ys[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ys=null}return t}function KE(t,e){do{var n=ht;try{if(tg(),pc.current=Zc,Xc){for(var r=et.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Xc=!1}if(Is=0,Et=pt=et=null,Ja=!1,Sl=0,pg.current=null,n===null||n.return===null){gt=1,Cl=e,ht=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=At,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=A0(o);if(g!==null){g.flags&=-257,N0(g,o,a,s,e),g.mode&1&&C0(s,c,e),e=g,l=c;var w=e.updateQueue;if(w===null){var T=new Set;T.add(l),e.updateQueue=T}else w.add(l);break e}else{if(!(e&1)){C0(s,c,e),xg();break e}l=Error(G(426))}}else if(Je&&a.mode&1){var I=A0(o);if(I!==null){!(I.flags&65536)&&(I.flags|=256),N0(I,o,a,s,e),Zm(Mo(l,a));break e}}s=l=Mo(l,a),gt!==4&&(gt=2),Za===null?Za=[s]:Za.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var E=PE(s,l,e);E0(s,E);break e;case 1:a=l;var v=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(_i===null||!_i.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var N=RE(s,a,e);E0(s,N);break e}}s=s.return}while(s!==null)}JE(n)}catch(O){e=O,ht===n&&n!==null&&(ht=n=n.return);continue}break}while(!0)}function QE(){var t=eh.current;return eh.current=Zc,t===null?Zc:t}function xg(){(gt===0||gt===3||gt===2)&&(gt=4),bt===null||!(Cs&268435455)&&!(Gh&268435455)||oi(bt,At)}function rh(t,e){var n=De;De|=2;var r=QE();(bt!==t||At!==e)&&(Tr=null,Es(t,e));do try{sA();break}catch(i){KE(t,i)}while(!0);if(tg(),De=n,eh.current=r,ht!==null)throw Error(G(261));return bt=null,At=0,gt}function sA(){for(;ht!==null;)YE(ht)}function oA(){for(;ht!==null&&!P2();)YE(ht)}function YE(t){var e=ZE(t.alternate,t,yn);t.memoizedProps=t.pendingProps,e===null?JE(t):ht=e,pg.current=null}function JE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=ZC(n,e),n!==null){n.flags&=32767,ht=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{gt=6,ht=null;return}}else if(n=XC(n,e,yn),n!==null){ht=n;return}if(e=e.sibling,e!==null){ht=e;return}ht=e=t}while(e!==null);gt===0&&(gt=5)}function ds(t,e,n){var r=Ve,i=jn.transition;try{jn.transition=null,Ve=1,aA(t,e,n,r)}finally{jn.transition=i,Ve=r}return null}function aA(t,e,n,r){do To();while(di!==null);if(De&6)throw Error(G(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(G(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(U2(t,s),t===bt&&(ht=bt=null,At=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Gu||(Gu=!0,eb(Fc,function(){return To(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=jn.transition,jn.transition=null;var o=Ve;Ve=1;var a=De;De|=4,pg.current=null,tA(t,n),qE(n,t),IC(cp),zc=!!up,cp=up=null,t.current=n,nA(n),R2(),De=a,Ve=o,jn.transition=s}else t.current=n;if(Gu&&(Gu=!1,di=t,nh=i),s=t.pendingLanes,s===0&&(_i=null),O2(n.stateNode),dn(t,at()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(th)throw th=!1,t=Np,Np=null,t;return nh&1&&t.tag!==0&&To(),s=t.pendingLanes,s&1?t===Pp?el++:(el=0,Pp=t):el=0,Bi(),null}function To(){if(di!==null){var t=P_(nh),e=jn.transition,n=Ve;try{if(jn.transition=null,Ve=16>t?16:t,di===null)var r=!1;else{if(t=di,di=null,nh=0,De&6)throw Error(G(331));var i=De;for(De|=4,ie=t.current;ie!==null;){var s=ie,o=s.child;if(ie.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ie=c;ie!==null;){var d=ie;switch(d.tag){case 0:case 11:case 15:Xa(8,d,s)}var f=d.child;if(f!==null)f.return=d,ie=f;else for(;ie!==null;){d=ie;var p=d.sibling,g=d.return;if($E(d),d===c){ie=null;break}if(p!==null){p.return=g,ie=p;break}ie=g}}}var w=s.alternate;if(w!==null){var T=w.child;if(T!==null){w.child=null;do{var I=T.sibling;T.sibling=null,T=I}while(T!==null)}}ie=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ie=o;else e:for(;ie!==null;){if(s=ie,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Xa(9,s,s.return)}var E=s.sibling;if(E!==null){E.return=s.return,ie=E;break e}ie=s.return}}var v=t.current;for(ie=v;ie!==null;){o=ie;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,ie=x;else e:for(o=v;ie!==null;){if(a=ie,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Wh(9,a)}}catch(O){it(a,a.return,O)}if(a===o){ie=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,ie=N;break e}ie=a.return}}if(De=i,Bi(),ur&&typeof ur.onPostCommitFiberRoot=="function")try{ur.onPostCommitFiberRoot(Fh,t)}catch{}r=!0}return r}finally{Ve=n,jn.transition=e}}return!1}function B0(t,e,n){e=Mo(n,e),e=PE(t,e,1),t=wi(t,e,1),e=Zt(),t!==null&&(Gl(t,1,e),dn(t,e))}function it(t,e,n){if(t.tag===3)B0(t,t,n);else for(;e!==null;){if(e.tag===3){B0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(_i===null||!_i.has(r))){t=Mo(n,t),t=RE(e,t,1),e=wi(e,t,1),t=Zt(),e!==null&&(Gl(e,1,t),dn(e,t));break}}e=e.return}}function lA(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Zt(),t.pingedLanes|=t.suspendedLanes&n,bt===t&&(At&n)===n&&(gt===4||gt===3&&(At&130023424)===At&&500>at()-gg?Es(t,0):mg|=n),dn(t,e)}function XE(t,e){e===0&&(t.mode&1?(e=Mu,Mu<<=1,!(Mu&130023424)&&(Mu=4194304)):e=1);var n=Zt();t=Lr(t,e),t!==null&&(Gl(t,e,n),dn(t,n))}function uA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),XE(t,n)}function cA(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(G(314))}r!==null&&r.delete(e),XE(t,n)}var ZE;ZE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||cn.current)un=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return un=!1,JC(t,e,n);un=!!(t.flags&131072)}else un=!1,Je&&e.flags&1048576&&rE(e,Gc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;gc(t,e),t=e.pendingProps;var i=jo(e,$t.current);So(e,n),i=ug(null,e,r,t,i,n);var s=cg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,hn(r)?(s=!0,qc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ig(e),i.updater=qh,e.stateNode=i,i._reactInternals=e,xp(e,r,t,n),e=Ep(null,e,r,!0,s,n)):(e.tag=0,Je&&s&&Jm(e),Yt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(gc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=dA(r),t=Bn(r,t),i){case 0:e=_p(null,e,r,t,n);break e;case 1:e=j0(null,e,r,t,n);break e;case 11:e=P0(null,e,r,t,n);break e;case 14:e=R0(null,e,r,Bn(r.type,t),n);break e}throw Error(G(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bn(r,i),_p(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bn(r,i),j0(t,e,r,i,n);case 3:e:{if(LE(e),t===null)throw Error(G(387));r=e.pendingProps,s=e.memoizedState,i=s.element,uE(t,e),Yc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Mo(Error(G(423)),e),e=D0(t,e,r,n,i);break e}else if(r!==i){i=Mo(Error(G(424)),e),e=D0(t,e,r,n,i);break e}else for(vn=xi(e.stateNode.containerInfo.firstChild),wn=e,Je=!0,qn=null,n=aE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Do(),r===i){e=Mr(t,e,n);break e}Yt(t,e,r,n)}e=e.child}return e;case 5:return cE(e),t===null&&gp(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,hp(r,i)?o=null:s!==null&&hp(r,s)&&(e.flags|=32),OE(t,e),Yt(t,e,o,n),e.child;case 6:return t===null&&gp(e),null;case 13:return ME(t,e,n);case 4:return sg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Oo(e,null,r,n):Yt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bn(r,i),P0(t,e,r,i,n);case 7:return Yt(t,e,e.pendingProps,n),e.child;case 8:return Yt(t,e,e.pendingProps.children,n),e.child;case 12:return Yt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,He(Kc,r._currentValue),r._currentValue=o,s!==null)if(Jn(s.value,o)){if(s.children===i.children&&!cn.current){e=Mr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=jr(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),yp(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(G(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),yp(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Yt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,So(e,n),i=Dn(i),r=r(i),e.flags|=1,Yt(t,e,r,n),e.child;case 14:return r=e.type,i=Bn(r,e.pendingProps),i=Bn(r.type,i),R0(t,e,r,i,n);case 15:return jE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bn(r,i),gc(t,e),e.tag=1,hn(r)?(t=!0,qc(e)):t=!1,So(e,n),NE(e,r,i),xp(e,r,i,n),Ep(null,e,r,!0,t,n);case 19:return FE(t,e,n);case 22:return DE(t,e,n)}throw Error(G(156,e.tag))};function eb(t,e){return I_(t,e)}function hA(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(t,e,n,r){return new hA(t,e,n,r)}function wg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function dA(t){if(typeof t=="function")return wg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Vm)return 11;if(t===zm)return 14}return 2}function bi(t,e){var n=t.alternate;return n===null?(n=Rn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function xc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")wg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ao:return bs(n.children,i,s,e);case Fm:o=8,i|=8;break;case Bf:return t=Rn(12,n,e,i|2),t.elementType=Bf,t.lanes=s,t;case Hf:return t=Rn(13,n,e,i),t.elementType=Hf,t.lanes=s,t;case qf:return t=Rn(19,n,e,i),t.elementType=qf,t.lanes=s,t;case c_:return Kh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case l_:o=10;break e;case u_:o=9;break e;case Vm:o=11;break e;case zm:o=14;break e;case ni:o=16,r=null;break e}throw Error(G(130,t==null?t:typeof t,""))}return e=Rn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function bs(t,e,n,r){return t=Rn(7,t,r,e),t.lanes=n,t}function Kh(t,e,n,r){return t=Rn(22,t,r,e),t.elementType=c_,t.lanes=n,t.stateNode={isHidden:!1},t}function hf(t,e,n){return t=Rn(6,t,null,e),t.lanes=n,t}function df(t,e,n){return e=Rn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function fA(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qd(0),this.expirationTimes=qd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function _g(t,e,n,r,i,s,o,a,l){return t=new fA(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Rn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ig(s),t}function pA(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function tb(t){if(!t)return ji;t=t._reactInternals;e:{if(Fs(t)!==t||t.tag!==1)throw Error(G(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(hn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(G(171))}if(t.tag===1){var n=t.type;if(hn(n))return tE(t,n,e)}return e}function nb(t,e,n,r,i,s,o,a,l){return t=_g(n,r,!0,t,i,s,o,a,l),t.context=tb(null),n=t.current,r=Zt(),i=Ei(n),s=jr(r,i),s.callback=e??null,wi(n,s,i),t.current.lanes=i,Gl(t,i,r),dn(t,r),t}function Qh(t,e,n,r){var i=e.current,s=Zt(),o=Ei(i);return n=tb(n),e.context===null?e.context=n:e.pendingContext=n,e=jr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=wi(i,e,o),t!==null&&(Kn(t,i,o,s),fc(t,i,o)),o}function ih(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function H0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Eg(t,e){H0(t,e),(t=t.alternate)&&H0(t,e)}function mA(){return null}var rb=typeof reportError=="function"?reportError:function(t){console.error(t)};function bg(t){this._internalRoot=t}Yh.prototype.render=bg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(G(409));Qh(t,e,null,null)};Yh.prototype.unmount=bg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;As(function(){Qh(null,t,null,null)}),e[Or]=null}};function Yh(t){this._internalRoot=t}Yh.prototype.unstable_scheduleHydration=function(t){if(t){var e=D_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<si.length&&e!==0&&e<si[n].priority;n++);si.splice(n,0,t),n===0&&L_(t)}};function kg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Jh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function q0(){}function gA(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=ih(o);s.call(c)}}var o=nb(e,r,t,0,null,!1,!1,"",q0);return t._reactRootContainer=o,t[Or]=o.current,wl(t.nodeType===8?t.parentNode:t),As(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=ih(l);a.call(c)}}var l=_g(t,0,!1,null,null,!1,!1,"",q0);return t._reactRootContainer=l,t[Or]=l.current,wl(t.nodeType===8?t.parentNode:t),As(function(){Qh(e,l,n,r)}),l}function Xh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=ih(o);a.call(l)}}Qh(e,o,t,i)}else o=gA(n,e,t,i,r);return ih(o)}R_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=La(e.pendingLanes);n!==0&&(Bm(e,n|1),dn(e,at()),!(De&6)&&(Fo=at()+500,Bi()))}break;case 13:As(function(){var r=Lr(t,1);if(r!==null){var i=Zt();Kn(r,t,1,i)}}),Eg(t,1)}};Hm=function(t){if(t.tag===13){var e=Lr(t,134217728);if(e!==null){var n=Zt();Kn(e,t,134217728,n)}Eg(t,134217728)}};j_=function(t){if(t.tag===13){var e=Ei(t),n=Lr(t,e);if(n!==null){var r=Zt();Kn(n,t,e,r)}Eg(t,e)}};D_=function(){return Ve};O_=function(t,e){var n=Ve;try{return Ve=t,e()}finally{Ve=n}};tp=function(t,e,n){switch(e){case"input":if(Kf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=$h(r);if(!i)throw Error(G(90));d_(r),Kf(r,i)}}}break;case"textarea":p_(t,n);break;case"select":e=n.value,e!=null&&_o(t,!!n.multiple,e,!1)}};__=yg;E_=As;var yA={usingClientEntryPoint:!1,Events:[Ql,ho,$h,x_,w_,yg]},Na={findFiberByHostInstance:gs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vA={bundleType:Na.bundleType,version:Na.version,rendererPackageName:Na.rendererPackageName,rendererConfig:Na.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Br.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=S_(t),t===null?null:t.stateNode},findFiberByHostInstance:Na.findFiberByHostInstance||mA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ku.isDisabled&&Ku.supportsFiber)try{Fh=Ku.inject(vA),ur=Ku}catch{}}bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yA;bn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kg(e))throw Error(G(200));return pA(t,e,null,n)};bn.createRoot=function(t,e){if(!kg(t))throw Error(G(299));var n=!1,r="",i=rb;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=_g(t,1,!1,null,null,n,!1,r,i),t[Or]=e.current,wl(t.nodeType===8?t.parentNode:t),new bg(e)};bn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(G(188)):(t=Object.keys(t).join(","),Error(G(268,t)));return t=S_(e),t=t===null?null:t.stateNode,t};bn.flushSync=function(t){return As(t)};bn.hydrate=function(t,e,n){if(!Jh(e))throw Error(G(200));return Xh(null,t,e,!0,n)};bn.hydrateRoot=function(t,e,n){if(!kg(t))throw Error(G(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=rb;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=nb(e,null,t,1,n??null,i,!1,s,o),t[Or]=e.current,wl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Yh(e)};bn.render=function(t,e,n){if(!Jh(e))throw Error(G(200));return Xh(null,t,e,!1,n)};bn.unmountComponentAtNode=function(t){if(!Jh(t))throw Error(G(40));return t._reactRootContainer?(As(function(){Xh(null,null,t,!1,function(){t._reactRootContainer=null,t[Or]=null})}),!0):!1};bn.unstable_batchedUpdates=yg;bn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Jh(n))throw Error(G(200));if(t==null||t._reactInternals===void 0)throw Error(G(38));return Xh(t,e,n,!1,r)};bn.version="18.3.1-next-f1338f8080-20240426";function ib(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ib)}catch(t){console.error(t)}}ib(),i_.exports=bn;var xA=i_.exports,W0=xA;Uf.createRoot=W0.createRoot,Uf.hydrateRoot=W0.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Al(){return Al=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Al.apply(this,arguments)}var fi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(fi||(fi={}));const G0="popstate";function wA(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Dp("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:sh(i)}return EA(e,n,null,t)}function lt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function sb(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _A(){return Math.random().toString(36).substr(2,8)}function K0(t,e){return{usr:t.state,key:t.key,idx:e}}function Dp(t,e,n,r){return n===void 0&&(n=null),Al({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Zo(e):e,{state:n,key:e&&e.key||r||_A()})}function sh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Zo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function EA(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=fi.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(Al({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=fi.Pop;let I=d(),E=I==null?null:I-c;c=I,l&&l({action:a,location:T.location,delta:E})}function p(I,E){a=fi.Push;let v=Dp(T.location,I,E);c=d()+1;let x=K0(v,c),N=T.createHref(v);try{o.pushState(x,"",N)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(N)}s&&l&&l({action:a,location:T.location,delta:1})}function g(I,E){a=fi.Replace;let v=Dp(T.location,I,E);c=d();let x=K0(v,c),N=T.createHref(v);o.replaceState(x,"",N),s&&l&&l({action:a,location:T.location,delta:0})}function w(I){let E=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof I=="string"?I:sh(I);return v=v.replace(/ $/,"%20"),lt(E,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,E)}let T={get action(){return a},get location(){return t(i,o)},listen(I){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(G0,f),l=I,()=>{i.removeEventListener(G0,f),l=null}},createHref(I){return e(i,I)},createURL:w,encodeLocation(I){let E=w(I);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:p,replace:g,go(I){return o.go(I)}};return T}var Q0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Q0||(Q0={}));function bA(t,e,n){return n===void 0&&(n="/"),kA(t,e,n)}function kA(t,e,n,r){let i=typeof e=="string"?Zo(e):e,s=Sg(i.pathname||"/",n);if(s==null)return null;let o=ob(t);SA(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=MA(s);a=DA(o[l],c)}return a}function ob(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(lt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=ki([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(lt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),ob(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:RA(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of ab(s.path))i(s,o,l)}),e}function ab(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=ab(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function SA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:jA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const TA=/^:[\w-]+$/,IA=3,CA=2,AA=1,NA=10,PA=-2,Y0=t=>t==="*";function RA(t,e){let n=t.split("/"),r=n.length;return n.some(Y0)&&(r+=PA),e&&(r+=CA),n.filter(i=>!Y0(i)).reduce((i,s)=>i+(TA.test(s)?IA:s===""?AA:NA),r)}function jA(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function DA(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=OA({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:ki([s,f.pathname]),pathnameBase:UA(ki([s,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(s=ki([s,f.pathnameBase]))}return o}function OA(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=LA(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:p,isOptional:g}=d;if(p==="*"){let T=a[f]||"";o=s.slice(0,s.length-T.length).replace(/(.)\/+$/,"$1")}const w=a[f];return g&&!w?c[p]=void 0:c[p]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function LA(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),sb(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function MA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return sb(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Sg(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function FA(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Zo(t):t;return{pathname:n?n.startsWith("/")?n:VA(n,e):e,search:$A(r),hash:BA(i)}}function VA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ff(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function zA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Tg(t,e){let n=zA(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Ig(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Zo(t):(i=Al({},t),lt(!i.pathname||!i.pathname.includes("?"),ff("?","pathname","search",i)),lt(!i.pathname||!i.pathname.includes("#"),ff("#","pathname","hash",i)),lt(!i.search||!i.search.includes("#"),ff("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}a=f>=0?e[f]:"/"}let l=FA(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const ki=t=>t.join("/").replace(/\/\/+/g,"/"),UA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$A=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,BA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function HA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const lb=["post","put","patch","delete"];new Set(lb);const qA=["get",...lb];new Set(qA);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nl(){return Nl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nl.apply(this,arguments)}const Cg=M.createContext(null),WA=M.createContext(null),Hi=M.createContext(null),Zh=M.createContext(null),qi=M.createContext({outlet:null,matches:[],isDataRoute:!1}),ub=M.createContext(null);function GA(t,e){let{relative:n}=e===void 0?{}:e;ea()||lt(!1);let{basename:r,navigator:i}=M.useContext(Hi),{hash:s,pathname:o,search:a}=hb(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ki([r,o])),i.createHref({pathname:l,search:a,hash:s})}function ea(){return M.useContext(Zh)!=null}function Jl(){return ea()||lt(!1),M.useContext(Zh).location}function cb(t){M.useContext(Hi).static||M.useLayoutEffect(t)}function Wi(){let{isDataRoute:t}=M.useContext(qi);return t?oN():KA()}function KA(){ea()||lt(!1);let t=M.useContext(Cg),{basename:e,future:n,navigator:r}=M.useContext(Hi),{matches:i}=M.useContext(qi),{pathname:s}=Jl(),o=JSON.stringify(Tg(i,n.v7_relativeSplatPath)),a=M.useRef(!1);return cb(()=>{a.current=!0}),M.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=Ig(c,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:ki([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,o,s,t])}function hb(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=M.useContext(Hi),{matches:i}=M.useContext(qi),{pathname:s}=Jl(),o=JSON.stringify(Tg(i,r.v7_relativeSplatPath));return M.useMemo(()=>Ig(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function QA(t,e){return YA(t,e)}function YA(t,e,n,r){ea()||lt(!1);let{navigator:i}=M.useContext(Hi),{matches:s}=M.useContext(qi),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Jl(),d;if(e){var f;let I=typeof e=="string"?Zo(e):e;l==="/"||(f=I.pathname)!=null&&f.startsWith(l)||lt(!1),d=I}else d=c;let p=d.pathname||"/",g=p;if(l!=="/"){let I=l.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(I.length).join("/")}let w=bA(t,{pathname:g}),T=tN(w&&w.map(I=>Object.assign({},I,{params:Object.assign({},a,I.params),pathname:ki([l,i.encodeLocation?i.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?l:ki([l,i.encodeLocation?i.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),s,n,r);return e&&T?M.createElement(Zh.Provider,{value:{location:Nl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:fi.Pop}},T):T}function JA(){let t=sN(),e=HA(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:i},n):null,null)}const XA=M.createElement(JA,null);class ZA extends M.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?M.createElement(qi.Provider,{value:this.props.routeContext},M.createElement(ub.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function eN(t){let{routeContext:e,match:n,children:r}=t,i=M.useContext(Cg);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),M.createElement(qi.Provider,{value:e},r)}function tN(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||lt(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:p,errors:g}=n,w=f.route.loader&&p[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||w){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,f,p)=>{let g,w=!1,T=null,I=null;n&&(g=a&&f.route.id?a[f.route.id]:void 0,T=f.route.errorElement||XA,l&&(c<0&&p===0?(aN("route-fallback"),w=!0,I=null):c===p&&(w=!0,I=f.route.hydrateFallbackElement||null)));let E=e.concat(o.slice(0,p+1)),v=()=>{let x;return g?x=T:w?x=I:f.route.Component?x=M.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=d,M.createElement(eN,{match:f,routeContext:{outlet:d,matches:E,isDataRoute:n!=null},children:x})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?M.createElement(ZA,{location:n.location,revalidation:n.revalidation,component:T,error:g,children:v(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):v()},null)}var db=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(db||{}),fb=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(fb||{});function nN(t){let e=M.useContext(Cg);return e||lt(!1),e}function rN(t){let e=M.useContext(WA);return e||lt(!1),e}function iN(t){let e=M.useContext(qi);return e||lt(!1),e}function pb(t){let e=iN(),n=e.matches[e.matches.length-1];return n.route.id||lt(!1),n.route.id}function sN(){var t;let e=M.useContext(ub),n=rN(),r=pb();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function oN(){let{router:t}=nN(db.UseNavigateStable),e=pb(fb.UseNavigateStable),n=M.useRef(!1);return cb(()=>{n.current=!0}),M.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Nl({fromRouteId:e},s)))},[t,e])}const J0={};function aN(t,e,n){J0[t]||(J0[t]=!0)}function lN(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function ii(t){let{to:e,replace:n,state:r,relative:i}=t;ea()||lt(!1);let{future:s,static:o}=M.useContext(Hi),{matches:a}=M.useContext(qi),{pathname:l}=Jl(),c=Wi(),d=Ig(e,Tg(a,s.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(d);return M.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:i}),[c,f,i,n,r]),null}function fs(t){lt(!1)}function uN(t){let{basename:e="/",children:n=null,location:r,navigationType:i=fi.Pop,navigator:s,static:o=!1,future:a}=t;ea()&&lt(!1);let l=e.replace(/^\/*/,"/"),c=M.useMemo(()=>({basename:l,navigator:s,static:o,future:Nl({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Zo(r));let{pathname:d="/",search:f="",hash:p="",state:g=null,key:w="default"}=r,T=M.useMemo(()=>{let I=Sg(d,l);return I==null?null:{location:{pathname:I,search:f,hash:p,state:g,key:w},navigationType:i}},[l,d,f,p,g,w,i]);return T==null?null:M.createElement(Hi.Provider,{value:c},M.createElement(Zh.Provider,{children:n,value:T}))}function cN(t){let{children:e,location:n}=t;return QA(Op(e),n)}new Promise(()=>{});function Op(t,e){e===void 0&&(e=[]);let n=[];return M.Children.forEach(t,(r,i)=>{if(!M.isValidElement(r))return;let s=[...e,i];if(r.type===M.Fragment){n.push.apply(n,Op(r.props.children,s));return}r.type!==fs&&lt(!1),!r.props.index||!r.props.children||lt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Op(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lp(){return Lp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lp.apply(this,arguments)}function hN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function dN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function fN(t,e){return t.button===0&&(!e||e==="_self")&&!dN(t)}const pN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],mN="6";try{window.__reactRouterVersion=mN}catch{}const gN="startTransition",X0=l2[gN];function yN(t){let{basename:e,children:n,future:r,window:i}=t,s=M.useRef();s.current==null&&(s.current=wA({window:i,v5Compat:!0}));let o=s.current,[a,l]=M.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=M.useCallback(f=>{c&&X0?X0(()=>l(f)):l(f)},[l,c]);return M.useLayoutEffect(()=>o.listen(d),[o,d]),M.useEffect(()=>lN(r),[r]),M.createElement(uN,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const vN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oh=M.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:f}=e,p=hN(e,pN),{basename:g}=M.useContext(Hi),w,T=!1;if(typeof c=="string"&&xN.test(c)&&(w=c,vN))try{let x=new URL(window.location.href),N=c.startsWith("//")?new URL(x.protocol+c):new URL(c),O=Sg(N.pathname,g);N.origin===x.origin&&O!=null?c=O+N.search+N.hash:T=!0}catch{}let I=GA(c,{relative:i}),E=wN(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:f});function v(x){r&&r(x),x.defaultPrevented||E(x)}return M.createElement("a",Lp({},p,{href:w||I,onClick:T||s?r:v,ref:n,target:l}))});var Z0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Z0||(Z0={}));var ex;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(ex||(ex={}));function wN(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=Wi(),c=Jl(),d=hb(t,{relative:o});return M.useCallback(f=>{if(fN(f,n)){f.preventDefault();let p=r!==void 0?r:sh(c)===sh(d);l(t,{replace:p,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,d,r,i,n,t,s,o,a])}let _N={data:""},EN=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||_N,bN=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,kN=/\/\*[^]*?\*\/|  +/g,tx=/\n+/g,ai=(t,e)=>{let n="",r="",i="";for(let s in t){let o=t[s];s[0]=="@"?s[1]=="i"?n=s+" "+o+";":r+=s[1]=="f"?ai(o,s):s+"{"+ai(o,s[1]=="k"?"":e)+"}":typeof o=="object"?r+=ai(o,e?e.replace(/([^,])+/g,a=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=ai.p?ai.p(s,o):s+":"+o+";")}return n+(e&&i?e+"{"+i+"}":i)+r},Sr={},mb=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+mb(t[n]);return e}return t},SN=(t,e,n,r,i)=>{let s=mb(t),o=Sr[s]||(Sr[s]=(l=>{let c=0,d=11;for(;c<l.length;)d=101*d+l.charCodeAt(c++)>>>0;return"go"+d})(s));if(!Sr[o]){let l=s!==t?t:(c=>{let d,f,p=[{}];for(;d=bN.exec(c.replace(kN,""));)d[4]?p.shift():d[3]?(f=d[3].replace(tx," ").trim(),p.unshift(p[0][f]=p[0][f]||{})):p[0][d[1]]=d[2].replace(tx," ").trim();return p[0]})(t);Sr[o]=ai(i?{["@keyframes "+o]:l}:l,n?"":"."+o)}let a=n&&Sr.g?Sr.g:null;return n&&(Sr.g=Sr[o]),((l,c,d,f)=>{f?c.data=c.data.replace(f,l):c.data.indexOf(l)===-1&&(c.data=d?l+c.data:c.data+l)})(Sr[o],e,r,a),o},TN=(t,e,n)=>t.reduce((r,i,s)=>{let o=e[s];if(o&&o.call){let a=o(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":ai(a,""):a===!1?"":a}return r+i+(o??"")},"");function ed(t){let e=this||{},n=t.call?t(e.p):t;return SN(n.unshift?n.raw?TN(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,EN(e.target),e.g,e.o,e.k)}let gb,Mp,Fp;ed.bind({g:1});let Fr=ed.bind({k:1});function IN(t,e,n,r){ai.p=e,gb=t,Mp=n,Fp=r}function Gi(t,e){let n=this||{};return function(){let r=arguments;function i(s,o){let a=Object.assign({},s),l=a.className||i.className;n.p=Object.assign({theme:Mp&&Mp()},a),n.o=/ *go\d+/.test(l),a.className=ed.apply(n,r)+(l?" "+l:"");let c=t;return t[0]&&(c=a.as||t,delete a.as),Fp&&c[0]&&Fp(a),gb(c,a)}return i}}var CN=t=>typeof t=="function",ah=(t,e)=>CN(t)?t(e):t,AN=(()=>{let t=0;return()=>(++t).toString()})(),yb=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),NN=20,vb=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,NN)};case 1:return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:n}=e;return vb(t,{type:t.toasts.find(s=>s.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(s=>s.id===r||r===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},wc=[],xs={toasts:[],pausedAt:void 0},Vs=t=>{xs=vb(xs,t),wc.forEach(e=>{e(xs)})},PN={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},RN=(t={})=>{let[e,n]=M.useState(xs),r=M.useRef(xs);M.useEffect(()=>(r.current!==xs&&n(xs),wc.push(n),()=>{let s=wc.indexOf(n);s>-1&&wc.splice(s,1)}),[]);let i=e.toasts.map(s=>{var o,a,l;return{...t,...t[s.type],...s,removeDelay:s.removeDelay||((o=t[s.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:s.duration||((a=t[s.type])==null?void 0:a.duration)||(t==null?void 0:t.duration)||PN[s.type],style:{...t.style,...(l=t[s.type])==null?void 0:l.style,...s.style}}});return{...e,toasts:i}},jN=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||AN()}),Xl=t=>(e,n)=>{let r=jN(e,t,n);return Vs({type:2,toast:r}),r.id},Jt=(t,e)=>Xl("blank")(t,e);Jt.error=Xl("error");Jt.success=Xl("success");Jt.loading=Xl("loading");Jt.custom=Xl("custom");Jt.dismiss=t=>{Vs({type:3,toastId:t})};Jt.remove=t=>Vs({type:4,toastId:t});Jt.promise=(t,e,n)=>{let r=Jt.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let s=e.success?ah(e.success,i):void 0;return s?Jt.success(s,{id:r,...n,...n==null?void 0:n.success}):Jt.dismiss(r),i}).catch(i=>{let s=e.error?ah(e.error,i):void 0;s?Jt.error(s,{id:r,...n,...n==null?void 0:n.error}):Jt.dismiss(r)}),t};var DN=(t,e)=>{Vs({type:1,toast:{id:t,height:e}})},ON=()=>{Vs({type:5,time:Date.now()})},tl=new Map,LN=1e3,MN=(t,e=LN)=>{if(tl.has(t))return;let n=setTimeout(()=>{tl.delete(t),Vs({type:4,toastId:t})},e);tl.set(t,n)},FN=t=>{let{toasts:e,pausedAt:n}=RN(t);M.useEffect(()=>{if(n)return;let s=Date.now(),o=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(s-a.createdAt);if(l<0){a.visible&&Jt.dismiss(a.id);return}return setTimeout(()=>Jt.dismiss(a.id),l)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[e,n]);let r=M.useCallback(()=>{n&&Vs({type:6,time:Date.now()})},[n]),i=M.useCallback((s,o)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:c}=o||{},d=e.filter(g=>(g.position||c)===(s.position||c)&&g.height),f=d.findIndex(g=>g.id===s.id),p=d.filter((g,w)=>w<f&&g.visible).length;return d.filter(g=>g.visible).slice(...a?[p+1]:[0,p]).reduce((g,w)=>g+(w.height||0)+l,0)},[e]);return M.useEffect(()=>{e.forEach(s=>{if(s.dismissed)MN(s.id,s.removeDelay);else{let o=tl.get(s.id);o&&(clearTimeout(o),tl.delete(s.id))}})},[e]),{toasts:e,handlers:{updateHeight:DN,startPause:ON,endPause:r,calculateOffset:i}}},VN=Fr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,zN=Fr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,UN=Fr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,$N=Gi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${VN} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${zN} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${UN} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,BN=Fr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,HN=Gi("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${BN} 1s linear infinite;
`,qN=Fr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,WN=Fr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,GN=Gi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${qN} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${WN} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,KN=Gi("div")`
  position: absolute;
`,QN=Gi("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,YN=Fr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,JN=Gi("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${YN} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,XN=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?M.createElement(JN,null,e):e:n==="blank"?null:M.createElement(QN,null,M.createElement(HN,{...r}),n!=="loading"&&M.createElement(KN,null,n==="error"?M.createElement($N,{...r}):M.createElement(GN,{...r})))},ZN=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,eP=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,tP="0%{opacity:0;} 100%{opacity:1;}",nP="0%{opacity:1;} 100%{opacity:0;}",rP=Gi("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,iP=Gi("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,sP=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=yb()?[tP,nP]:[ZN(n),eP(n)];return{animation:e?`${Fr(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Fr(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},oP=M.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?sP(t.position||e||"top-center",t.visible):{opacity:0},s=M.createElement(XN,{toast:t}),o=M.createElement(iP,{...t.ariaProps},ah(t.message,t));return M.createElement(rP,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:s,message:o}):M.createElement(M.Fragment,null,s,o))});IN(M.createElement);var aP=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let s=M.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;r(t,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return M.createElement("div",{ref:s,className:e,style:n},i)},lP=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:yb()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},uP=ed`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Qu=16,cP=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,containerStyle:s,containerClassName:o})=>{let{toasts:a,handlers:l}=FN(n);return M.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Qu,left:Qu,right:Qu,bottom:Qu,pointerEvents:"none",...s},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(c=>{let d=c.position||e,f=l.calculateOffset(c,{reverseOrder:t,gutter:r,defaultPosition:e}),p=lP(d,f);return M.createElement(aP,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?uP:"",style:p},c.type==="custom"?ah(c.message,c):i?i(c):M.createElement(oP,{toast:c,position:d}))}))},xb=Jt;const hP=()=>{};var nx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},dP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},_b={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=s>>2,f=(s&3)<<4|a>>4;let p=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(p=64)),r.push(n[d],n[f],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(wb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):dP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||f==null)throw new fP;const p=s<<2|a>>4;if(r.push(p),c!==64){const g=a<<4&240|c>>2;if(r.push(g),f!==64){const w=c<<6&192|f;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class fP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pP=function(t){const e=wb(t);return _b.encodeByteArray(e,!0)},lh=function(t){return pP(t).replace(/\./g,"")},Eb=function(t){try{return _b.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP=()=>mP().__FIREBASE_DEFAULTS__,yP=()=>{if(typeof process>"u"||typeof nx>"u")return;const t=nx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},vP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Eb(t[1]);return e&&JSON.parse(e)},td=()=>{try{return hP()||gP()||yP()||vP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},bb=t=>{var e,n;return(n=(e=td())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},xP=t=>{const e=bb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},kb=()=>{var t;return(t=td())===null||t===void 0?void 0:t.config},Sb=t=>{var e;return(e=td())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ta(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Tb(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _P(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[lh(JSON.stringify(n)),lh(JSON.stringify(o)),""].join(".")}const nl={};function EP(){const t={prod:[],emulator:[]};for(const e of Object.keys(nl))nl[e]?t.emulator.push(e):t.prod.push(e);return t}function bP(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let rx=!1;function Ib(t,e){if(typeof window>"u"||typeof document>"u"||!ta(window.location.host)||nl[t]===e||nl[t]||rx)return;nl[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",s=EP().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,g){p.setAttribute("width","24"),p.setAttribute("id",g),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{rx=!0,o()},p}function d(p,g){p.setAttribute("id",g),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=bP(r),g=n("text"),w=document.getElementById(g)||document.createElement("span"),T=n("learnmore"),I=document.getElementById(T)||document.createElement("a"),E=n("preprendIcon"),v=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const x=p.element;a(x),d(I,T);const N=c();l(v,E),x.append(v,w,I,N),document.body.appendChild(x)}s?(w.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bt())}function SP(){var t;const e=(t=td())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function IP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function CP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AP(){const t=Bt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function NP(){return!SP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PP(){try{return typeof indexedDB=="object"}catch{return!1}}function RP(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP="FirebaseError";class Hr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=jP,Object.setPrototypeOf(this,Hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zl.prototype.create)}}class Zl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?DP(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Hr(i,a,r)}}function DP(t,e){return t.replace(OP,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const OP=/\{\$([^}]+)}/g;function LP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ns(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(ix(s)&&ix(o)){if(!Ns(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ix(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Fa(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Va(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function MP(t,e){const n=new FP(t,e);return n.subscribe.bind(n)}class FP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");VP(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=pf),i.error===void 0&&(i.error=pf),i.complete===void 0&&(i.complete=pf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function VP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function pf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(t){return t&&t._delegate?t._delegate:t}class Ps{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new wP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($P(e))try{this.getOrInitializeService({instanceIdentifier:ps})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ps){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ps){return this.instances.has(e)}getOptions(e=ps){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:UP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ps){return this.component?this.component.multipleInstances?e:ps:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function UP(t){return t===ps?void 0:t}function $P(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new zP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ce||(Ce={}));const HP={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},qP=Ce.INFO,WP={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},GP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=WP[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ag{constructor(e){this.name=e,this._logLevel=qP,this._logHandler=GP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}}const KP=(t,e)=>e.some(n=>t instanceof n);let sx,ox;function QP(){return sx||(sx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YP(){return ox||(ox=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Cb=new WeakMap,Vp=new WeakMap,Ab=new WeakMap,mf=new WeakMap,Ng=new WeakMap;function JP(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Si(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Cb.set(n,t)}).catch(()=>{}),Ng.set(e,t),e}function XP(t){if(Vp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Vp.set(t,e)}let zp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Vp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ab.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Si(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ZP(t){zp=t(zp)}function eR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(gf(this),e,...n);return Ab.set(r,e.sort?e.sort():[e]),Si(r)}:YP().includes(t)?function(...e){return t.apply(gf(this),e),Si(Cb.get(this))}:function(...e){return Si(t.apply(gf(this),e))}}function tR(t){return typeof t=="function"?eR(t):(t instanceof IDBTransaction&&XP(t),KP(t,QP())?new Proxy(t,zp):t)}function Si(t){if(t instanceof IDBRequest)return JP(t);if(mf.has(t))return mf.get(t);const e=tR(t);return e!==t&&(mf.set(t,e),Ng.set(e,t)),e}const gf=t=>Ng.get(t);function nR(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Si(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Si(o.result),l.oldVersion,l.newVersion,Si(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const rR=["get","getKey","getAll","getAllKeys","count"],iR=["put","add","delete","clear"],yf=new Map;function ax(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(yf.get(e))return yf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=iR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||rR.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return yf.set(e,s),s}ZP(t=>({...t,get:(e,n,r)=>ax(e,n)||t.get(e,n,r),has:(e,n)=>!!ax(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(oR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function oR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Up="@firebase/app",lx="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr=new Ag("@firebase/app"),aR="@firebase/app-compat",lR="@firebase/analytics-compat",uR="@firebase/analytics",cR="@firebase/app-check-compat",hR="@firebase/app-check",dR="@firebase/auth",fR="@firebase/auth-compat",pR="@firebase/database",mR="@firebase/data-connect",gR="@firebase/database-compat",yR="@firebase/functions",vR="@firebase/functions-compat",xR="@firebase/installations",wR="@firebase/installations-compat",_R="@firebase/messaging",ER="@firebase/messaging-compat",bR="@firebase/performance",kR="@firebase/performance-compat",SR="@firebase/remote-config",TR="@firebase/remote-config-compat",IR="@firebase/storage",CR="@firebase/storage-compat",AR="@firebase/firestore",NR="@firebase/ai",PR="@firebase/firestore-compat",RR="firebase",jR="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p="[DEFAULT]",DR={[Up]:"fire-core",[aR]:"fire-core-compat",[uR]:"fire-analytics",[lR]:"fire-analytics-compat",[hR]:"fire-app-check",[cR]:"fire-app-check-compat",[dR]:"fire-auth",[fR]:"fire-auth-compat",[pR]:"fire-rtdb",[mR]:"fire-data-connect",[gR]:"fire-rtdb-compat",[yR]:"fire-fn",[vR]:"fire-fn-compat",[xR]:"fire-iid",[wR]:"fire-iid-compat",[_R]:"fire-fcm",[ER]:"fire-fcm-compat",[bR]:"fire-perf",[kR]:"fire-perf-compat",[SR]:"fire-rc",[TR]:"fire-rc-compat",[IR]:"fire-gcs",[CR]:"fire-gcs-compat",[AR]:"fire-fst",[PR]:"fire-fst-compat",[NR]:"fire-vertex","fire-js":"fire-js",[RR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh=new Map,OR=new Map,Bp=new Map;function ux(t,e){try{t.container.addComponent(e)}catch(n){Vr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Vo(t){const e=t.name;if(Bp.has(e))return Vr.debug(`There were multiple attempts to register component ${e}.`),!1;Bp.set(e,t);for(const n of uh.values())ux(n,t);for(const n of OR.values())ux(n,t);return!0}function Pg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Nn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ti=new Zl("app","Firebase",LR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ps("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ti.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na=jR;function Nb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:$p,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Ti.create("bad-app-name",{appName:String(i)});if(n||(n=kb()),!n)throw Ti.create("no-options");const s=uh.get(i);if(s){if(Ns(n,s.options)&&Ns(r,s.config))return s;throw Ti.create("duplicate-app",{appName:i})}const o=new BP(i);for(const l of Bp.values())o.addComponent(l);const a=new MR(n,r,o);return uh.set(i,a),a}function Pb(t=$p){const e=uh.get(t);if(!e&&t===$p&&kb())return Nb();if(!e)throw Ti.create("no-app",{appName:t});return e}function Ii(t,e,n){var r;let i=(r=DR[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vr.warn(a.join(" "));return}Vo(new Ps(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR="firebase-heartbeat-database",VR=1,Pl="firebase-heartbeat-store";let vf=null;function Rb(){return vf||(vf=nR(FR,VR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Pl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ti.create("idb-open",{originalErrorMessage:t.message})})),vf}async function zR(t){try{const n=(await Rb()).transaction(Pl),r=await n.objectStore(Pl).get(jb(t));return await n.done,r}catch(e){if(e instanceof Hr)Vr.warn(e.message);else{const n=Ti.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Vr.warn(n.message)}}}async function cx(t,e){try{const r=(await Rb()).transaction(Pl,"readwrite");await r.objectStore(Pl).put(e,jb(t)),await r.done}catch(n){if(n instanceof Hr)Vr.warn(n.message);else{const r=Ti.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Vr.warn(r.message)}}}function jb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=1024,$R=30;class BR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new qR(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=hx();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>$R){const o=WR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Vr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=hx(),{heartbeatsToSend:r,unsentEntries:i}=HR(this._heartbeatsCache.heartbeats),s=lh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Vr.warn(n),""}}}function hx(){return new Date().toISOString().substring(0,10)}function HR(t,e=UR){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),dx(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),dx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class qR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PP()?RP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await zR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return cx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return cx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function dx(t){return lh(JSON.stringify({version:2,heartbeats:t})).length}function WR(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(t){Vo(new Ps("platform-logger",e=>new sR(e),"PRIVATE")),Vo(new Ps("heartbeat",e=>new BR(e),"PRIVATE")),Ii(Up,lx,t),Ii(Up,lx,"esm2017"),Ii("fire-js","")}GR("");var KR="firebase",QR="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ii(KR,QR,"app");function Rg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Db(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const YR=Db,Ob=new Zl("auth","Firebase",Db());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch=new Ag("@firebase/auth");function JR(t,...e){ch.logLevel<=Ce.WARN&&ch.warn(`Auth (${na}): ${t}`,...e)}function _c(t,...e){ch.logLevel<=Ce.ERROR&&ch.error(`Auth (${na}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(t,...e){throw Dg(t,...e)}function Qn(t,...e){return Dg(t,...e)}function jg(t,e,n){const r=Object.assign(Object.assign({},YR()),{[e]:n});return new Zl("auth","Firebase",r).create(e,{appName:t.name})}function Ci(t){return jg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function XR(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ln(t,"argument-error"),jg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Dg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Ob.create(t,...e)}function ae(t,e,...n){if(!t)throw Dg(e,...n)}function Pr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw _c(e),new Error(e)}function zr(t,e){t||Pr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hh(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function ZR(){return fx()==="http:"||fx()==="https:"}function fx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ZR()||IP()||"connection"in navigator)?navigator.onLine:!0}function t4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e,n){this.shortDelay=e,this.longDelay=n,zr(n>e,"Short delay should be less than long delay!"),this.isMobile=kP()||CP()}get(){return e4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(t,e){zr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Pr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Pr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Pr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],i4=new tu(3e4,6e4);function Ki(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function qr(t,e,n,r,i={}){return Mb(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=eu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return TP()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&ta(t.emulatorConfig.host)&&(c.credentials="include"),Lb.fetch()(await Fb(t,t.config.apiHost,n,a),c)})}async function Mb(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},n4),e);try{const i=new o4(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Yu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Yu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Yu(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw jg(t,d,c);Ln(t,d)}}catch(i){if(i instanceof Hr)throw i;Ln(t,"network-request-failed",{message:String(i)})}}async function nd(t,e,n,r,i={}){const s=await qr(t,e,n,r,i);return"mfaPendingCredential"in s&&Ln(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function Fb(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?Og(t.config,i):`${t.config.apiScheme}://${i}`;return r4.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function s4(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class o4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Qn(this.auth,"network-request-failed")),i4.get())})}}function Yu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Qn(t,e,r);return i.customData._tokenResponse=n,i}function px(t){return t!==void 0&&t.enterprise!==void 0}class a4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return s4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function l4(t,e){return qr(t,"GET","/v2/recaptchaConfig",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u4(t,e){return qr(t,"POST","/v1/accounts:delete",e)}async function dh(t,e){return qr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function c4(t,e=!1){const n=Ht(t),r=await n.getIdToken(e),i=Lg(r);ae(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:rl(xf(i.auth_time)),issuedAtTime:rl(xf(i.iat)),expirationTime:rl(xf(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function xf(t){return Number(t)*1e3}function Lg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return _c("JWT malformed, contained fewer than 3 sections"),null;try{const i=Eb(n);return i?JSON.parse(i):(_c("Failed to decode base64 JWT payload"),null)}catch(i){return _c("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function mx(t){const e=Lg(t);return ae(e,"internal-error"),ae(typeof e.exp<"u","internal-error"),ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Hr&&h4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function h4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=rl(this.lastLoginAt),this.creationTime=rl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Rl(t,dh(n,{idToken:r}));ae(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Vb(s.providerUserInfo):[],a=p4(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Hp(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function f4(t){const e=Ht(t);await fh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function p4(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Vb(t){return t.map(e=>{var{providerId:n}=e,r=Rg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m4(t,e){const n=await Mb(t,{},async()=>{const r=eu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await Fb(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&ta(t.emulatorConfig.host)&&(l.credentials="include"),Lb.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function g4(t,e){return qr(t,"POST","/v2/accounts:revokeToken",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ae(e.idToken,"internal-error"),ae(typeof e.idToken<"u","internal-error"),ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ae(e.length!==0,"internal-error");const n=mx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await m4(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Io;return r&&(ae(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ae(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ae(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Io,this.toJSON())}_performRefresh(){return Pr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(t,e){ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Wn{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Rg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new d4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Hp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Rl(this,this.stsTokenManager.getToken(this.auth,e));return ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return c4(this,e)}reload(){return f4(this)}_assign(e){this!==e&&(ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Wn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await fh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Nn(this.auth.app))return Promise.reject(Ci(this.auth));const e=await this.getIdToken();return await Rl(this,u4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,T=(a=n.tenantId)!==null&&a!==void 0?a:void 0,I=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,E=(c=n.createdAt)!==null&&c!==void 0?c:void 0,v=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:x,emailVerified:N,isAnonymous:O,providerData:A,stsTokenManager:k}=n;ae(x&&k,e,"internal-error");const b=Io.fromJSON(this.name,k);ae(typeof x=="string",e,"internal-error"),ei(f,e.name),ei(p,e.name),ae(typeof N=="boolean",e,"internal-error"),ae(typeof O=="boolean",e,"internal-error"),ei(g,e.name),ei(w,e.name),ei(T,e.name),ei(I,e.name),ei(E,e.name),ei(v,e.name);const S=new Wn({uid:x,auth:e,email:p,emailVerified:N,displayName:f,isAnonymous:O,photoURL:w,phoneNumber:g,tenantId:T,stsTokenManager:b,createdAt:E,lastLoginAt:v});return A&&Array.isArray(A)&&(S.providerData=A.map(_=>Object.assign({},_))),I&&(S._redirectEventId=I),S}static async _fromIdTokenResponse(e,n,r=!1){const i=new Io;i.updateFromServerResponse(n);const s=new Wn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await fh(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ae(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Vb(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Io;a.updateFromIdToken(r);const l=new Wn({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Hp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx=new Map;function Rr(t){zr(t instanceof Function,"Expected a class definition");let e=gx.get(t);return e?(zr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,gx.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}zb.type="NONE";const yx=zb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(t,e,n){return`firebase:${t}:${e}:${n}`}class Co{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ec(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ec("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await dh(this.auth,{idToken:e}).catch(()=>{});return n?Wn._fromGetAccountInfoResponse(this.auth,n,e):null}return Wn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Co(Rr(yx),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Rr(yx);const o=Ec(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){let f;if(typeof d=="string"){const p=await dh(e,{idToken:d}).catch(()=>{});if(!p)break;f=await Wn._fromGetAccountInfoResponse(e,p,d)}else f=Wn._fromJSON(e,d);c!==s&&(a=f),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Co(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Co(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Hb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ub(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Wb(e))return"Blackberry";if(Gb(e))return"Webos";if($b(e))return"Safari";if((e.includes("chrome/")||Bb(e))&&!e.includes("edge/"))return"Chrome";if(qb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Ub(t=Bt()){return/firefox\//i.test(t)}function $b(t=Bt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Bb(t=Bt()){return/crios\//i.test(t)}function Hb(t=Bt()){return/iemobile/i.test(t)}function qb(t=Bt()){return/android/i.test(t)}function Wb(t=Bt()){return/blackberry/i.test(t)}function Gb(t=Bt()){return/webos/i.test(t)}function Mg(t=Bt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function y4(t=Bt()){var e;return Mg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function v4(){return AP()&&document.documentMode===10}function Kb(t=Bt()){return Mg(t)||qb(t)||Gb(t)||Wb(t)||/windows phone/i.test(t)||Hb(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(t,e=[]){let n;switch(t){case"Browser":n=vx(Bt());break;case"Worker":n=`${vx(Bt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${na}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w4(t,e={}){return qr(t,"GET","/v2/passwordPolicy",Ki(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4=6;class E4{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:_4,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xx(this),this.idTokenSubscription=new xx(this),this.beforeStateQueue=new x4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ob,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Rr(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Co.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await dh(this,{idToken:e}),r=await Wn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Nn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await fh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=t4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Nn(this.app))return Promise.reject(Ci(this));const n=e?Ht(e):null;return n&&ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Nn(this.app)?Promise.reject(Ci(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Nn(this.app)?Promise.reject(Ci(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await w4(this),n=new E4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Zl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await g4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Rr(e)||this._popupRedirectResolver;ae(n,this,"argument-error"),this.redirectPersistenceManager=await Co.create(this,[Rr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ae(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Qb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&JR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function zs(t){return Ht(t)}class xx{constructor(e){this.auth=e,this.observer=null,this.addObserver=MP(n=>this.observer=n)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function k4(t){rd=t}function Yb(t){return rd.loadJS(t)}function S4(){return rd.recaptchaEnterpriseScript}function T4(){return rd.gapiScript}function I4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class C4{constructor(){this.enterprise=new A4}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class A4{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const N4="recaptcha-enterprise",Jb="NO_RECAPTCHA";class P4{constructor(e){this.type=N4,this.auth=zs(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{l4(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new a4(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;px(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(Jb)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new C4().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&px(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=S4();l.length!==0&&(l+=a),Yb(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function wx(t,e,n,r=!1,i=!1){const s=new P4(t);let o;if(i)o=Jb;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function qp(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await wx(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await wx(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R4(t,e){const n=Pg(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Ns(s,e??{}))return i;Ln(i,"already-initialized")}return n.initialize({options:e})}function j4(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Rr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function D4(t,e,n){const r=zs(t);ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=Xb(e),{host:o,port:a}=O4(e),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ae(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ae(Ns(c,r.config.emulator)&&Ns(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,ta(o)?(Tb(`${s}//${o}${l}`),Ib("Auth",!0)):L4()}function Xb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function O4(t){const e=Xb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:_x(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:_x(o)}}}function _x(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function L4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Pr("not implemented")}_getIdTokenResponse(e){return Pr("not implemented")}_linkToIdToken(e,n){return Pr("not implemented")}_getReauthenticationResolver(e){return Pr("not implemented")}}async function M4(t,e){return qr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F4(t,e){return nd(t,"POST","/v1/accounts:signInWithPassword",Ki(t,e))}async function V4(t,e){return qr(t,"POST","/v1/accounts:sendOobCode",Ki(t,e))}async function z4(t,e){return V4(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U4(t,e){return nd(t,"POST","/v1/accounts:signInWithEmailLink",Ki(t,e))}async function $4(t,e){return nd(t,"POST","/v1/accounts:signInWithEmailLink",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl extends Fg{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new jl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new jl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qp(e,n,"signInWithPassword",F4);case"emailLink":return U4(e,{email:this._email,oobCode:this._password});default:Ln(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qp(e,r,"signUpPassword",M4);case"emailLink":return $4(e,{idToken:n,email:this._email,oobCode:this._password});default:Ln(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ao(t,e){return nd(t,"POST","/v1/accounts:signInWithIdp",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4="http://localhost";class Rs extends Fg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Rs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ln("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Rg(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Rs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ao(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ao(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ao(e,n)}buildRequest(){const e={requestUri:B4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=eu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function q4(t){const e=Fa(Va(t)).link,n=e?Fa(Va(e)).deep_link_id:null,r=Fa(Va(t)).deep_link_id;return(r?Fa(Va(r)).link:null)||r||n||e||t}class id{constructor(e){var n,r,i,s,o,a;const l=Fa(Va(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,f=H4((i=l.mode)!==null&&i!==void 0?i:null);ae(c&&d&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=q4(e);try{return new id(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(){this.providerId=ra.PROVIDER_ID}static credential(e,n){return jl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=id.parseLink(n);return ae(r,"argument-error"),jl._fromEmailAndCode(e,r.code,r.tenantId)}}ra.PROVIDER_ID="password";ra.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ra.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu extends Vg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li extends nu{constructor(){super("facebook.com")}static credential(e){return Rs._fromParams({providerId:li.PROVIDER_ID,signInMethod:li.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return li.credentialFromTaggedObject(e)}static credentialFromError(e){return li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return li.credential(e.oauthAccessToken)}catch{return null}}}li.FACEBOOK_SIGN_IN_METHOD="facebook.com";li.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends nu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Rs._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Cr.credentialFromTaggedObject(e)}static credentialFromError(e){return Cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Cr.credential(n,r)}catch{return null}}}Cr.GOOGLE_SIGN_IN_METHOD="google.com";Cr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui extends nu{constructor(){super("github.com")}static credential(e){return Rs._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ui.credential(e.oauthAccessToken)}catch{return null}}}ui.GITHUB_SIGN_IN_METHOD="github.com";ui.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends nu{constructor(){super("twitter.com")}static credential(e,n){return Rs._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ci.credential(n,r)}catch{return null}}}ci.TWITTER_SIGN_IN_METHOD="twitter.com";ci.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Wn._fromIdTokenResponse(e,r,i),o=Ex(r);return new zo({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Ex(r);return new zo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Ex(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph extends Hr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ph.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ph(e,n,r,i)}}function Zb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ph._fromErrorAndOperation(t,s,e,r):s})}async function W4(t,e,n=!1){const r=await Rl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return zo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G4(t,e,n=!1){const{auth:r}=t;if(Nn(r.app))return Promise.reject(Ci(r));const i="reauthenticate";try{const s=await Rl(t,Zb(r,i,e,t),n);ae(s.idToken,r,"internal-error");const o=Lg(s.idToken);ae(o,r,"internal-error");const{sub:a}=o;return ae(t.uid===a,r,"user-mismatch"),zo._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ln(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ek(t,e,n=!1){if(Nn(t.app))return Promise.reject(Ci(t));const r="signIn",i=await Zb(t,r,e),s=await zo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function K4(t,e){return ek(zs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q4(t,e,n){var r;ae(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),ae(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),ae(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ae(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(ae(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y4(t,e,n){const r=zs(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(o,a){ae(a.handleCodeInApp,r,"argument-error"),a&&Q4(r,o,a)}s(i,n),await qp(r,i,"getOobCode",z4)}function J4(t,e){const n=id.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function X4(t,e,n){if(Nn(t.app))return Promise.reject(Ci(t));const r=Ht(t),i=ra.credentialWithLink(e,n||hh());return ae(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),K4(r,i)}function Z4(t,e,n,r){return Ht(t).onIdTokenChanged(e,n,r)}function ej(t,e,n){return Ht(t).beforeAuthStateChanged(e,n)}function tj(t,e,n,r){return Ht(t).onAuthStateChanged(e,n,r)}function nj(t){return Ht(t).signOut()}const mh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(mh,"1"),this.storage.removeItem(mh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rj=1e3,ij=10;class nk extends tk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Kb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);v4()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,ij):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},rj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}nk.type="LOCAL";const sj=nk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk extends tk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}rk.type="SESSION";const ik=rk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new sd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await oj(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=zg("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const p=f;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(){return window}function lj(t){hr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sk(){return typeof hr().WorkerGlobalScope<"u"&&typeof hr().importScripts=="function"}async function uj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function cj(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function hj(){return sk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok="firebaseLocalStorageDb",dj=1,gh="firebaseLocalStorage",ak="fbase_key";class ru{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function od(t,e){return t.transaction([gh],e?"readwrite":"readonly").objectStore(gh)}function fj(){const t=indexedDB.deleteDatabase(ok);return new ru(t).toPromise()}function Wp(){const t=indexedDB.open(ok,dj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(gh,{keyPath:ak})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(gh)?e(r):(r.close(),await fj(),e(await Wp()))})})}async function bx(t,e,n){const r=od(t,!0).put({[ak]:e,value:n});return new ru(r).toPromise()}async function pj(t,e){const n=od(t,!1).get(e),r=await new ru(n).toPromise();return r===void 0?null:r.value}function kx(t,e){const n=od(t,!0).delete(e);return new ru(n).toPromise()}const mj=800,gj=3;class lk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>gj)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sd._getInstance(hj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await uj(),!this.activeServiceWorker)return;this.sender=new aj(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||cj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wp();return await bx(e,mh,"1"),await kx(e,mh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>bx(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>pj(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>kx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=od(i,!1).getAll();return new ru(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),mj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}lk.type="LOCAL";const yj=lk;new tu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uk(t,e){return e?Rr(e):(ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug extends Fg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ao(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ao(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ao(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function vj(t){return ek(t.auth,new Ug(t),t.bypassAuthState)}function xj(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),G4(n,new Ug(t),t.bypassAuthState)}async function wj(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),W4(n,new Ug(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vj;case"linkViaPopup":case"linkViaRedirect":return wj;case"reauthViaPopup":case"reauthViaRedirect":return xj;default:Ln(this.auth,"internal-error")}}resolve(e){zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j=new tu(2e3,1e4);async function Ej(t,e,n){if(Nn(t.app))return Promise.reject(Qn(t,"operation-not-supported-in-this-environment"));const r=zs(t);XR(t,e,Vg);const i=uk(r,n);return new ws(r,"signInViaPopup",e,i).executeNotNull()}class ws extends ck{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ws.currentPopupAction&&ws.currentPopupAction.cancel(),ws.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ae(e,this.auth,"internal-error"),e}async onExecution(){zr(this.filter.length===1,"Popup operations only handle one event");const e=zg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Qn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ws.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_j.get())};e()}}ws.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bj="pendingRedirect",bc=new Map;class kj extends ck{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=bc.get(this.auth._key());if(!e){try{const r=await Sj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}bc.set(this.auth._key(),e)}return this.bypassAuthState||bc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Sj(t,e){const n=Cj(e),r=Ij(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Tj(t,e){bc.set(t._key(),e)}function Ij(t){return Rr(t._redirectPersistence)}function Cj(t){return Ec(bj,t.config.apiKey,t.name)}async function Aj(t,e,n=!1){if(Nn(t.app))return Promise.reject(Ci(t));const r=zs(t),i=uk(r,e),o=await new kj(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj=10*60*1e3;class Pj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Rj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!hk(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Qn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Nj&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sx(e))}saveEventToCache(e){this.cachedEventUids.add(Sx(e)),this.lastProcessedEventTime=Date.now()}}function Sx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function hk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Rj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jj(t,e={}){return qr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Oj=/^https?/;async function Lj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await jj(t);for(const n of e)try{if(Mj(n))return}catch{}Ln(t,"unauthorized-domain")}function Mj(t){const e=hh(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Oj.test(n))return!1;if(Dj.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj=new tu(3e4,6e4);function Tx(){const t=hr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Vj(t){return new Promise((e,n)=>{var r,i,s;function o(){Tx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Tx(),n(Qn(t,"network-request-failed"))},timeout:Fj.get()})}if(!((i=(r=hr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=hr().gapi)===null||s===void 0)&&s.load)o();else{const a=I4("iframefcb");return hr()[a]=()=>{gapi.load?o():n(Qn(t,"network-request-failed"))},Yb(`${T4()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw kc=null,e})}let kc=null;function zj(t){return kc=kc||Vj(t),kc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj=new tu(5e3,15e3),$j="__/auth/iframe",Bj="emulator/auth/iframe",Hj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Wj(t){const e=t.config;ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Og(e,Bj):`https://${t.config.authDomain}/${$j}`,r={apiKey:e.apiKey,appName:t.name,v:na},i=qj.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${eu(r).slice(1)}`}async function Gj(t){const e=await zj(t),n=hr().gapi;return ae(n,t,"internal-error"),e.open({where:document.body,url:Wj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Hj,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Qn(t,"network-request-failed"),a=hr().setTimeout(()=>{s(o)},Uj.get());function l(){hr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Qj=500,Yj=600,Jj="_blank",Xj="http://localhost";class Ix{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Zj(t,e,n,r=Qj,i=Yj){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Kj),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Bt().toLowerCase();n&&(a=Bb(c)?Jj:n),Ub(c)&&(e=e||Xj,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[g,w])=>`${p}${g}=${w},`,"");if(y4(c)&&a!=="_self")return eD(e||"",a),new Ix(null);const f=window.open(e||"",a,d);ae(f,t,"popup-blocked");try{f.focus()}catch{}return new Ix(f)}function eD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD="__/auth/handler",nD="emulator/auth/handler",rD=encodeURIComponent("fac");async function Cx(t,e,n,r,i,s){ae(t.config.authDomain,t,"auth-domain-config-required"),ae(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:na,eventId:i};if(e instanceof Vg){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",LP(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof nu){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${rD}=${encodeURIComponent(l)}`:"";return`${iD(t)}?${eu(a).slice(1)}${c}`}function iD({config:t}){return t.emulator?Og(t,nD):`https://${t.authDomain}/${tD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf="webStorageSupport";class sD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ik,this._completeRedirectFn=Aj,this._overrideRedirectResult=Tj}async _openPopup(e,n,r,i){var s;zr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Cx(e,n,r,hh(),i);return Zj(e,o,zg())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Cx(e,n,r,hh(),i);return lj(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(zr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Gj(e),r=new Pj(e);return n.register("authEvent",i=>(ae(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(wf,{type:wf},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[wf];o!==void 0&&n(!!o),Ln(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Lj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Kb()||$b()||Mg()}}const oD=sD;var Ax="@firebase/auth",Nx="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function uD(t){Vo(new Ps("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ae(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Qb(t)},c=new b4(r,i,s,l);return j4(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Vo(new Ps("auth-internal",e=>{const n=zs(e.getProvider("auth").getImmediate());return(r=>new aD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ii(Ax,Nx,lD(t)),Ii(Ax,Nx,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD=5*60,hD=Sb("authIdTokenMaxAge")||cD;let Px=null;const dD=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>hD)return;const i=n==null?void 0:n.token;Px!==i&&(Px=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function fD(t=Pb()){const e=Pg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=R4(t,{popupRedirectResolver:oD,persistence:[yj,sj,ik]}),r=Sb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=dD(s.toString());ej(n,o,()=>o(n.currentUser)),Z4(n,a=>o(a))}}const i=bb("auth");return i&&D4(n,`http://${i}`),n}function pD(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}k4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Qn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",pD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});uD("Browser");var Rx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ai,dk;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,b){function S(){}S.prototype=b.prototype,k.D=b.prototype,k.prototype=new S,k.prototype.constructor=k,k.C=function(_,P,D){for(var R=Array(arguments.length-2),q=2;q<arguments.length;q++)R[q-2]=arguments[q];return b.prototype[P].apply(_,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(k,b,S){S||(S=0);var _=Array(16);if(typeof b=="string")for(var P=0;16>P;++P)_[P]=b.charCodeAt(S++)|b.charCodeAt(S++)<<8|b.charCodeAt(S++)<<16|b.charCodeAt(S++)<<24;else for(P=0;16>P;++P)_[P]=b[S++]|b[S++]<<8|b[S++]<<16|b[S++]<<24;b=k.g[0],S=k.g[1],P=k.g[2];var D=k.g[3],R=b+(D^S&(P^D))+_[0]+3614090360&4294967295;b=S+(R<<7&4294967295|R>>>25),R=D+(P^b&(S^P))+_[1]+3905402710&4294967295,D=b+(R<<12&4294967295|R>>>20),R=P+(S^D&(b^S))+_[2]+606105819&4294967295,P=D+(R<<17&4294967295|R>>>15),R=S+(b^P&(D^b))+_[3]+3250441966&4294967295,S=P+(R<<22&4294967295|R>>>10),R=b+(D^S&(P^D))+_[4]+4118548399&4294967295,b=S+(R<<7&4294967295|R>>>25),R=D+(P^b&(S^P))+_[5]+1200080426&4294967295,D=b+(R<<12&4294967295|R>>>20),R=P+(S^D&(b^S))+_[6]+2821735955&4294967295,P=D+(R<<17&4294967295|R>>>15),R=S+(b^P&(D^b))+_[7]+4249261313&4294967295,S=P+(R<<22&4294967295|R>>>10),R=b+(D^S&(P^D))+_[8]+1770035416&4294967295,b=S+(R<<7&4294967295|R>>>25),R=D+(P^b&(S^P))+_[9]+2336552879&4294967295,D=b+(R<<12&4294967295|R>>>20),R=P+(S^D&(b^S))+_[10]+4294925233&4294967295,P=D+(R<<17&4294967295|R>>>15),R=S+(b^P&(D^b))+_[11]+2304563134&4294967295,S=P+(R<<22&4294967295|R>>>10),R=b+(D^S&(P^D))+_[12]+1804603682&4294967295,b=S+(R<<7&4294967295|R>>>25),R=D+(P^b&(S^P))+_[13]+4254626195&4294967295,D=b+(R<<12&4294967295|R>>>20),R=P+(S^D&(b^S))+_[14]+2792965006&4294967295,P=D+(R<<17&4294967295|R>>>15),R=S+(b^P&(D^b))+_[15]+1236535329&4294967295,S=P+(R<<22&4294967295|R>>>10),R=b+(P^D&(S^P))+_[1]+4129170786&4294967295,b=S+(R<<5&4294967295|R>>>27),R=D+(S^P&(b^S))+_[6]+3225465664&4294967295,D=b+(R<<9&4294967295|R>>>23),R=P+(b^S&(D^b))+_[11]+643717713&4294967295,P=D+(R<<14&4294967295|R>>>18),R=S+(D^b&(P^D))+_[0]+3921069994&4294967295,S=P+(R<<20&4294967295|R>>>12),R=b+(P^D&(S^P))+_[5]+3593408605&4294967295,b=S+(R<<5&4294967295|R>>>27),R=D+(S^P&(b^S))+_[10]+38016083&4294967295,D=b+(R<<9&4294967295|R>>>23),R=P+(b^S&(D^b))+_[15]+3634488961&4294967295,P=D+(R<<14&4294967295|R>>>18),R=S+(D^b&(P^D))+_[4]+3889429448&4294967295,S=P+(R<<20&4294967295|R>>>12),R=b+(P^D&(S^P))+_[9]+568446438&4294967295,b=S+(R<<5&4294967295|R>>>27),R=D+(S^P&(b^S))+_[14]+3275163606&4294967295,D=b+(R<<9&4294967295|R>>>23),R=P+(b^S&(D^b))+_[3]+4107603335&4294967295,P=D+(R<<14&4294967295|R>>>18),R=S+(D^b&(P^D))+_[8]+1163531501&4294967295,S=P+(R<<20&4294967295|R>>>12),R=b+(P^D&(S^P))+_[13]+2850285829&4294967295,b=S+(R<<5&4294967295|R>>>27),R=D+(S^P&(b^S))+_[2]+4243563512&4294967295,D=b+(R<<9&4294967295|R>>>23),R=P+(b^S&(D^b))+_[7]+1735328473&4294967295,P=D+(R<<14&4294967295|R>>>18),R=S+(D^b&(P^D))+_[12]+2368359562&4294967295,S=P+(R<<20&4294967295|R>>>12),R=b+(S^P^D)+_[5]+4294588738&4294967295,b=S+(R<<4&4294967295|R>>>28),R=D+(b^S^P)+_[8]+2272392833&4294967295,D=b+(R<<11&4294967295|R>>>21),R=P+(D^b^S)+_[11]+1839030562&4294967295,P=D+(R<<16&4294967295|R>>>16),R=S+(P^D^b)+_[14]+4259657740&4294967295,S=P+(R<<23&4294967295|R>>>9),R=b+(S^P^D)+_[1]+2763975236&4294967295,b=S+(R<<4&4294967295|R>>>28),R=D+(b^S^P)+_[4]+1272893353&4294967295,D=b+(R<<11&4294967295|R>>>21),R=P+(D^b^S)+_[7]+4139469664&4294967295,P=D+(R<<16&4294967295|R>>>16),R=S+(P^D^b)+_[10]+3200236656&4294967295,S=P+(R<<23&4294967295|R>>>9),R=b+(S^P^D)+_[13]+681279174&4294967295,b=S+(R<<4&4294967295|R>>>28),R=D+(b^S^P)+_[0]+3936430074&4294967295,D=b+(R<<11&4294967295|R>>>21),R=P+(D^b^S)+_[3]+3572445317&4294967295,P=D+(R<<16&4294967295|R>>>16),R=S+(P^D^b)+_[6]+76029189&4294967295,S=P+(R<<23&4294967295|R>>>9),R=b+(S^P^D)+_[9]+3654602809&4294967295,b=S+(R<<4&4294967295|R>>>28),R=D+(b^S^P)+_[12]+3873151461&4294967295,D=b+(R<<11&4294967295|R>>>21),R=P+(D^b^S)+_[15]+530742520&4294967295,P=D+(R<<16&4294967295|R>>>16),R=S+(P^D^b)+_[2]+3299628645&4294967295,S=P+(R<<23&4294967295|R>>>9),R=b+(P^(S|~D))+_[0]+4096336452&4294967295,b=S+(R<<6&4294967295|R>>>26),R=D+(S^(b|~P))+_[7]+1126891415&4294967295,D=b+(R<<10&4294967295|R>>>22),R=P+(b^(D|~S))+_[14]+2878612391&4294967295,P=D+(R<<15&4294967295|R>>>17),R=S+(D^(P|~b))+_[5]+4237533241&4294967295,S=P+(R<<21&4294967295|R>>>11),R=b+(P^(S|~D))+_[12]+1700485571&4294967295,b=S+(R<<6&4294967295|R>>>26),R=D+(S^(b|~P))+_[3]+2399980690&4294967295,D=b+(R<<10&4294967295|R>>>22),R=P+(b^(D|~S))+_[10]+4293915773&4294967295,P=D+(R<<15&4294967295|R>>>17),R=S+(D^(P|~b))+_[1]+2240044497&4294967295,S=P+(R<<21&4294967295|R>>>11),R=b+(P^(S|~D))+_[8]+1873313359&4294967295,b=S+(R<<6&4294967295|R>>>26),R=D+(S^(b|~P))+_[15]+4264355552&4294967295,D=b+(R<<10&4294967295|R>>>22),R=P+(b^(D|~S))+_[6]+2734768916&4294967295,P=D+(R<<15&4294967295|R>>>17),R=S+(D^(P|~b))+_[13]+1309151649&4294967295,S=P+(R<<21&4294967295|R>>>11),R=b+(P^(S|~D))+_[4]+4149444226&4294967295,b=S+(R<<6&4294967295|R>>>26),R=D+(S^(b|~P))+_[11]+3174756917&4294967295,D=b+(R<<10&4294967295|R>>>22),R=P+(b^(D|~S))+_[2]+718787259&4294967295,P=D+(R<<15&4294967295|R>>>17),R=S+(D^(P|~b))+_[9]+3951481745&4294967295,k.g[0]=k.g[0]+b&4294967295,k.g[1]=k.g[1]+(P+(R<<21&4294967295|R>>>11))&4294967295,k.g[2]=k.g[2]+P&4294967295,k.g[3]=k.g[3]+D&4294967295}r.prototype.u=function(k,b){b===void 0&&(b=k.length);for(var S=b-this.blockSize,_=this.B,P=this.h,D=0;D<b;){if(P==0)for(;D<=S;)i(this,k,D),D+=this.blockSize;if(typeof k=="string"){for(;D<b;)if(_[P++]=k.charCodeAt(D++),P==this.blockSize){i(this,_),P=0;break}}else for(;D<b;)if(_[P++]=k[D++],P==this.blockSize){i(this,_),P=0;break}}this.h=P,this.o+=b},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var b=1;b<k.length-8;++b)k[b]=0;var S=8*this.o;for(b=k.length-8;b<k.length;++b)k[b]=S&255,S/=256;for(this.u(k),k=Array(16),b=S=0;4>b;++b)for(var _=0;32>_;_+=8)k[S++]=this.g[b]>>>_&255;return k};function s(k,b){var S=a;return Object.prototype.hasOwnProperty.call(S,k)?S[k]:S[k]=b(k)}function o(k,b){this.h=b;for(var S=[],_=!0,P=k.length-1;0<=P;P--){var D=k[P]|0;_&&D==b||(S[P]=D,_=!1)}this.g=S}var a={};function l(k){return-128<=k&&128>k?s(k,function(b){return new o([b|0],0>b?-1:0)}):new o([k|0],0>k?-1:0)}function c(k){if(isNaN(k)||!isFinite(k))return f;if(0>k)return I(c(-k));for(var b=[],S=1,_=0;k>=S;_++)b[_]=k/S|0,S*=4294967296;return new o(b,0)}function d(k,b){if(k.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(k.charAt(0)=="-")return I(d(k.substring(1),b));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=c(Math.pow(b,8)),_=f,P=0;P<k.length;P+=8){var D=Math.min(8,k.length-P),R=parseInt(k.substring(P,P+D),b);8>D?(D=c(Math.pow(b,D)),_=_.j(D).add(c(R))):(_=_.j(S),_=_.add(c(R)))}return _}var f=l(0),p=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(T(this))return-I(this).m();for(var k=0,b=1,S=0;S<this.g.length;S++){var _=this.i(S);k+=(0<=_?_:4294967296+_)*b,b*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(w(this))return"0";if(T(this))return"-"+I(this).toString(k);for(var b=c(Math.pow(k,6)),S=this,_="";;){var P=N(S,b).g;S=E(S,P.j(b));var D=((0<S.g.length?S.g[0]:S.h)>>>0).toString(k);if(S=P,w(S))return D+_;for(;6>D.length;)D="0"+D;_=D+_}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function w(k){if(k.h!=0)return!1;for(var b=0;b<k.g.length;b++)if(k.g[b]!=0)return!1;return!0}function T(k){return k.h==-1}t.l=function(k){return k=E(this,k),T(k)?-1:w(k)?0:1};function I(k){for(var b=k.g.length,S=[],_=0;_<b;_++)S[_]=~k.g[_];return new o(S,~k.h).add(p)}t.abs=function(){return T(this)?I(this):this},t.add=function(k){for(var b=Math.max(this.g.length,k.g.length),S=[],_=0,P=0;P<=b;P++){var D=_+(this.i(P)&65535)+(k.i(P)&65535),R=(D>>>16)+(this.i(P)>>>16)+(k.i(P)>>>16);_=R>>>16,D&=65535,R&=65535,S[P]=R<<16|D}return new o(S,S[S.length-1]&-2147483648?-1:0)};function E(k,b){return k.add(I(b))}t.j=function(k){if(w(this)||w(k))return f;if(T(this))return T(k)?I(this).j(I(k)):I(I(this).j(k));if(T(k))return I(this.j(I(k)));if(0>this.l(g)&&0>k.l(g))return c(this.m()*k.m());for(var b=this.g.length+k.g.length,S=[],_=0;_<2*b;_++)S[_]=0;for(_=0;_<this.g.length;_++)for(var P=0;P<k.g.length;P++){var D=this.i(_)>>>16,R=this.i(_)&65535,q=k.i(P)>>>16,Q=k.i(P)&65535;S[2*_+2*P]+=R*Q,v(S,2*_+2*P),S[2*_+2*P+1]+=D*Q,v(S,2*_+2*P+1),S[2*_+2*P+1]+=R*q,v(S,2*_+2*P+1),S[2*_+2*P+2]+=D*q,v(S,2*_+2*P+2)}for(_=0;_<b;_++)S[_]=S[2*_+1]<<16|S[2*_];for(_=b;_<2*b;_++)S[_]=0;return new o(S,0)};function v(k,b){for(;(k[b]&65535)!=k[b];)k[b+1]+=k[b]>>>16,k[b]&=65535,b++}function x(k,b){this.g=k,this.h=b}function N(k,b){if(w(b))throw Error("division by zero");if(w(k))return new x(f,f);if(T(k))return b=N(I(k),b),new x(I(b.g),I(b.h));if(T(b))return b=N(k,I(b)),new x(I(b.g),b.h);if(30<k.g.length){if(T(k)||T(b))throw Error("slowDivide_ only works with positive integers.");for(var S=p,_=b;0>=_.l(k);)S=O(S),_=O(_);var P=A(S,1),D=A(_,1);for(_=A(_,2),S=A(S,2);!w(_);){var R=D.add(_);0>=R.l(k)&&(P=P.add(S),D=R),_=A(_,1),S=A(S,1)}return b=E(k,P.j(b)),new x(P,b)}for(P=f;0<=k.l(b);){for(S=Math.max(1,Math.floor(k.m()/b.m())),_=Math.ceil(Math.log(S)/Math.LN2),_=48>=_?1:Math.pow(2,_-48),D=c(S),R=D.j(b);T(R)||0<R.l(k);)S-=_,D=c(S),R=D.j(b);w(D)&&(D=p),P=P.add(D),k=E(k,R)}return new x(P,k)}t.A=function(k){return N(this,k).h},t.and=function(k){for(var b=Math.max(this.g.length,k.g.length),S=[],_=0;_<b;_++)S[_]=this.i(_)&k.i(_);return new o(S,this.h&k.h)},t.or=function(k){for(var b=Math.max(this.g.length,k.g.length),S=[],_=0;_<b;_++)S[_]=this.i(_)|k.i(_);return new o(S,this.h|k.h)},t.xor=function(k){for(var b=Math.max(this.g.length,k.g.length),S=[],_=0;_<b;_++)S[_]=this.i(_)^k.i(_);return new o(S,this.h^k.h)};function O(k){for(var b=k.g.length+1,S=[],_=0;_<b;_++)S[_]=k.i(_)<<1|k.i(_-1)>>>31;return new o(S,k.h)}function A(k,b){var S=b>>5;b%=32;for(var _=k.g.length-S,P=[],D=0;D<_;D++)P[D]=0<b?k.i(D+S)>>>b|k.i(D+S+1)<<32-b:k.i(D+S);return new o(P,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,dk=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,Ai=o}).apply(typeof Rx<"u"?Rx:typeof self<"u"?self:typeof window<"u"?window:{});var Ju=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fk,za,pk,Sc,Gp,mk,gk,yk;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,y){return u==Array.prototype||u==Object.prototype||(u[m]=y.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ju=="object"&&Ju];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=n(this);function i(u,m){if(m)e:{var y=r;u=u.split(".");for(var C=0;C<u.length-1;C++){var F=u[C];if(!(F in y))break e;y=y[F]}u=u[u.length-1],C=y[u],m=m(C),m!=C&&m!=null&&e(y,u,{configurable:!0,writable:!0,value:m})}}function s(u,m){u instanceof String&&(u+="");var y=0,C=!1,F={next:function(){if(!C&&y<u.length){var z=y++;return{value:m(z,u[z]),done:!1}}return C=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}i("Array.prototype.values",function(u){return u||function(){return s(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function c(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function d(u,m,y){return u.call.apply(u.bind,arguments)}function f(u,m,y){if(!u)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,C),u.apply(m,F)}}return function(){return u.apply(m,arguments)}}function p(u,m,y){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,p.apply(null,arguments)}function g(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var C=y.slice();return C.push.apply(C,arguments),u.apply(this,C)}}function w(u,m){function y(){}y.prototype=m.prototype,u.aa=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(C,F,z){for(var Z=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)Z[Ue-2]=arguments[Ue];return m.prototype[F].apply(C,Z)}}function T(u){const m=u.length;if(0<m){const y=Array(m);for(let C=0;C<m;C++)y[C]=u[C];return y}return[]}function I(u,m){for(let y=1;y<arguments.length;y++){const C=arguments[y];if(l(C)){const F=u.length||0,z=C.length||0;u.length=F+z;for(let Z=0;Z<z;Z++)u[F+Z]=C[Z]}else u.push(C)}}class E{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function v(u){return/^[\s\xa0]*$/.test(u)}function x(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function N(u){return N[" "](u),u}N[" "]=function(){};var O=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function A(u,m,y){for(const C in u)m.call(y,u[C],C,u)}function k(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function b(u){const m={};for(const y in u)m[y]=u[y];return m}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _(u,m){let y,C;for(let F=1;F<arguments.length;F++){C=arguments[F];for(y in C)u[y]=C[y];for(let z=0;z<S.length;z++)y=S[z],Object.prototype.hasOwnProperty.call(C,y)&&(u[y]=C[y])}}function P(u){var m=1;u=u.split(":");const y=[];for(;0<m&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function D(u){a.setTimeout(()=>{throw u},0)}function R(){var u=Y;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class q{constructor(){this.h=this.g=null}add(m,y){const C=Q.get();C.set(m,y),this.h?this.h.next=C:this.g=C,this.h=C}}var Q=new E(()=>new ce,u=>u.reset());class ce{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let se,U=!1,Y=new q,j=()=>{const u=a.Promise.resolve(void 0);se=()=>{u.then(J)}};var J=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(y){D(y)}var m=Q;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}U=!1};function ne(){this.s=this.s,this.C=this.C}ne.prototype.s=!1,ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};a.addEventListener("test",y,m),a.removeEventListener("test",y,m)}catch{}return u}();function Ne(u,m){if(L.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,C=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(O){e:{try{N(m.nodeName);var F=!0;break e}catch{}F=!1}F||(m=null)}}else y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement);this.relatedTarget=m,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:he[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ne.aa.h.call(this)}}w(Ne,L);var he={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var X="closure_listenable_"+(1e6*Math.random()|0),pe=0;function ve(u,m,y,C,F){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!C,this.ha=F,this.key=++pe,this.da=this.fa=!1}function ke(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Fe(u){this.src=u,this.g={},this.h=0}Fe.prototype.add=function(u,m,y,C,F){var z=u.toString();u=this.g[z],u||(u=this.g[z]=[],this.h++);var Z=Fn(u,m,C,F);return-1<Z?(m=u[Z],y||(m.fa=!1)):(m=new ve(m,this.src,z,!!C,F),m.fa=y,u.push(m)),m};function pn(u,m){var y=m.type;if(y in u.g){var C=u.g[y],F=Array.prototype.indexOf.call(C,m,void 0),z;(z=0<=F)&&Array.prototype.splice.call(C,F,1),z&&(ke(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function Fn(u,m,y,C){for(var F=0;F<u.length;++F){var z=u[F];if(!z.da&&z.listener==m&&z.capture==!!y&&z.ha==C)return F}return-1}var _r="closure_lm_"+(1e6*Math.random()|0),Gr={};function Kr(u,m,y,C,F){if(Array.isArray(m)){for(var z=0;z<m.length;z++)Kr(u,m[z],y,C,F);return null}return y=Sn(y),u&&u[X]?u.K(m,y,c(C)?!!C.capture:!1,F):qs(u,m,y,!1,C,F)}function qs(u,m,y,C,F,z){if(!m)throw Error("Invalid event type");var Z=c(F)?!!F.capture:!!F,Ue=Qr(u);if(Ue||(u[_r]=Ue=new Fe(u)),y=Ue.add(m,y,C,Z,z),y.proxy)return y;if(C=Zi(),y.proxy=C,C.src=u,C.listener=y,u.addEventListener)ge||(F=Z),F===void 0&&(F=!1),u.addEventListener(m.toString(),C,F);else if(u.attachEvent)u.attachEvent(Ws(m.toString()),C);else if(u.addListener&&u.removeListener)u.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Zi(){function u(y){return m.call(u.src,u.listener,y)}const m=ha;return u}function es(u,m,y,C,F){if(Array.isArray(m))for(var z=0;z<m.length;z++)es(u,m[z],y,C,F);else C=c(C)?!!C.capture:!!C,y=Sn(y),u&&u[X]?(u=u.i,m=String(m).toString(),m in u.g&&(z=u.g[m],y=Fn(z,y,C,F),-1<y&&(ke(z[y]),Array.prototype.splice.call(z,y,1),z.length==0&&(delete u.g[m],u.h--)))):u&&(u=Qr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Fn(m,y,C,F)),(y=-1<u?m[u]:null)&&Vn(y))}function Vn(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[X])pn(m.i,u);else{var y=u.type,C=u.proxy;m.removeEventListener?m.removeEventListener(y,C,u.capture):m.detachEvent?m.detachEvent(Ws(y),C):m.addListener&&m.removeListener&&m.removeListener(C),(y=Qr(m))?(pn(y,u),y.h==0&&(y.src=null,m[_r]=null)):ke(u)}}}function Ws(u){return u in Gr?Gr[u]:Gr[u]="on"+u}function ha(u,m){if(u.da)u=!0;else{m=new Ne(m,this);var y=u.listener,C=u.ha||u.src;u.fa&&Vn(u),u=y.call(C,m)}return u}function Qr(u){return u=u[_r],u instanceof Fe?u:null}var Yr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sn(u){return typeof u=="function"?u:(u[Yr]||(u[Yr]=function(m){return u.handleEvent(m)}),u[Yr])}function V(){ne.call(this),this.i=new Fe(this),this.M=this,this.F=null}w(V,ne),V.prototype[X]=!0,V.prototype.removeEventListener=function(u,m,y,C){es(this,u,m,y,C)};function W(u,m){var y,C=u.F;if(C)for(y=[];C;C=C.F)y.push(C);if(u=u.M,C=m.type||m,typeof m=="string")m=new L(m,u);else if(m instanceof L)m.target=m.target||u;else{var F=m;m=new L(C,u),_(m,F)}if(F=!0,y)for(var z=y.length-1;0<=z;z--){var Z=m.g=y[z];F=de(Z,C,!0,m)&&F}if(Z=m.g=u,F=de(Z,C,!0,m)&&F,F=de(Z,C,!1,m)&&F,y)for(z=0;z<y.length;z++)Z=m.g=y[z],F=de(Z,C,!1,m)&&F}V.prototype.N=function(){if(V.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var y=u.g[m],C=0;C<y.length;C++)ke(y[C]);delete u.g[m],u.h--}}this.F=null},V.prototype.K=function(u,m,y,C){return this.i.add(String(u),m,!1,y,C)},V.prototype.L=function(u,m,y,C){return this.i.add(String(u),m,!0,y,C)};function de(u,m,y,C){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var F=!0,z=0;z<m.length;++z){var Z=m[z];if(Z&&!Z.da&&Z.capture==y){var Ue=Z.listener,St=Z.ha||Z.src;Z.fa&&pn(u.i,Z),F=Ue.call(St,C)!==!1&&F}}return F&&!C.defaultPrevented}function xe(u,m,y){if(typeof u=="function")y&&(u=p(u,y));else if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(u,m||0)}function je(u){u.g=xe(()=>{u.g=null,u.i&&(u.i=!1,je(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Wt extends ne{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:je(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gt(u){ne.call(this),this.h=u,this.g={}}w(Gt,ne);var nn=[];function Kt(u){A(u.g,function(m,y){this.g.hasOwnProperty(y)&&Vn(m)},u),u.g={}}Gt.prototype.N=function(){Gt.aa.N.call(this),Kt(this)},Gt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zn=a.JSON.stringify,xt=a.JSON.parse,Xn=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function kt(){}kt.prototype.h=null;function pu(u){return u.h||(u.h=u.i())}function mu(){}var ts={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function da(){L.call(this,"d")}w(da,L);function fa(){L.call(this,"c")}w(fa,L);var Zn={},gu=null;function ns(){return gu=gu||new V}Zn.La="serverreachability";function yu(u){L.call(this,Zn.La,u)}w(yu,L);function Er(u){const m=ns();W(m,new yu(m))}Zn.STAT_EVENT="statevent";function vu(u,m){L.call(this,Zn.STAT_EVENT,u),this.stat=m}w(vu,L);function wt(u){const m=ns();W(m,new vu(m,u))}Zn.Ma="timingevent";function pa(u,m){L.call(this,Zn.Ma,u),this.size=m}w(pa,L);function $(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},m)}function ee(){this.g=!0}ee.prototype.xa=function(){this.g=!1};function re(u,m,y,C,F,z){u.info(function(){if(u.g)if(z)for(var Z="",Ue=z.split("&"),St=0;St<Ue.length;St++){var Oe=Ue[St].split("=");if(1<Oe.length){var Rt=Oe[0];Oe=Oe[1];var jt=Rt.split("_");Z=2<=jt.length&&jt[1]=="type"?Z+(Rt+"="+Oe+"&"):Z+(Rt+"=redacted&")}}else Z=null;else Z=z;return"XMLHTTP REQ ("+C+") [attempt "+F+"]: "+m+`
`+y+`
`+Z})}function _e(u,m,y,C,F,z,Z){u.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+F+"]: "+m+`
`+y+`
`+z+" "+Z})}function Se(u,m,y,C){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+ze(u,y)+(C?" "+C:"")})}function qe(u,m){u.info(function(){return"TIMEOUT: "+m})}ee.prototype.info=function(){};function ze(u,m){if(!u.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var C=y[u];if(!(2>C.length)){var F=C[1];if(Array.isArray(F)&&!(1>F.length)){var z=F[0];if(z!="noop"&&z!="stop"&&z!="close")for(var Z=1;Z<F.length;Z++)F[Z]=""}}}}return zn(y)}catch{return m}}var st={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},er={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},rs;function is(){}w(is,kt),is.prototype.g=function(){return new XMLHttpRequest},is.prototype.i=function(){return{}},rs=new is;function tr(u,m,y,C){this.j=u,this.i=m,this.l=y,this.R=C||1,this.U=new Gt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xu}function xu(){this.i=null,this.g="",this.h=!1}var ss={},Gs={};function Nd(u,m,y){u.L=1,u.v=bu(br(m)),u.m=y,u.P=!0,nv(u,null)}function nv(u,m){u.F=Date.now(),wu(u),u.A=br(u.v);var y=u.A,C=u.R;Array.isArray(C)||(C=[String(C)]),gv(y.i,"t",C),u.C=0,y=u.j.J,u.h=new xu,u.g=Dv(u.j,y?m:null,!u.m),0<u.O&&(u.M=new Wt(p(u.Y,u,u.g),u.O)),m=u.U,y=u.g,C=u.ca;var F="readystatechange";Array.isArray(F)||(F&&(nn[0]=F.toString()),F=nn);for(var z=0;z<F.length;z++){var Z=Kr(y,F[z],C||m.handleEvent,!1,m.h||m);if(!Z)break;m.g[Z.key]=Z}m=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Er(),re(u.i,u.u,u.A,u.l,u.R,u.m)}tr.prototype.ca=function(u){u=u.target;const m=this.M;m&&kr(u)==3?m.j():this.Y(u)},tr.prototype.Y=function(u){try{if(u==this.g)e:{const jt=kr(this.g);var m=this.g.Ba();const Ys=this.g.Z();if(!(3>jt)&&(jt!=3||this.g&&(this.h.h||this.g.oa()||bv(this.g)))){this.J||jt!=4||m==7||(m==8||0>=Ys?Er(3):Er(2)),Pd(this);var y=this.g.Z();this.X=y;t:if(rv(this)){var C=bv(this.g);u="";var F=C.length,z=kr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){os(this),ma(this);var Z="";break t}this.h.i=new a.TextDecoder}for(m=0;m<F;m++)this.h.h=!0,u+=this.h.i.decode(C[m],{stream:!(z&&m==F-1)});C.length=0,this.h.g+=u,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=y==200,_e(this.i,this.u,this.A,this.l,this.R,jt,y),this.o){if(this.T&&!this.K){t:{if(this.g){var Ue,St=this.g;if((Ue=St.g?St.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Ue)){var Oe=Ue;break t}}Oe=null}if(y=Oe)Se(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Rd(this,y);else{this.o=!1,this.s=3,wt(12),os(this),ma(this);break e}}if(this.P){y=!0;let Un;for(;!this.J&&this.C<Z.length;)if(Un=II(this,Z),Un==Gs){jt==4&&(this.s=4,wt(14),y=!1),Se(this.i,this.l,null,"[Incomplete Response]");break}else if(Un==ss){this.s=4,wt(15),Se(this.i,this.l,Z,"[Invalid Chunk]"),y=!1;break}else Se(this.i,this.l,Un,null),Rd(this,Un);if(rv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),jt!=4||Z.length!=0||this.h.h||(this.s=1,wt(16),y=!1),this.o=this.o&&y,!y)Se(this.i,this.l,Z,"[Invalid Chunked Response]"),os(this),ma(this);else if(0<Z.length&&!this.W){this.W=!0;var Rt=this.j;Rt.g==this&&Rt.ba&&!Rt.M&&(Rt.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),Fd(Rt),Rt.M=!0,wt(11))}}else Se(this.i,this.l,Z,null),Rd(this,Z);jt==4&&os(this),this.o&&!this.J&&(jt==4?Nv(this.j,this):(this.o=!1,wu(this)))}else HI(this.g),y==400&&0<Z.indexOf("Unknown SID")?(this.s=3,wt(12)):(this.s=0,wt(13)),os(this),ma(this)}}}catch{}finally{}};function rv(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function II(u,m){var y=u.C,C=m.indexOf(`
`,y);return C==-1?Gs:(y=Number(m.substring(y,C)),isNaN(y)?ss:(C+=1,C+y>m.length?Gs:(m=m.slice(C,C+y),u.C=C+y,m)))}tr.prototype.cancel=function(){this.J=!0,os(this)};function wu(u){u.S=Date.now()+u.I,iv(u,u.I)}function iv(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=$(p(u.ba,u),m)}function Pd(u){u.B&&(a.clearTimeout(u.B),u.B=null)}tr.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(qe(this.i,this.A),this.L!=2&&(Er(),wt(17)),os(this),this.s=2,ma(this)):iv(this,this.S-u)};function ma(u){u.j.G==0||u.J||Nv(u.j,u)}function os(u){Pd(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Kt(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Rd(u,m){try{var y=u.j;if(y.G!=0&&(y.g==u||jd(y.h,u))){if(!u.K&&jd(y.h,u)&&y.G==3){try{var C=y.Da.g.parse(m)}catch{C=null}if(Array.isArray(C)&&C.length==3){var F=C;if(F[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)Au(y),Iu(y);else break e;Md(y),wt(18)}}else y.za=F[1],0<y.za-y.T&&37500>F[2]&&y.F&&y.v==0&&!y.C&&(y.C=$(p(y.Za,y),6e3));if(1>=av(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else ls(y,11)}else if((u.K||y.g==u)&&Au(y),!v(m))for(F=y.Da.g.parse(m),m=0;m<F.length;m++){let Oe=F[m];if(y.T=Oe[0],Oe=Oe[1],y.G==2)if(Oe[0]=="c"){y.K=Oe[1],y.ia=Oe[2];const Rt=Oe[3];Rt!=null&&(y.la=Rt,y.j.info("VER="+y.la));const jt=Oe[4];jt!=null&&(y.Aa=jt,y.j.info("SVER="+y.Aa));const Ys=Oe[5];Ys!=null&&typeof Ys=="number"&&0<Ys&&(C=1.5*Ys,y.L=C,y.j.info("backChannelRequestTimeoutMs_="+C)),C=y;const Un=u.g;if(Un){const Pu=Un.g?Un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pu){var z=C.h;z.g||Pu.indexOf("spdy")==-1&&Pu.indexOf("quic")==-1&&Pu.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(Dd(z,z.h),z.h=null))}if(C.D){const Vd=Un.g?Un.g.getResponseHeader("X-HTTP-Session-Id"):null;Vd&&(C.ya=Vd,We(C.I,C.D,Vd))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),C=y;var Z=u;if(C.qa=jv(C,C.J?C.ia:null,C.W),Z.K){lv(C.h,Z);var Ue=Z,St=C.L;St&&(Ue.I=St),Ue.B&&(Pd(Ue),wu(Ue)),C.g=Z}else Cv(C);0<y.i.length&&Cu(y)}else Oe[0]!="stop"&&Oe[0]!="close"||ls(y,7);else y.G==3&&(Oe[0]=="stop"||Oe[0]=="close"?Oe[0]=="stop"?ls(y,7):Ld(y):Oe[0]!="noop"&&y.l&&y.l.ta(Oe),y.v=0)}}Er(4)}catch{}}var CI=class{constructor(u,m){this.g=u,this.map=m}};function sv(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ov(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function av(u){return u.h?1:u.g?u.g.size:0}function jd(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Dd(u,m){u.g?u.g.add(m):u.h=m}function lv(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}sv.prototype.cancel=function(){if(this.i=uv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function uv(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.D);return m}return T(u.i)}function AI(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var m=[],y=u.length,C=0;C<y;C++)m.push(u[C]);return m}m=[],y=0;for(C in u)m[y++]=u[C];return m}function NI(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var m=[];u=u.length;for(var y=0;y<u;y++)m.push(y);return m}m=[],y=0;for(const C in u)m[y++]=C;return m}}}function cv(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var y=NI(u),C=AI(u),F=C.length,z=0;z<F;z++)m.call(void 0,C[z],y&&y[z],u)}var hv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function PI(u,m){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var C=u[y].indexOf("="),F=null;if(0<=C){var z=u[y].substring(0,C);F=u[y].substring(C+1)}else z=u[y];m(z,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function as(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof as){this.h=u.h,_u(this,u.j),this.o=u.o,this.g=u.g,Eu(this,u.s),this.l=u.l;var m=u.i,y=new va;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),dv(this,y),this.m=u.m}else u&&(m=String(u).match(hv))?(this.h=!1,_u(this,m[1]||"",!0),this.o=ga(m[2]||""),this.g=ga(m[3]||"",!0),Eu(this,m[4]),this.l=ga(m[5]||"",!0),dv(this,m[6]||"",!0),this.m=ga(m[7]||"")):(this.h=!1,this.i=new va(null,this.h))}as.prototype.toString=function(){var u=[],m=this.j;m&&u.push(ya(m,fv,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ya(m,fv,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(ya(y,y.charAt(0)=="/"?DI:jI,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",ya(y,LI)),u.join("")};function br(u){return new as(u)}function _u(u,m,y){u.j=y?ga(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Eu(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function dv(u,m,y){m instanceof va?(u.i=m,MI(u.i,u.h)):(y||(m=ya(m,OI)),u.i=new va(m,u.h))}function We(u,m,y){u.i.set(m,y)}function bu(u){return We(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function ga(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ya(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,RI),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function RI(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var fv=/[#\/\?@]/g,jI=/[#\?:]/g,DI=/[#\?]/g,OI=/[#\?@]/g,LI=/#/g;function va(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Jr(u){u.g||(u.g=new Map,u.h=0,u.i&&PI(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}t=va.prototype,t.add=function(u,m){Jr(this),this.i=null,u=Ks(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function pv(u,m){Jr(u),m=Ks(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function mv(u,m){return Jr(u),m=Ks(u,m),u.g.has(m)}t.forEach=function(u,m){Jr(this),this.g.forEach(function(y,C){y.forEach(function(F){u.call(m,F,C,this)},this)},this)},t.na=function(){Jr(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let C=0;C<m.length;C++){const F=u[C];for(let z=0;z<F.length;z++)y.push(m[C])}return y},t.V=function(u){Jr(this);let m=[];if(typeof u=="string")mv(this,u)&&(m=m.concat(this.g.get(Ks(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)m=m.concat(u[y])}return m},t.set=function(u,m){return Jr(this),this.i=null,u=Ks(this,u),mv(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},t.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function gv(u,m,y){pv(u,m),0<y.length&&(u.i=null,u.g.set(Ks(u,m),T(y)),u.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var C=m[y];const z=encodeURIComponent(String(C)),Z=this.V(C);for(C=0;C<Z.length;C++){var F=z;Z[C]!==""&&(F+="="+encodeURIComponent(String(Z[C]))),u.push(F)}}return this.i=u.join("&")};function Ks(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function MI(u,m){m&&!u.j&&(Jr(u),u.i=null,u.g.forEach(function(y,C){var F=C.toLowerCase();C!=F&&(pv(this,C),gv(this,F,y))},u)),u.j=m}function FI(u,m){const y=new ee;if(a.Image){const C=new Image;C.onload=g(Xr,y,"TestLoadImage: loaded",!0,m,C),C.onerror=g(Xr,y,"TestLoadImage: error",!1,m,C),C.onabort=g(Xr,y,"TestLoadImage: abort",!1,m,C),C.ontimeout=g(Xr,y,"TestLoadImage: timeout",!1,m,C),a.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=u}else m(!1)}function VI(u,m){const y=new ee,C=new AbortController,F=setTimeout(()=>{C.abort(),Xr(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:C.signal}).then(z=>{clearTimeout(F),z.ok?Xr(y,"TestPingServer: ok",!0,m):Xr(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(F),Xr(y,"TestPingServer: error",!1,m)})}function Xr(u,m,y,C,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),C(y)}catch{}}function zI(){this.g=new Xn}function UI(u,m,y){const C=y||"";try{cv(u,function(F,z){let Z=F;c(F)&&(Z=zn(F)),m.push(C+z+"="+encodeURIComponent(Z))})}catch(F){throw m.push(C+"type="+encodeURIComponent("_badmap")),F}}function ku(u){this.l=u.Ub||null,this.j=u.eb||!1}w(ku,kt),ku.prototype.g=function(){return new Su(this.l,this.j)},ku.prototype.i=function(u){return function(){return u}}({});function Su(u,m){V.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(Su,V),t=Su.prototype,t.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,wa(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xa(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,wa(this)),this.g&&(this.readyState=3,wa(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;yv(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function yv(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?xa(this):wa(this),this.readyState==3&&yv(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,xa(this))},t.Qa=function(u){this.g&&(this.response=u,xa(this))},t.ga=function(){this.g&&xa(this)};function xa(u){u.readyState=4,u.l=null,u.j=null,u.v=null,wa(u)}t.setRequestHeader=function(u,m){this.u.append(u,m)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function wa(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Su.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function vv(u){let m="";return A(u,function(y,C){m+=C,m+=":",m+=y,m+=`\r
`}),m}function Od(u,m,y){e:{for(C in y){var C=!1;break e}C=!0}C||(y=vv(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):We(u,m,y))}function rt(u){V.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(rt,V);var $I=/^https?$/i,BI=["POST","PUT"];t=rt.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,m,y,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():rs.g(),this.v=this.o?pu(this.o):pu(rs),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(z){xv(this,z);return}if(u=y||"",y=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var F in C)y.set(F,C[F]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const z of C.keys())y.set(z,C.get(z));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(y.keys()).find(z=>z.toLowerCase()=="content-type"),F=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(BI,m,void 0))||C||F||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,Z]of y)this.g.setRequestHeader(z,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ev(this),this.u=!0,this.g.send(u),this.u=!1}catch(z){xv(this,z)}};function xv(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,wv(u),Tu(u)}function wv(u){u.A||(u.A=!0,W(u,"complete"),W(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,W(this,"complete"),W(this,"abort"),Tu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Tu(this,!0)),rt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?_v(this):this.bb())},t.bb=function(){_v(this)};function _v(u){if(u.h&&typeof o<"u"&&(!u.v[1]||kr(u)!=4||u.Z()!=2)){if(u.u&&kr(u)==4)xe(u.Ea,0,u);else if(W(u,"readystatechange"),kr(u)==4){u.h=!1;try{const Z=u.Z();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var y;if(!(y=m)){var C;if(C=Z===0){var F=String(u.D).match(hv)[1]||null;!F&&a.self&&a.self.location&&(F=a.self.location.protocol.slice(0,-1)),C=!$I.test(F?F.toLowerCase():"")}y=C}if(y)W(u,"complete"),W(u,"success");else{u.m=6;try{var z=2<kr(u)?u.g.statusText:""}catch{z=""}u.l=z+" ["+u.Z()+"]",wv(u)}}finally{Tu(u)}}}}function Tu(u,m){if(u.g){Ev(u);const y=u.g,C=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||W(u,"ready");try{y.onreadystatechange=C}catch{}}}function Ev(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function kr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<kr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),xt(m)}};function bv(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function HI(u){const m={};u=(u.g&&2<=kr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<u.length;C++){if(v(u[C]))continue;var y=P(u[C]);const F=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const z=m[F]||[];m[F]=z,z.push(y)}k(m,function(C){return C.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function _a(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function kv(u){this.Aa=0,this.i=[],this.j=new ee,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_a("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_a("baseRetryDelayMs",5e3,u),this.cb=_a("retryDelaySeedMs",1e4,u),this.Wa=_a("forwardChannelMaxRetries",2,u),this.wa=_a("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new sv(u&&u.concurrentRequestLimit),this.Da=new zI,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=kv.prototype,t.la=8,t.G=1,t.connect=function(u,m,y,C){wt(0),this.W=u,this.H=m||{},y&&C!==void 0&&(this.H.OSID=y,this.H.OAID=C),this.F=this.X,this.I=jv(this,null,this.W),Cu(this)};function Ld(u){if(Sv(u),u.G==3){var m=u.U++,y=br(u.I);if(We(y,"SID",u.K),We(y,"RID",m),We(y,"TYPE","terminate"),Ea(u,y),m=new tr(u,u.j,m),m.L=2,m.v=bu(br(y)),y=!1,a.navigator&&a.navigator.sendBeacon)try{y=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&a.Image&&(new Image().src=m.v,y=!0),y||(m.g=Dv(m.j,null),m.g.ea(m.v)),m.F=Date.now(),wu(m)}Rv(u)}function Iu(u){u.g&&(Fd(u),u.g.cancel(),u.g=null)}function Sv(u){Iu(u),u.u&&(a.clearTimeout(u.u),u.u=null),Au(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Cu(u){if(!ov(u.h)&&!u.s){u.s=!0;var m=u.Ga;se||j(),U||(se(),U=!0),Y.add(m,u),u.B=0}}function qI(u,m){return av(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=$(p(u.Ga,u,m),Pv(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const F=new tr(this,this.j,u);let z=this.o;if(this.S&&(z?(z=b(z),_(z,this.S)):z=this.S),this.m!==null||this.O||(F.H=z,z=null),this.P)e:{for(var m=0,y=0;y<this.i.length;y++){t:{var C=this.i[y];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(m+=C,4096<m){m=y;break e}if(m===4096||y===this.i.length-1){m=y+1;break e}}m=1e3}else m=1e3;m=Iv(this,F,m),y=br(this.I),We(y,"RID",u),We(y,"CVER",22),this.D&&We(y,"X-HTTP-Session-Id",this.D),Ea(this,y),z&&(this.O?m="headers="+encodeURIComponent(String(vv(z)))+"&"+m:this.m&&Od(y,this.m,z)),Dd(this.h,F),this.Ua&&We(y,"TYPE","init"),this.P?(We(y,"$req",m),We(y,"SID","null"),F.T=!0,Nd(F,y,null)):Nd(F,y,m),this.G=2}}else this.G==3&&(u?Tv(this,u):this.i.length==0||ov(this.h)||Tv(this))};function Tv(u,m){var y;m?y=m.l:y=u.U++;const C=br(u.I);We(C,"SID",u.K),We(C,"RID",y),We(C,"AID",u.T),Ea(u,C),u.m&&u.o&&Od(C,u.m,u.o),y=new tr(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Iv(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Dd(u.h,y),Nd(y,C,m)}function Ea(u,m){u.H&&A(u.H,function(y,C){We(m,C,y)}),u.l&&cv({},function(y,C){We(m,C,y)})}function Iv(u,m,y){y=Math.min(u.i.length,y);var C=u.l?p(u.l.Na,u.l,u):null;e:{var F=u.i;let z=-1;for(;;){const Z=["count="+y];z==-1?0<y?(z=F[0].g,Z.push("ofs="+z)):z=0:Z.push("ofs="+z);let Ue=!0;for(let St=0;St<y;St++){let Oe=F[St].g;const Rt=F[St].map;if(Oe-=z,0>Oe)z=Math.max(0,F[St].g-100),Ue=!1;else try{UI(Rt,Z,"req"+Oe+"_")}catch{C&&C(Rt)}}if(Ue){C=Z.join("&");break e}}}return u=u.i.splice(0,y),m.D=u,C}function Cv(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;se||j(),U||(se(),U=!0),Y.add(m,u),u.v=0}}function Md(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=$(p(u.Fa,u),Pv(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Av(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=$(p(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,wt(10),Iu(this),Av(this))};function Fd(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function Av(u){u.g=new tr(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=br(u.qa);We(m,"RID","rpc"),We(m,"SID",u.K),We(m,"AID",u.T),We(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&We(m,"TO",u.ja),We(m,"TYPE","xmlhttp"),Ea(u,m),u.m&&u.o&&Od(m,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=bu(br(m)),y.m=null,y.P=!0,nv(y,u)}t.Za=function(){this.C!=null&&(this.C=null,Iu(this),Md(this),wt(19))};function Au(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function Nv(u,m){var y=null;if(u.g==m){Au(u),Fd(u),u.g=null;var C=2}else if(jd(u.h,m))y=m.D,lv(u.h,m),C=1;else return;if(u.G!=0){if(m.o)if(C==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var F=u.B;C=ns(),W(C,new pa(C,y)),Cu(u)}else Cv(u);else if(F=m.s,F==3||F==0&&0<m.X||!(C==1&&qI(u,m)||C==2&&Md(u)))switch(y&&0<y.length&&(m=u.h,m.i=m.i.concat(y)),F){case 1:ls(u,5);break;case 4:ls(u,10);break;case 3:ls(u,6);break;default:ls(u,2)}}}function Pv(u,m){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*m}function ls(u,m){if(u.j.info("Error code "+m),m==2){var y=p(u.fb,u),C=u.Xa;const F=!C;C=new as(C||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||_u(C,"https"),bu(C),F?FI(C.toString(),y):VI(C.toString(),y)}else wt(2);u.G=0,u.l&&u.l.sa(m),Rv(u),Sv(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function Rv(u){if(u.G=0,u.ka=[],u.l){const m=uv(u.h);(m.length!=0||u.i.length!=0)&&(I(u.ka,m),I(u.ka,u.i),u.h.i.length=0,T(u.i),u.i.length=0),u.l.ra()}}function jv(u,m,y){var C=y instanceof as?br(y):new as(y);if(C.g!="")m&&(C.g=m+"."+C.g),Eu(C,C.s);else{var F=a.location;C=F.protocol,m=m?m+"."+F.hostname:F.hostname,F=+F.port;var z=new as(null);C&&_u(z,C),m&&(z.g=m),F&&Eu(z,F),y&&(z.l=y),C=z}return y=u.D,m=u.ya,y&&m&&We(C,y,m),We(C,"VER",u.la),Ea(u,C),C}function Dv(u,m,y){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new rt(new ku({eb:y})):new rt(u.pa),m.Ha(u.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ov(){}t=Ov.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Nu(){}Nu.prototype.g=function(u,m){return new mn(u,m)};function mn(u,m){V.call(this),this.g=new kv(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!v(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!v(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Qs(this)}w(mn,V),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Ld(this.g)},mn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=zn(u),u=y);m.i.push(new CI(m.Ya++,u)),m.G==3&&Cu(m)},mn.prototype.N=function(){this.g.l=null,delete this.j,Ld(this.g),delete this.g,mn.aa.N.call(this)};function Lv(u){da.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const y in m){u=y;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(Lv,da);function Mv(){fa.call(this),this.status=1}w(Mv,fa);function Qs(u){this.g=u}w(Qs,Ov),Qs.prototype.ua=function(){W(this.g,"a")},Qs.prototype.ta=function(u){W(this.g,new Lv(u))},Qs.prototype.sa=function(u){W(this.g,new Mv)},Qs.prototype.ra=function(){W(this.g,"b")},Nu.prototype.createWebChannel=Nu.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,yk=function(){return new Nu},gk=function(){return ns()},mk=Zn,Gp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},st.NO_ERROR=0,st.TIMEOUT=8,st.HTTP_ERROR=6,Sc=st,er.COMPLETE="complete",pk=er,mu.EventType=ts,ts.OPEN="a",ts.CLOSE="b",ts.ERROR="c",ts.MESSAGE="d",V.prototype.listen=V.prototype.K,za=mu,rt.prototype.listenOnce=rt.prototype.L,rt.prototype.getLastError=rt.prototype.Ka,rt.prototype.getLastErrorCode=rt.prototype.Ba,rt.prototype.getStatus=rt.prototype.Z,rt.prototype.getResponseJson=rt.prototype.Oa,rt.prototype.getResponseText=rt.prototype.oa,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Ha,fk=rt}).apply(typeof Ju<"u"?Ju:typeof self<"u"?self:typeof window<"u"?window:{});const jx="@firebase/firestore",Dx="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ft=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ft.UNAUTHENTICATED=new Ft(null),Ft.GOOGLE_CREDENTIALS=new Ft("google-credentials-uid"),Ft.FIRST_PARTY=new Ft("first-party-uid"),Ft.MOCK_USER=new Ft("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ia="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js=new Ag("@firebase/firestore");function eo(){return js.logLevel}function te(t,...e){if(js.logLevel<=Ce.DEBUG){const n=e.map($g);js.debug(`Firestore (${ia}): ${t}`,...n)}}function Ur(t,...e){if(js.logLevel<=Ce.ERROR){const n=e.map($g);js.error(`Firestore (${ia}): ${t}`,...n)}}function Di(t,...e){if(js.logLevel<=Ce.WARN){const n=e.map($g);js.warn(`Firestore (${ia}): ${t}`,...n)}}function $g(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,vk(t,r,n)}function vk(t,e,n){let r=`FIRESTORE (${ia}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ur(r),new Error(r)}function Le(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||vk(e,i,r)}function ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends Hr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ft.UNAUTHENTICATED))}shutdown(){}}class gD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class yD{constructor(e){this.t=e,this.currentUser=Ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Le(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Ni;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ni,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ni)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Le(typeof r.accessToken=="string",31837,{l:r}),new xk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Le(e===null||typeof e=="string",2055,{h:e}),new Ft(e)}}class vD{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ft.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class xD{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new vD(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ox{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wD{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Nn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Le(this.o===void 0,3512);const r=s=>{s.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,te("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ox(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Le(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Ox(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wk(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=_D(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Ee(t,e){return t<e?-1:t>e?1:0}function Kp(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return Ee(r,i);{const s=wk(),o=ED(s.encode(Lx(t,n)),s.encode(Lx(e,n)));return o!==0?o:Ee(r,i)}}n+=r>65535?2:1}return Ee(t.length,e.length)}function Lx(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function ED(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Ee(t[n],e[n]);return Ee(t.length,e.length)}function Uo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx="__name__";class sr{constructor(e,n,r){n===void 0?n=0:n>e.length&&fe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&fe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return sr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof sr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=sr.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Ee(e.length,n.length)}static compareSegments(e,n){const r=sr.isNumericId(e),i=sr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?sr.extractNumericId(e).compare(sr.extractNumericId(n)):Kp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ai.fromString(e.substring(4,e.length-2))}}class Ze extends sr{construct(e,n,r){return new Ze(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new oe(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ze(n)}static emptyPath(){return new Ze([])}}const bD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ct extends sr{construct(e,n,r){return new Ct(e,n,r)}static isValidIdentifier(e){return bD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Mx}static keyField(){return new Ct([Mx])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new oe(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new oe(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new oe(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new oe(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ct(n)}static emptyPath(){return new Ct([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.path=e}static fromPath(e){return new ue(Ze.fromString(e))}static fromName(e){return new ue(Ze.fromString(e).popFirst(5))}static empty(){return new ue(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ze.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ue(new Ze(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(t,e,n){if(!n)throw new oe(H.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function SD(t,e,n,r){if(e===!0&&r===!0)throw new oe(H.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Fx(t){if(!ue.isDocumentKey(t))throw new oe(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function _k(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Hg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":fe(12329,{type:typeof t})}function Ds(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new oe(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hg(t);throw new oe(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(t,e){const n={typeString:t};return e&&(n.value=e),n}function iu(t,e){if(!_k(t))throw new oe(H.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new oe(H.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx=-62135596800,zx=1e6;class Qe{static now(){return Qe.fromMillis(Date.now())}static fromDate(e){return Qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*zx);return new Qe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Vx)throw new oe(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/zx}_compareTo(e){return this.seconds===e.seconds?Ee(this.nanoseconds,e.nanoseconds):Ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Qe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(iu(e,Qe._jsonSchema))return new Qe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Vx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Qe._jsonSchemaVersion="firestore/timestamp/1.0",Qe._jsonSchema={type:dt("string",Qe._jsonSchemaVersion),seconds:dt("number"),nanoseconds:dt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{static fromTimestamp(e){return new me(e)}static min(){return new me(new Qe(0,0))}static max(){return new me(new Qe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dl=-1;function TD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=me.fromTimestamp(r===1e9?new Qe(n+1,0):new Qe(n,r));return new Oi(i,ue.empty(),e)}function ID(t){return new Oi(t.readTime,t.key,Dl)}class Oi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Oi(me.min(),ue.empty(),Dl)}static max(){return new Oi(me.max(),ue.empty(),Dl)}}function CD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ue.comparator(t.documentKey,e.documentKey),n!==0?n:Ee(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ND{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sa(t){if(t.code!==H.FAILED_PRECONDITION||t.message!==AD)throw t;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&fe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(i=>i?B.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new B((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new B((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function PD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function oa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}ad.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qg=-1;function ld(t){return t==null}function yh(t){return t===0&&1/t==-1/0}function RD(t){return typeof t=="number"&&Number.isInteger(t)&&!yh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek="";function jD(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Ux(e)),e=DD(t.get(n),e);return Ux(e)}function DD(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case Ek:n+="";break;default:n+=s}}return n}function Ux(t){return t+Ek+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Qi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function bk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,n){this.comparator=e,this.root=n||It.EMPTY}insert(e,n){return new nt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,It.BLACK,null,null))}remove(e){return new nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,It.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xu(this.root,e,this.comparator,!0)}}class Xu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class It{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??It.RED,this.left=i??It.EMPTY,this.right=s??It.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new It(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return It.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return It.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,It.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,It.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw fe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw fe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw fe(27949);return e+(this.isRed()?0:1)}}It.EMPTY=null,It.RED=!0,It.BLACK=!1;It.EMPTY=new class{constructor(){this.size=0}get key(){throw fe(57766)}get value(){throw fe(16141)}get color(){throw fe(16727)}get left(){throw fe(29726)}get right(){throw fe(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new It(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.comparator=e,this.data=new nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Bx(this.data.getIterator())}getIteratorFrom(e){return new Bx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new vt(this.comparator);return n.data=e,n}}class Bx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.fields=e,e.sort(Ct.comparator)}static empty(){return new xn([])}unionWith(e){let n=new vt(Ct.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new xn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Uo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new kk("Invalid base64 string: "+s):s}}(e);return new Pt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Pt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pt.EMPTY_BYTE_STRING=new Pt("");const OD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Li(t){if(Le(!!t,39018),typeof t=="string"){let e=0;const n=OD.exec(t);if(Le(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ot(t.seconds),nanos:ot(t.nanos)}}function ot(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Mi(t){return typeof t=="string"?Pt.fromBase64String(t):Pt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk="server_timestamp",Tk="__type__",Ik="__previous_value__",Ck="__local_write_time__";function Wg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Tk])===null||n===void 0?void 0:n.stringValue)===Sk}function ud(t){const e=t.mapValue.fields[Ik];return Wg(e)?ud(e):e}function Ol(t){const e=Li(t.mapValue.fields[Ck].timestampValue);return new Qe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e,n,r,i,s,o,a,l,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=d}}const vh="(default)";class Ll{constructor(e,n){this.projectId=e,this.database=n||vh}static empty(){return new Ll("","")}get isDefaultDatabase(){return this.database===vh}isEqual(e){return e instanceof Ll&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak="__type__",MD="__max__",Zu={mapValue:{}},Nk="__vector__",xh="value";function Fi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Wg(t)?4:VD(t)?9007199254740991:FD(t)?10:11:fe(28295,{value:t})}function yr(t,e){if(t===e)return!0;const n=Fi(t);if(n!==Fi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ol(t).isEqual(Ol(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Li(i.timestampValue),a=Li(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Mi(i.bytesValue).isEqual(Mi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return ot(i.geoPointValue.latitude)===ot(s.geoPointValue.latitude)&&ot(i.geoPointValue.longitude)===ot(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ot(i.integerValue)===ot(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=ot(i.doubleValue),a=ot(s.doubleValue);return o===a?yh(o)===yh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Uo(t.arrayValue.values||[],e.arrayValue.values||[],yr);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if($x(o)!==$x(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!yr(o[l],a[l])))return!1;return!0}(t,e);default:return fe(52216,{left:t})}}function Ml(t,e){return(t.values||[]).find(n=>yr(n,e))!==void 0}function $o(t,e){if(t===e)return 0;const n=Fi(t),r=Fi(e);if(n!==r)return Ee(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ee(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=ot(s.integerValue||s.doubleValue),l=ot(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Hx(t.timestampValue,e.timestampValue);case 4:return Hx(Ol(t),Ol(e));case 5:return Kp(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Mi(s),l=Mi(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=Ee(a[c],l[c]);if(d!==0)return d}return Ee(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Ee(ot(s.latitude),ot(o.latitude));return a!==0?a:Ee(ot(s.longitude),ot(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return qx(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,d;const f=s.fields||{},p=o.fields||{},g=(a=f[xh])===null||a===void 0?void 0:a.arrayValue,w=(l=p[xh])===null||l===void 0?void 0:l.arrayValue,T=Ee(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((d=w==null?void 0:w.values)===null||d===void 0?void 0:d.length)||0);return T!==0?T:qx(g,w)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Zu.mapValue&&o===Zu.mapValue)return 0;if(s===Zu.mapValue)return 1;if(o===Zu.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const p=Kp(l[f],d[f]);if(p!==0)return p;const g=$o(a[l[f]],c[d[f]]);if(g!==0)return g}return Ee(l.length,d.length)}(t.mapValue,e.mapValue);default:throw fe(23264,{le:n})}}function Hx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ee(t,e);const n=Li(t),r=Li(e),i=Ee(n.seconds,r.seconds);return i!==0?i:Ee(n.nanos,r.nanos)}function qx(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=$o(n[i],r[i]);if(s)return s}return Ee(n.length,r.length)}function Bo(t){return Qp(t)}function Qp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Li(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Mi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ue.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Qp(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Qp(n.fields[o])}`;return i+"}"}(t.mapValue):fe(61005,{value:t})}function Tc(t){switch(Fi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ud(t);return e?16+Tc(e):16;case 5:return 2*t.stringValue.length;case 6:return Mi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Tc(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Qi(r.fields,(s,o)=>{i+=s.length+Tc(o)}),i}(t.mapValue);default:throw fe(13486,{value:t})}}function Yp(t){return!!t&&"integerValue"in t}function Gg(t){return!!t&&"arrayValue"in t}function Wx(t){return!!t&&"nullValue"in t}function Gx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ic(t){return!!t&&"mapValue"in t}function FD(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Ak])===null||n===void 0?void 0:n.stringValue)===Nk}function il(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Qi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=il(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=il(t.arrayValue.values[n]);return e}return Object.assign({},t)}function VD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===MD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.value=e}static empty(){return new ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ic(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=il(n)}setAll(e){let n=Ct.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=il(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Ic(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return yr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ic(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Qi(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new ln(il(this.value))}}function Pk(t){const e=[];return Qi(t.fields,(n,r)=>{const i=new Ct([n]);if(Ic(r)){const s=Pk(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new xn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new zt(e,0,me.min(),me.min(),me.min(),ln.empty(),0)}static newFoundDocument(e,n,r,i){return new zt(e,1,n,me.min(),r,i,0)}static newNoDocument(e,n){return new zt(e,2,n,me.min(),me.min(),ln.empty(),0)}static newUnknownDocument(e,n){return new zt(e,3,n,me.min(),me.min(),ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,n){this.position=e,this.inclusive=n}}function Kx(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ue.comparator(ue.fromName(o.referenceValue),n.key):r=$o(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Qx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!yr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n="asc"){this.field=e,this.dir=n}}function zD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{}class mt extends Rk{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new $D(e,n,r):n==="array-contains"?new qD(e,r):n==="in"?new WD(e,r):n==="not-in"?new GD(e,r):n==="array-contains-any"?new KD(e,r):new mt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new BD(e,r):new HD(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison($o(n,this.value)):n!==null&&Fi(this.value)===Fi(n)&&this.matchesComparison($o(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return fe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vr extends Rk{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new vr(e,n)}matches(e){return jk(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function jk(t){return t.op==="and"}function Dk(t){return UD(t)&&jk(t)}function UD(t){for(const e of t.filters)if(e instanceof vr)return!1;return!0}function Jp(t){if(t instanceof mt)return t.field.canonicalString()+t.op.toString()+Bo(t.value);if(Dk(t))return t.filters.map(e=>Jp(e)).join(",");{const e=t.filters.map(n=>Jp(n)).join(",");return`${t.op}(${e})`}}function Ok(t,e){return t instanceof mt?function(r,i){return i instanceof mt&&r.op===i.op&&r.field.isEqual(i.field)&&yr(r.value,i.value)}(t,e):t instanceof vr?function(r,i){return i instanceof vr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&Ok(o,i.filters[a]),!0):!1}(t,e):void fe(19439)}function Lk(t){return t instanceof mt?function(n){return`${n.field.canonicalString()} ${n.op} ${Bo(n.value)}`}(t):t instanceof vr?function(n){return n.op.toString()+" {"+n.getFilters().map(Lk).join(" ,")+"}"}(t):"Filter"}class $D extends mt{constructor(e,n,r){super(e,n,r),this.key=ue.fromName(r.referenceValue)}matches(e){const n=ue.comparator(e.key,this.key);return this.matchesComparison(n)}}class BD extends mt{constructor(e,n){super(e,"in",n),this.keys=Mk("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class HD extends mt{constructor(e,n){super(e,"not-in",n),this.keys=Mk("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Mk(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ue.fromName(r.referenceValue))}class qD extends mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Gg(n)&&Ml(n.arrayValue,this.value)}}class WD extends mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ml(this.value.arrayValue,n)}}class GD extends mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ml(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ml(this.value.arrayValue,n)}}class KD extends mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Gg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ml(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Pe=null}}function Yx(t,e=null,n=[],r=[],i=null,s=null,o=null){return new QD(t,e,n,r,i,s,o)}function Kg(t){const e=ye(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Jp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),ld(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Bo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Bo(r)).join(",")),e.Pe=n}return e.Pe}function Qg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!zD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Ok(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Qx(t.startAt,e.startAt)&&Qx(t.endAt,e.endAt)}function Xp(t){return ue.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function YD(t,e,n,r,i,s,o,a){return new cd(t,e,n,r,i,s,o,a)}function Yg(t){return new cd(t)}function Jx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function JD(t){return t.collectionGroup!==null}function sl(t){const e=ye(t);if(e.Te===null){e.Te=[];const n=new Set;for(const s of e.explicitOrderBy)e.Te.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new vt(Ct.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Te.push(new _h(s,r))}),n.has(Ct.keyField().canonicalString())||e.Te.push(new _h(Ct.keyField(),r))}return e.Te}function dr(t){const e=ye(t);return e.Ie||(e.Ie=XD(e,sl(t))),e.Ie}function XD(t,e){if(t.limitType==="F")return Yx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new _h(i.field,s)});const n=t.endAt?new wh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new wh(t.startAt.position,t.startAt.inclusive):null;return Yx(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Zp(t,e,n){return new cd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function hd(t,e){return Qg(dr(t),dr(e))&&t.limitType===e.limitType}function Fk(t){return`${Kg(dr(t))}|lt:${t.limitType}`}function to(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Lk(i)).join(", ")}]`),ld(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Bo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Bo(i)).join(",")),`Target(${r})`}(dr(t))}; limitType=${t.limitType})`}function dd(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ue.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of sl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=Kx(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,sl(r),i)||r.endAt&&!function(o,a,l){const c=Kx(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,sl(r),i))}(t,e)}function ZD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Vk(t){return(e,n)=>{let r=!1;for(const i of sl(t)){const s=eO(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function eO(t,e,n){const r=t.field.isKeyField()?ue.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?$o(l,c):fe(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return fe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Qi(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return bk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO=new nt(ue.comparator);function $r(){return tO}const zk=new nt(ue.comparator);function Ua(...t){let e=zk;for(const n of t)e=e.insert(n.key,n);return e}function Uk(t){let e=zk;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function _s(){return ol()}function $k(){return ol()}function ol(){return new Us(t=>t.toString(),(t,e)=>t.isEqual(e))}const nO=new nt(ue.comparator),rO=new vt(ue.comparator);function Ae(...t){let e=rO;for(const n of t)e=e.add(n);return e}const iO=new vt(Ee);function sO(){return iO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yh(e)?"-0":e}}function Bk(t){return{integerValue:""+t}}function oO(t,e){return RD(e)?Bk(e):Jg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(){this._=void 0}}function aO(t,e,n){return t instanceof Eh?function(i,s){const o={fields:{[Tk]:{stringValue:Sk},[Ck]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Wg(s)&&(s=ud(s)),s&&(o.fields[Ik]=s),{mapValue:o}}(n,e):t instanceof Fl?qk(t,e):t instanceof Vl?Wk(t,e):function(i,s){const o=Hk(i,s),a=Xx(o)+Xx(i.Ee);return Yp(o)&&Yp(i.Ee)?Bk(a):Jg(i.serializer,a)}(t,e)}function lO(t,e,n){return t instanceof Fl?qk(t,e):t instanceof Vl?Wk(t,e):n}function Hk(t,e){return t instanceof bh?function(r){return Yp(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Eh extends fd{}class Fl extends fd{constructor(e){super(),this.elements=e}}function qk(t,e){const n=Gk(e);for(const r of t.elements)n.some(i=>yr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Vl extends fd{constructor(e){super(),this.elements=e}}function Wk(t,e){let n=Gk(e);for(const r of t.elements)n=n.filter(i=>!yr(i,r));return{arrayValue:{values:n}}}class bh extends fd{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function Xx(t){return ot(t.integerValue||t.doubleValue)}function Gk(t){return Gg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function uO(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Fl&&i instanceof Fl||r instanceof Vl&&i instanceof Vl?Uo(r.elements,i.elements,yr):r instanceof bh&&i instanceof bh?yr(r.Ee,i.Ee):r instanceof Eh&&i instanceof Eh}(t.transform,e.transform)}class cO{constructor(e,n){this.version=e,this.transformResults=n}}class fr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new fr}static exists(e){return new fr(void 0,e)}static updateTime(e){return new fr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class pd{}function Kk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Yk(t.key,fr.none()):new su(t.key,t.data,fr.none());{const n=t.data,r=ln.empty();let i=new vt(Ct.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Yi(t.key,r,new xn(i.toArray()),fr.none())}}function hO(t,e,n){t instanceof su?function(i,s,o){const a=i.value.clone(),l=ew(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Yi?function(i,s,o){if(!Cc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=ew(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(Qk(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function al(t,e,n,r){return t instanceof su?function(s,o,a,l){if(!Cc(s.precondition,o))return a;const c=s.value.clone(),d=tw(s.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Yi?function(s,o,a,l){if(!Cc(s.precondition,o))return a;const c=tw(s.fieldTransforms,l,o),d=o.data;return d.setAll(Qk(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return Cc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function dO(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Hk(r.transform,i||null);s!=null&&(n===null&&(n=ln.empty()),n.set(r.field,s))}return n||null}function Zx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Uo(r,i,(s,o)=>uO(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class su extends pd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Yi extends pd{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Qk(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function ew(t,e,n){const r=new Map;Le(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,lO(o,a,n[i]))}return r}function tw(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,aO(s,o,e))}return r}class Yk extends pd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fO extends pd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&hO(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=al(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=al(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=$k();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=Kk(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(me.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ae())}isEqual(e){return this.batchId===e.batchId&&Uo(this.mutations,e.mutations,(n,r)=>Zx(n,r))&&Uo(this.baseMutations,e.baseMutations,(n,r)=>Zx(n,r))}}class Xg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Le(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return nO}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Xg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut,Pe;function yO(t){switch(t){case H.OK:return fe(64938);case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0;default:return fe(15467,{code:t})}}function Jk(t){if(t===void 0)return Ur("GRPC error has no .code"),H.UNKNOWN;switch(t){case ut.OK:return H.OK;case ut.CANCELLED:return H.CANCELLED;case ut.UNKNOWN:return H.UNKNOWN;case ut.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case ut.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case ut.INTERNAL:return H.INTERNAL;case ut.UNAVAILABLE:return H.UNAVAILABLE;case ut.UNAUTHENTICATED:return H.UNAUTHENTICATED;case ut.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case ut.NOT_FOUND:return H.NOT_FOUND;case ut.ALREADY_EXISTS:return H.ALREADY_EXISTS;case ut.PERMISSION_DENIED:return H.PERMISSION_DENIED;case ut.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case ut.ABORTED:return H.ABORTED;case ut.OUT_OF_RANGE:return H.OUT_OF_RANGE;case ut.UNIMPLEMENTED:return H.UNIMPLEMENTED;case ut.DATA_LOSS:return H.DATA_LOSS;default:return fe(39323,{code:t})}}(Pe=ut||(ut={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO=new Ai([4294967295,4294967295],0);function nw(t){const e=wk().encode(t),n=new dk;return n.update(e),new Uint8Array(n.digest())}function rw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ai([n,r],0),new Ai([i,s],0)]}class Zg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new $a(`Invalid padding: ${n}`);if(r<0)throw new $a(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new $a(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new $a(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=Ai.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(Ai.fromNumber(r)));return i.compare(vO)===1&&(i=new Ai([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=nw(e),[r,i]=rw(n);for(let s=0;s<this.hashCount;s++){const o=this.pe(r,i,s);if(!this.ye(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Zg(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.fe===0)return;const n=nw(e),[r,i]=rw(n);for(let s=0;s<this.hashCount;s++){const o=this.pe(r,i,s);this.we(o)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class $a extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ou.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new md(me.min(),i,new nt(Ee),$r(),Ae())}}class ou{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ou(r,n,Ae(),Ae(),Ae())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}}class Xk{constructor(e,n){this.targetId=e,this.De=n}}class Zk{constructor(e,n,r=Pt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class iw{constructor(){this.ve=0,this.Ce=sw(),this.Fe=Pt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Ae(),n=Ae(),r=Ae();return this.Ce.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:fe(38017,{changeType:s})}}),new ou(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=sw()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Le(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class xO{constructor(e){this.We=e,this.Ge=new Map,this.ze=$r(),this.je=ec(),this.Je=ec(),this.He=new nt(Ee)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:fe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){const n=e.targetId,r=e.De.count,i=this.st(n);if(i){const s=i.target;if(Xp(s))if(r===0){const o=new ue(s.path);this.Xe(n,o,zt.newNoDocument(o,me.min()))}else Le(r===1,20013,{expectedCount:r});else{const o=this.ot(n);if(o!==r){const a=this._t(e),l=a?this.ut(a,e,o):1;if(l!==0){this.rt(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,c)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Mi(r).toUint8Array()}catch(l){if(l instanceof kk)return Di("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Zg(o,i,s)}catch(l){return Di(l instanceof $a?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.fe===0?null:a}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.We.lt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Xe(n,s,null),i++)}),i}Pt(e){const n=new Map;this.Ge.forEach((s,o)=>{const a=this.st(o);if(a){if(s.current&&Xp(a.target)){const l=new ue(a.target.path);this.Tt(l).has(o)||this.It(o,l)||this.Xe(o,l,zt.newNoDocument(l,e))}s.Ne&&(n.set(o,s.Le()),s.ke())}});let r=Ae();this.Je.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.st(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ze.forEach((s,o)=>o.setReadTime(e));const i=new md(e,n,this.He,this.ze,r);return this.ze=$r(),this.je=ec(),this.Je=ec(),this.He=new nt(Ee),i}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new iw,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new vt(Ee),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new vt(Ee),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||te("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new iw),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function ec(){return new nt(ue.comparator)}function sw(){return new nt(ue.comparator)}const wO={asc:"ASCENDING",desc:"DESCENDING"},_O={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},EO={and:"AND",or:"OR"};class bO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function em(t,e){return t.useProto3Json||ld(e)?e:{value:e}}function kh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function kO(t,e){return kh(t,e.toTimestamp())}function pr(t){return Le(!!t,49232),me.fromTimestamp(function(n){const r=Li(n);return new Qe(r.seconds,r.nanos)}(t))}function ey(t,e){return tm(t,e).canonicalString()}function tm(t,e){const n=function(i){return new Ze(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function tS(t){const e=Ze.fromString(t);return Le(oS(e),10190,{key:e.toString()}),e}function nm(t,e){return ey(t.databaseId,e.path)}function _f(t,e){const n=tS(e);if(n.get(1)!==t.databaseId.projectId)throw new oe(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new oe(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ue(rS(n))}function nS(t,e){return ey(t.databaseId,e)}function SO(t){const e=tS(t);return e.length===4?Ze.emptyPath():rS(e)}function rm(t){return new Ze(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function rS(t){return Le(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function ow(t,e,n){return{name:nm(t,e),fields:n.value.mapValue.fields}}function TO(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:fe(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(Le(d===void 0||typeof d=="string",58123),Pt.fromBase64String(d||"")):(Le(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Pt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?H.UNKNOWN:Jk(c.code);return new oe(d,c.message||"")}(o);n=new Zk(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=_f(t,r.document.name),s=pr(r.document.updateTime),o=r.document.createTime?pr(r.document.createTime):me.min(),a=new ln({mapValue:{fields:r.document.fields}}),l=zt.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Ac(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=_f(t,r.document),s=r.readTime?pr(r.readTime):me.min(),o=zt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Ac([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=_f(t,r.document),s=r.removedTargetIds||[];n=new Ac([],s,i,null)}else{if(!("filter"in e))return fe(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new gO(i,s),a=r.targetId;n=new Xk(a,o)}}return n}function IO(t,e){let n;if(e instanceof su)n={update:ow(t,e.key,e.value)};else if(e instanceof Yk)n={delete:nm(t,e.key)};else if(e instanceof Yi)n={update:ow(t,e.key,e.data),updateMask:LO(e.fieldMask)};else{if(!(e instanceof fO))return fe(16599,{Rt:e.type});n={verify:nm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Eh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Fl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Vl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof bh)return{fieldPath:o.field.canonicalString(),increment:a.Ee};throw fe(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:kO(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:fe(27497)}(t,e.precondition)),n}function CO(t,e){return t&&t.length>0?(Le(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?pr(i.updateTime):pr(s);return o.isEqual(me.min())&&(o=pr(s)),new cO(o,i.transformResults||[])}(n,e))):[]}function AO(t,e){return{documents:[nS(t,e.path)]}}function NO(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=nS(t,i);const s=function(c){if(c.length!==0)return sS(vr.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:no(p.field),direction:jO(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=em(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{Vt:n,parent:i}}function PO(t){let e=SO(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Le(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(f){const p=iS(f);return p instanceof vr&&Dk(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(w){return new _h(ro(w.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,ld(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(f){const p=!!f.before,g=f.values||[];return new wh(g,p)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const p=!f.before,g=f.values||[];return new wh(g,p)}(n.endAt)),YD(e,i,o,s,a,"F",l,c)}function RO(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fe(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function iS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ro(n.unaryFilter.field);return mt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ro(n.unaryFilter.field);return mt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ro(n.unaryFilter.field);return mt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ro(n.unaryFilter.field);return mt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return fe(61313);default:return fe(60726)}}(t):t.fieldFilter!==void 0?function(n){return mt.create(ro(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return fe(58110);default:return fe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return vr.create(n.compositeFilter.filters.map(r=>iS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return fe(1026)}}(n.compositeFilter.op))}(t):fe(30097,{filter:t})}function jO(t){return wO[t]}function DO(t){return _O[t]}function OO(t){return EO[t]}function no(t){return{fieldPath:t.canonicalString()}}function ro(t){return Ct.fromServerFormat(t.fieldPath)}function sS(t){return t instanceof mt?function(n){if(n.op==="=="){if(Gx(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NAN"}};if(Wx(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Gx(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NOT_NAN"}};if(Wx(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:no(n.field),op:DO(n.op),value:n.value}}}(t):t instanceof vr?function(n){const r=n.getFilters().map(i=>sS(i));return r.length===1?r[0]:{compositeFilter:{op:OO(n.op),filters:r}}}(t):fe(54877,{filter:t})}function LO(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function oS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e,n,r,i,s=me.min(),o=me.min(),a=Pt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new pi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new pi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e){this.gt=e}}function FO(t){const e=PO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Zp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(){this.Dn=new zO}addToCollectionParentIndex(e,n){return this.Dn.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Oi.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Oi.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class zO{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new vt(Ze.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new vt(Ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},aS=41943040;class on{static withCacheSize(e){return new on(e,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(aS,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Ho(0)}static ur(){return new Ho(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw="LruGarbageCollector",UO=1048576;function uw([t,e],[n,r]){const i=Ee(t,n);return i===0?Ee(e,r):i}class $O{constructor(e){this.Tr=e,this.buffer=new vt(uw),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();uw(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class BO{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){te(lw,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){oa(n)?te(lw,"Ignoring IndexedDB error during garbage collection: ",n):await sa(n)}await this.Rr(3e5)})}}class HO{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return B.resolve(ad.ue);const r=new $O(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(te("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(aw)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),aw):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,s,o,a,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),eo()<=Ce.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function qO(t,e){return new HO(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(){this.changes=new Us(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&al(r.mutation,i,xn.empty(),Qe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ae()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ae()){const i=_s();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ua();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=_s();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ae()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=$r();const o=ol(),a=function(){return ol()}();return n.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof Yi)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),al(d.mutation,c,d.mutation.getFieldMask(),Qe.now())):o.set(c.key,xn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var f;return a.set(c,new GO(d,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ol();let i=new nt((o,a)=>o-a),s=Ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||xn.empty();d=a.applyToLocalView(c,d),r.set(l,d);const f=(i.get(a.batchId)||Ae()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,f=$k();d.forEach(p=>{if(!s.has(p)){const g=Kk(n.get(p),r.get(p));g!==null&&f.set(p,g),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ue.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):JD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):B.resolve(_s());let a=Dl,l=s;return o.next(c=>B.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?B.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Ae())).next(d=>({batchId:a,changes:Uk(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ue(n)).next(r=>{let i=Ua();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Ua();return this.indexManager.getCollectionParents(e,s).next(a=>B.forEach(a,l=>{const c=function(f,p){return new cd(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,zt.newInvalidDocument(d)))});let a=Ua();return o.forEach((l,c)=>{const d=s.get(l);d!==void 0&&al(d.mutation,c,xn.empty(),Qe.now()),dd(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return B.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(i){return{id:i.id,version:i.version,createTime:pr(i.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(i){return{name:i.name,query:FO(i.bundledQuery),readTime:pr(i.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(){this.overlays=new nt(ue.comparator),this.kr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=_s();return B.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.wt(e,n,s)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.kr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.kr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const i=_s(),s=n.length+1,o=new ue(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return B.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new nt((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=_s(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=_s(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return B.resolve(a)}wt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new mO(n,r));let s=this.kr.get(n);s===void 0&&(s=Ae(),this.kr.set(n,s)),this.kr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(){this.sessionToken=Pt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(){this.qr=new vt(_t.Qr),this.$r=new vt(_t.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new _t(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new _t(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new ue(new Ze([])),r=new _t(n,e),i=new _t(n,e+1),s=[];return this.$r.forEachInRange([r,i],o=>{this.Wr(o),s.push(o.key)}),s}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new ue(new Ze([])),r=new _t(n,e),i=new _t(n,e+1);let s=Ae();return this.$r.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new _t(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class _t{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return ue.comparator(e.key,n.key)||Ee(e.Hr,n.Hr)}static Ur(e,n){return Ee(e.Hr,n.Hr)||ue.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new vt(_t.Qr)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new pO(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Yr=this.Yr.add(new _t(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),s=i<0?0:i;return B.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?qg:this.er-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new _t(n,0),i=new _t(n,Number.POSITIVE_INFINITY),s=[];return this.Yr.forEachInRange([r,i],o=>{const a=this.Zr(o.Hr);s.push(a)}),B.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new vt(Ee);return n.forEach(i=>{const s=new _t(i,0),o=new _t(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([s,o],a=>{r=r.add(a.Hr)})}),B.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ue.isDocumentKey(s)||(s=s.child(""));const o=new _t(new ue(s),0);let a=new vt(Ee);return this.Yr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Hr)),!0)},o),B.resolve(this.ei(a))}ei(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Le(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return B.forEach(n.mutations,i=>{const s=new _t(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new _t(n,0),i=this.Yr.firstAfterOrEqual(r);return B.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e){this.ni=e,this.docs=function(){return new nt(ue.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():zt.newInvalidDocument(n))}getEntries(e,n){let r=$r();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():zt.newInvalidDocument(i))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=$r();const o=n.path,a=new ue(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||CD(ID(d),r)<=0||(i.has(d.key)||dd(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return B.resolve(s)}getAllFromCollectionGroup(e,n,r,i){fe(9500)}ri(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new eL(this)}getSize(e){return B.resolve(this.size)}}class eL extends WO{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(e){this.persistence=e,this.ii=new Us(n=>Kg(n),Qg),this.lastRemoteSnapshotVersion=me.min(),this.highestTargetId=0,this.si=0,this.oi=new ty,this.targetCount=0,this._i=Ho.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),B.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new Ho(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.hr(n),B.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.ii.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ii.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),B.waitFor(s).next(()=>i)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),B.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e,n){this.ai={},this.overlays={},this.ui=new ad(0),this.ci=!1,this.ci=!0,this.li=new JO,this.referenceDelegate=e(this),this.hi=new tL(this),this.indexManager=new VO,this.remoteDocumentCache=function(i){return new ZO(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new MO(n),this.Ti=new QO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new YO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new XO(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){te("MemoryPersistence","Starting transaction:",e);const i=new nL(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ei(e,n){return B.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class nL extends ND{constructor(e){super(),this.currentSequenceNumber=e}}class ny{constructor(e){this.persistence=e,this.Ai=new ty,this.Ri=null}static Vi(e){return new ny(e)}get mi(){if(this.Ri)return this.Ri;throw fe(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),B.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.mi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.mi,r=>{const i=ue.fromPath(r);return this.fi(e,i).next(s=>{s||n.removeEntry(i,me.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return B.or([()=>B.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Sh{constructor(e,n){this.persistence=e,this.gi=new Us(r=>jD(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=qO(this,n)}static Vi(e,n){return new Sh(e,n)}Ii(){}di(e){return B.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return B.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(s=>s?B.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ri(e,o=>this.Sr(e,o,n).next(a=>{a||(r++,s.removeEntry(o,me.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),B.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),B.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Tc(e.data.value)),n}Sr(e,n,r){return B.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.gi.get(n);return B.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=Ae(),i=Ae();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new ry(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return NP()?8:PD(Bt())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ps(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ys(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new rL;return this.ws(e,n,o).next(a=>{if(s.result=a,this.Rs)return this.Ss(e,n,o,a.size)})}).next(()=>s.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(eo()<=Ce.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",to(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),B.resolve()):(eo()<=Ce.DEBUG&&te("QueryEngine","Query:",to(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(eo()<=Ce.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",to(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,dr(n))):B.resolve())}ps(e,n){if(Jx(n))return B.resolve(null);let r=dr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Zp(n,null,"F"),r=dr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ae(...s);return this.gs.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.bs(n,a);return this.Ds(n,c,o,l.readTime)?this.ps(e,Zp(n,null,"F")):this.vs(e,c,n,l)}))})))}ys(e,n,r,i){return Jx(n)||i.isEqual(me.min())?B.resolve(null):this.gs.getDocuments(e,r).next(s=>{const o=this.bs(n,s);return this.Ds(n,o,r,i)?B.resolve(null):(eo()<=Ce.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),to(n)),this.vs(e,o,n,TD(i,Dl)).next(a=>a))})}bs(e,n){let r=new vt(Vk(e));return n.forEach((i,s)=>{dd(e,s)&&(r=r.add(s))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ws(e,n,r){return eo()<=Ce.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",to(n)),this.gs.getDocumentsMatchingQuery(e,n,Oi.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy="LocalStore",sL=3e8;class oL{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new nt(Ee),this.Ms=new Us(s=>Kg(s),Qg),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new KO(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function aL(t,e,n,r){return new oL(t,e,n,r)}async function uS(t,e){const n=ye(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Ae();for(const c of i){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Bs:c,removedBatchIds:o,addedBatchIds:a}))})})}function lL(t,e){const n=ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const f=c.batch,p=f.keys();let g=B.resolve();return p.forEach(w=>{g=g.next(()=>d.getEntry(l,w)).next(T=>{const I=c.docVersions.get(w);Le(I!==null,48541),T.version.compareTo(I)<0&&(f.applyToRemoteDocument(T,c),T.isValidDocument()&&(T.setReadTime(c.commitVersion),d.addEntry(T)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ae();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function cS(t){const e=ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function uL(t,e){const n=ye(t),r=e.snapshotVersion;let i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;const a=[];e.targetChanges.forEach((d,f)=>{const p=i.get(f);if(!p)return;a.push(n.hi.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.hi.addMatchingKeys(s,d.addedDocuments,f)));let g=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(Pt.EMPTY_BYTE_STRING,me.min()).withLastLimboFreeSnapshotVersion(me.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),i=i.insert(f,g),function(T,I,E){return T.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=sL?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(p,g,d)&&a.push(n.hi.updateTargetData(s,g))});let l=$r(),c=Ae();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(cL(s,o,e.documentUpdates).next(d=>{l=d.Ls,c=d.ks})),!r.isEqual(me.min())){const d=n.hi.getLastRemoteSnapshotVersion(s).next(f=>n.hi.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return B.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.Fs=i,s))}function cL(t,e,n){let r=Ae(),i=Ae();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=$r();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(me.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):te(iy,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ls:o,ks:i}})}function hL(t,e){const n=ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=qg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function dL(t,e){const n=ye(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(s=>s?(i=s,B.resolve(i)):n.hi.allocateTargetId(r).next(o=>(i=new pi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function im(t,e,n){const r=ye(t),i=r.Fs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!oa(o))throw o;te(iy,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function cw(t,e,n){const r=ye(t);let i=me.min(),s=Ae();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const f=ye(l),p=f.Ms.get(d);return p!==void 0?B.resolve(f.Fs.get(p)):f.hi.getTargetData(c,d)}(r,o,dr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,n?i:me.min(),n?s:Ae())).next(a=>(fL(r,ZD(e),a),{documents:a,qs:s})))}function fL(t,e,n){let r=t.xs.get(e)||me.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.xs.set(e,r)}class hw{constructor(){this.activeTargetIds=sO()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pL{constructor(){this.Fo=new hw,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new hw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw="ConnectivityMonitor";class fw{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){te(dw,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){te(dw,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tc=null;function sm(){return tc===null?tc=function(){return 268435456+Math.round(2147483648*Math.random())}():tc++,"0x"+tc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ef="RestConnection",gL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class yL{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===vh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,s){const o=sm(),a=this.Go(e,n.toUriEncodedString());te(Ef,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(l,i,s);const{host:c}=new URL(a),d=ta(c);return this.jo(e,a,l,r,d).then(f=>(te(Ef,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Di(Ef,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Jo(e,n,r,i,s,o){return this.Wo(e,n,r,i,s)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ia}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Go(e,n){const r=gL[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lt="WebChannelConnection";class xL extends yL{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,s){const o=sm();return new Promise((a,l)=>{const c=new fk;c.setWithCredentials(!0),c.listenOnce(pk.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Sc.NO_ERROR:const f=c.getResponseJson();te(Lt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case Sc.TIMEOUT:te(Lt,`RPC '${e}' ${o} timed out`),l(new oe(H.DEADLINE_EXCEEDED,"Request time out"));break;case Sc.HTTP_ERROR:const p=c.getStatus();if(te(Lt,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const w=g==null?void 0:g.error;if(w&&w.status&&w.message){const T=function(E){const v=E.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(v)>=0?v:H.UNKNOWN}(w.status);l(new oe(T,w.message))}else l(new oe(H.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new oe(H.UNAVAILABLE,"Connection failed."));break;default:fe(9055,{c_:e,streamId:o,l_:c.getLastErrorCode(),h_:c.getLastError()})}}finally{te(Lt,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(i);te(Lt,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",d,r,15)})}P_(e,n,r){const i=sm(),s=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=yk(),a=gk(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.zo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");te(Lt,`Creating RPC '${e}' stream ${i}: ${d}`,l);const f=o.createWebChannel(d,l);this.T_(f);let p=!1,g=!1;const w=new vL({Ho:I=>{g?te(Lt,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(p||(te(Lt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),p=!0),te(Lt,`RPC '${e}' stream ${i} sending:`,I),f.send(I))},Yo:()=>f.close()}),T=(I,E,v)=>{I.listen(E,x=>{try{v(x)}catch(N){setTimeout(()=>{throw N},0)}})};return T(f,za.EventType.OPEN,()=>{g||(te(Lt,`RPC '${e}' stream ${i} transport opened.`),w.s_())}),T(f,za.EventType.CLOSE,()=>{g||(g=!0,te(Lt,`RPC '${e}' stream ${i} transport closed`),w.__(),this.I_(f))}),T(f,za.EventType.ERROR,I=>{g||(g=!0,Di(Lt,`RPC '${e}' stream ${i} transport errored. Name:`,I.name,"Message:",I.message),w.__(new oe(H.UNAVAILABLE,"The operation could not be completed")))}),T(f,za.EventType.MESSAGE,I=>{var E;if(!g){const v=I.data[0];Le(!!v,16349);const x=v,N=(x==null?void 0:x.error)||((E=x[0])===null||E===void 0?void 0:E.error);if(N){te(Lt,`RPC '${e}' stream ${i} received error:`,N);const O=N.status;let A=function(S){const _=ut[S];if(_!==void 0)return Jk(_)}(O),k=N.message;A===void 0&&(A=H.INTERNAL,k="Unknown error status: "+O+" with message "+N.message),g=!0,w.__(new oe(A,k)),f.close()}else te(Lt,`RPC '${e}' stream ${i} received:`,v),w.a_(v)}}),T(a,mk.STAT_EVENT,I=>{I.stat===Gp.PROXY?te(Lt,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===Gp.NOPROXY&&te(Lt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.o_()},0),w}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function bf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(t){return new bO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw="PersistentStream";class dS{constructor(e,n,r,i,s,o,a,l){this.Fi=e,this.w_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new hS(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(Ur(n.toString()),Ur("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{const i=new oe(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return te(pw,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(te(pw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wL extends dS{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=TO(this.serializer,e),r=function(s){if(!("targetChange"in s))return me.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?me.min():o.readTime?pr(o.readTime):me.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=rm(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Xp(l)?{documents:AO(s,l)}:{query:NO(s,l).Vt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=eS(s,o.resumeToken);const c=em(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(me.min())>0){a.readTime=kh(s,o.snapshotVersion.toTimestamp());const c=em(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=RO(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=rm(this.serializer),n.removeTarget=e,this.k_(n)}}class _L extends dS{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return Le(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Le(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Le(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=CO(e.writeResults,e.commitTime),r=pr(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=rm(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>IO(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{}class bL extends EL{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new oe(H.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Wo(e,tm(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new oe(H.UNKNOWN,s.toString())})}Jo(e,n,r,i,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Jo(e,tm(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new oe(H.UNKNOWN,o.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class kL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Ur(n),this._a=!1):te("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os="RemoteStore";class SL{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=s,this.Ea.xo(o=>{r.enqueueAndForget(async()=>{$s(this)&&(te(Os,"Restarting streams for network reachability change."),await async function(l){const c=ye(l);c.Ia.add(4),await au(c),c.Aa.set("Unknown"),c.Ia.delete(4),await yd(c)}(this))})}),this.Aa=new kL(r,i)}}async function yd(t){if($s(t))for(const e of t.da)await e(!0)}async function au(t){for(const e of t.da)await e(!1)}function fS(t,e){const n=ye(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),ly(n)?ay(n):aa(n).x_()&&oy(n,e))}function sy(t,e){const n=ye(t),r=aa(n);n.Ta.delete(e),r.x_()&&pS(n,e),n.Ta.size===0&&(r.x_()?r.B_():$s(n)&&n.Aa.set("Unknown"))}function oy(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(me.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}aa(t).H_(e)}function pS(t,e){t.Ra.$e(e),aa(t).Y_(e)}function ay(t){t.Ra=new xO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),aa(t).start(),t.Aa.aa()}function ly(t){return $s(t)&&!aa(t).M_()&&t.Ta.size>0}function $s(t){return ye(t).Ia.size===0}function mS(t){t.Ra=void 0}async function TL(t){t.Aa.set("Online")}async function IL(t){t.Ta.forEach((e,n)=>{oy(t,e)})}async function CL(t,e){mS(t),ly(t)?(t.Aa.la(e),ay(t)):t.Aa.set("Unknown")}async function AL(t,e,n){if(t.Aa.set("Online"),e instanceof Zk&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ta.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ta.delete(a),i.Ra.removeTarget(a))}(t,e)}catch(r){te(Os,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Th(t,r)}else if(e instanceof Ac?t.Ra.Ye(e):e instanceof Xk?t.Ra.it(e):t.Ra.et(e),!n.isEqual(me.min()))try{const r=await cS(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Ra.Pt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.Ta.get(c);d&&s.Ta.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=s.Ta.get(l);if(!d)return;s.Ta.set(l,d.withResumeToken(Pt.EMPTY_BYTE_STRING,d.snapshotVersion)),pS(s,l);const f=new pi(d.target,l,c,d.sequenceNumber);oy(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){te(Os,"Failed to raise snapshot:",r),await Th(t,r)}}async function Th(t,e,n){if(!oa(e))throw e;t.Ia.add(1),await au(t),t.Aa.set("Offline"),n||(n=()=>cS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{te(Os,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await yd(t)})}function gS(t,e){return e().catch(n=>Th(t,n,e))}async function vd(t){const e=ye(t),n=Vi(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:qg;for(;NL(e);)try{const i=await hL(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,PL(e,i)}catch(i){await Th(e,i)}yS(e)&&vS(e)}function NL(t){return $s(t)&&t.Pa.length<10}function PL(t,e){t.Pa.push(e);const n=Vi(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function yS(t){return $s(t)&&!Vi(t).M_()&&t.Pa.length>0}function vS(t){Vi(t).start()}async function RL(t){Vi(t).na()}async function jL(t){const e=Vi(t);for(const n of t.Pa)e.X_(n.mutations)}async function DL(t,e,n){const r=t.Pa.shift(),i=Xg.from(r,e,n);await gS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await vd(t)}async function OL(t,e){e&&Vi(t).Z_&&await async function(r,i){if(function(o){return yO(o)&&o!==H.ABORTED}(i.code)){const s=r.Pa.shift();Vi(r).N_(),await gS(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await vd(r)}}(t,e),yS(t)&&vS(t)}async function mw(t,e){const n=ye(t);n.asyncQueue.verifyOperationInProgress(),te(Os,"RemoteStore received new credentials");const r=$s(n);n.Ia.add(3),await au(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await yd(n)}async function LL(t,e){const n=ye(t);e?(n.Ia.delete(2),await yd(n)):e||(n.Ia.add(2),await au(n),n.Aa.set("Unknown"))}function aa(t){return t.Va||(t.Va=function(n,r,i){const s=ye(n);return s.ia(),new wL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:TL.bind(null,t),e_:IL.bind(null,t),n_:CL.bind(null,t),J_:AL.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),ly(t)?ay(t):t.Aa.set("Unknown")):(await t.Va.stop(),mS(t))})),t.Va}function Vi(t){return t.ma||(t.ma=function(n,r,i){const s=ye(n);return s.ia(),new _L(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:RL.bind(null,t),n_:OL.bind(null,t),ea:jL.bind(null,t),ta:DL.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await vd(t)):(await t.ma.stop(),t.Pa.length>0&&(te(Os,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new uy(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cy(t,e){if(Ur("AsyncQueue",`${e}: ${t}`),oa(t))return new oe(H.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{static emptySet(e){return new No(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ue.comparator(n.key,r.key):(n,r)=>ue.comparator(n.key,r.key),this.keyedMap=Ua(),this.sortedSet=new nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof No)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new No;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(){this.fa=new nt(ue.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):fe(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class qo{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new qo(e,n,No.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class FL{constructor(){this.queries=yw(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const i=ye(n),s=i.queries;i.queries=yw(),s.forEach((o,a)=>{for(const l of a.wa)l.onError(r)})})(this,new oe(H.ABORTED,"Firestore shutting down"))}}function yw(){return new Us(t=>Fk(t),hd)}async function VL(t,e){const n=ye(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Sa()&&e.ba()&&(r=2):(s=new ML,r=e.ba()?0:1);try{switch(r){case 0:s.ya=await n.onListen(i,!0);break;case 1:s.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=cy(o,`Initialization of query '${to(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.wa.push(e),e.va(n.onlineState),s.ya&&e.Ca(s.ya)&&hy(n)}async function zL(t,e){const n=ye(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.wa.indexOf(e);o>=0&&(s.wa.splice(o,1),s.wa.length===0?i=e.ba()?0:1:!s.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function UL(t,e){const n=ye(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.wa)a.Ca(i)&&(r=!0);o.ya=i}}r&&hy(n)}function $L(t,e,n){const r=ye(t),i=r.queries.get(e);if(i)for(const s of i.wa)s.onError(n);r.queries.delete(e)}function hy(t){t.Da.forEach(e=>{e.next()})}var om,vw;(vw=om||(om={})).Fa="default",vw.Cache="cache";class BL{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new qo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=qo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==om.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e){this.key=e}}class wS{constructor(e){this.key=e}}class HL{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ae(),this.mutatedKeys=Ae(),this.Xa=Vk(e),this.eu=new No(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new gw,i=n?n.eu:this.eu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const p=i.get(d),g=dd(this.query,f)?f:null,w=!!p&&this.mutatedKeys.has(p.key),T=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let I=!1;p&&g?p.data.isEqual(g.data)?w!==T&&(r.track({type:3,doc:g}),I=!0):this.iu(p,g)||(r.track({type:2,doc:g}),I=!0,(l&&this.Xa(g,l)>0||c&&this.Xa(g,c)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),I=!0):p&&!g&&(r.track({type:1,doc:p}),I=!0,(l||c)&&(a=!0)),I&&(g?(o=o.add(g),s=T?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{eu:o,ru:r,Ds:a,mutatedKeys:s}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const o=e.ru.pa();o.sort((d,f)=>function(g,w){const T=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fe(20277,{At:I})}};return T(g)-T(w)}(d.type,f.type)||this.Xa(d.doc,f.doc)),this.su(r),i=i!=null&&i;const a=n&&!i?this.ou():[],l=this.Za.size===0&&this.current&&!i?1:0,c=l!==this.Ya;return this.Ya=l,o.length!==0||c?{snapshot:new qo(this.query,e.eu,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new gw,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Ae(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new wS(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new xS(r))}),n}uu(e){this.Ha=e.qs,this.Za=Ae();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return qo.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const dy="SyncEngine";class qL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class WL{constructor(e){this.key=e,this.lu=!1}}class GL{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new Us(a=>Fk(a),hd),this.Tu=new Map,this.Iu=new Set,this.du=new nt(ue.comparator),this.Eu=new Map,this.Au=new ty,this.Ru={},this.Vu=new Map,this.mu=Ho.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function KL(t,e,n=!0){const r=TS(t);let i;const s=r.Pu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.cu()):i=await _S(r,e,n,!0),i}async function QL(t,e){const n=TS(t);await _S(n,e,!0,!1)}async function _S(t,e,n,r){const i=await dL(t.localStore,dr(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await YL(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&fS(t.remoteStore,i),a}async function YL(t,e,n,r,i){t.gu=(f,p,g)=>async function(T,I,E,v){let x=I.view.nu(E);x.Ds&&(x=await cw(T.localStore,I.query,!1).then(({documents:k})=>I.view.nu(k,x)));const N=v&&v.targetChanges.get(I.targetId),O=v&&v.targetMismatches.get(I.targetId)!=null,A=I.view.applyChanges(x,T.isPrimaryClient,N,O);return ww(T,I.targetId,A._u),A.snapshot}(t,f,p,g);const s=await cw(t.localStore,e,!0),o=new HL(e,s.qs),a=o.nu(s.documents),l=ou.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);ww(t,n,c._u);const d=new qL(e,n,o);return t.Pu.set(e,d),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),c.snapshot}async function JL(t,e,n){const r=ye(t),i=r.Pu.get(e),s=r.Tu.get(i.targetId);if(s.length>1)return r.Tu.set(i.targetId,s.filter(o=>!hd(o,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await im(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&sy(r.remoteStore,i.targetId),am(r,i.targetId)}).catch(sa)):(am(r,i.targetId),await im(r.localStore,i.targetId,!0))}async function XL(t,e){const n=ye(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),sy(n.remoteStore,r.targetId))}async function ZL(t,e,n){const r=o3(t);try{const i=await function(o,a){const l=ye(o),c=Qe.now(),d=a.reduce((g,w)=>g.add(w.key),Ae());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let w=$r(),T=Ae();return l.Os.getEntries(g,d).next(I=>{w=I,w.forEach((E,v)=>{v.isValidDocument()||(T=T.add(E))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,w)).next(I=>{f=I;const E=[];for(const v of a){const x=dO(v,f.get(v.key).overlayedDocument);x!=null&&E.push(new Yi(v.key,x,Pk(x.value.mapValue),fr.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,E,a)}).next(I=>{p=I;const E=I.applyToLocalDocumentSet(f,T);return l.documentOverlayCache.saveOverlays(g,I.batchId,E)})}).then(()=>({batchId:p.batchId,changes:Uk(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Ru[o.currentUser.toKey()];c||(c=new nt(Ee)),c=c.insert(a,l),o.Ru[o.currentUser.toKey()]=c}(r,i.batchId,n),await lu(r,i.changes),await vd(r.remoteStore)}catch(i){const s=cy(i,"Failed to persist write");n.reject(s)}}async function ES(t,e){const n=ye(t);try{const r=await uL(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Eu.get(s);o&&(Le(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.lu=!0:i.modifiedDocuments.size>0?Le(o.lu,14607):i.removedDocuments.size>0&&(Le(o.lu,42227),o.lu=!1))}),await lu(n,r,e)}catch(r){await sa(r)}}function xw(t,e,n){const r=ye(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Pu.forEach((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ye(o);l.onlineState=a;let c=!1;l.queries.forEach((d,f)=>{for(const p of f.wa)p.va(a)&&(c=!0)}),c&&hy(l)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function e3(t,e,n){const r=ye(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),s=i&&i.key;if(s){let o=new nt(ue.comparator);o=o.insert(s,zt.newNoDocument(s,me.min()));const a=Ae().add(s),l=new md(me.min(),new Map,new nt(Ee),o,a);await ES(r,l),r.du=r.du.remove(s),r.Eu.delete(e),fy(r)}else await im(r.localStore,e,!1).then(()=>am(r,e,n)).catch(sa)}async function t3(t,e){const n=ye(t),r=e.batch.batchId;try{const i=await lL(n.localStore,e);kS(n,r,null),bS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await lu(n,i)}catch(i){await sa(i)}}async function n3(t,e,n){const r=ye(t);try{const i=await function(o,a){const l=ye(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(Le(f!==null,37113),d=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);kS(r,e,n),bS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await lu(r,i)}catch(i){await sa(i)}}function bS(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function kS(t,e,n){const r=ye(t);let i=r.Ru[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function am(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||SS(t,r)})}function SS(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(sy(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),fy(t))}function ww(t,e,n){for(const r of n)r instanceof xS?(t.Au.addReference(r.key,e),r3(t,r)):r instanceof wS?(te(dy,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||SS(t,r.key)):fe(19791,{yu:r})}function r3(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(te(dy,"New document in limbo: "+n),t.Iu.add(r),fy(t))}function fy(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new ue(Ze.fromString(e)),r=t.mu.next();t.Eu.set(r,new WL(n)),t.du=t.du.insert(n,r),fS(t.remoteStore,new pi(dr(Yg(n.path)),r,"TargetPurposeLimboResolution",ad.ue))}}async function lu(t,e,n){const r=ye(t),i=[],s=[],o=[];r.Pu.isEmpty()||(r.Pu.forEach((a,l)=>{o.push(r.gu(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=ry.Es(l.targetId,c);s.push(f)}}))}),await Promise.all(o),r.hu.J_(i),await async function(l,c){const d=ye(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>B.forEach(c,p=>B.forEach(p.Is,g=>d.persistence.referenceDelegate.addReference(f,p.targetId,g)).next(()=>B.forEach(p.ds,g=>d.persistence.referenceDelegate.removeReference(f,p.targetId,g)))))}catch(f){if(!oa(f))throw f;te(iy,"Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const g=d.Fs.get(p),w=g.snapshotVersion,T=g.withLastLimboFreeSnapshotVersion(w);d.Fs=d.Fs.insert(p,T)}}}(r.localStore,s))}async function i3(t,e){const n=ye(t);if(!n.currentUser.isEqual(e)){te(dy,"User change. New user:",e.toKey());const r=await uS(n.localStore,e);n.currentUser=e,function(s,o){s.Vu.forEach(a=>{a.forEach(l=>{l.reject(new oe(H.CANCELLED,o))})}),s.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await lu(n,r.Bs)}}function s3(t,e){const n=ye(t),r=n.Eu.get(e);if(r&&r.lu)return Ae().add(r.key);{let i=Ae();const s=n.Tu.get(e);if(!s)return i;for(const o of s){const a=n.Pu.get(o);i=i.unionWith(a.view.tu)}return i}}function TS(t){const e=ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ES.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=s3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=e3.bind(null,e),e.hu.J_=UL.bind(null,e.eventManager),e.hu.pu=$L.bind(null,e.eventManager),e}function o3(t){const e=ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=t3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=n3.bind(null,e),e}class Ih{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gd(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return aL(this.persistence,new iL,e.initialUser,this.serializer)}Du(e){return new lS(ny.Vi,this.serializer)}bu(e){return new pL}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ih.provider={build:()=>new Ih};class a3 extends Ih{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){Le(this.persistence.referenceDelegate instanceof Sh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new BO(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new lS(r=>Sh.Vi(r,n),this.serializer)}}class lm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>xw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=i3.bind(null,this.syncEngine),await LL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new FL}()}createDatastore(e){const n=gd(e.databaseInfo.databaseId),r=function(s){return new xL(s)}(e.databaseInfo);return function(s,o,a,l){return new bL(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new SL(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>xw(this.syncEngine,n,0),function(){return fw.C()?new fw:new mL}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,d){const f=new GL(i,s,o,a,l,c);return d&&(f.fu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ye(i);te(Os,"RemoteStore shutting down."),s.Ia.add(5),await au(s),s.Ea.shutdown(),s.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}lm.provider={build:()=>new lm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Ur("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi="FirestoreClient";class u3{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ft.UNAUTHENTICATED,this.clientId=Bg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{te(zi,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(te(zi,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=cy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function kf(t,e){t.asyncQueue.verifyOperationInProgress(),te(zi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await uS(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{Di("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{te("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Di("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e}async function _w(t,e){t.asyncQueue.verifyOperationInProgress();const n=await c3(t);te(zi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>mw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>mw(e.remoteStore,i)),t._onlineComponents=e}async function c3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){te(zi,"Using user provided OfflineComponentProvider");try{await kf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===H.FAILED_PRECONDITION||i.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Di("Error using user provided cache. Falling back to memory cache: "+n),await kf(t,new Ih)}}else te(zi,"Using default OfflineComponentProvider"),await kf(t,new a3(void 0));return t._offlineComponents}async function IS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(te(zi,"Using user provided OnlineComponentProvider"),await _w(t,t._uninitializedComponentsProvider._online)):(te(zi,"Using default OnlineComponentProvider"),await _w(t,new lm))),t._onlineComponents}function h3(t){return IS(t).then(e=>e.syncEngine)}async function d3(t){const e=await IS(t),n=e.eventManager;return n.onListen=KL.bind(null,e.syncEngine),n.onUnlisten=JL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=QL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=XL.bind(null,e.syncEngine),n}function f3(t,e,n={}){const r=new Ni;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new l3({next:p=>{d.Ou(),o.enqueueAndForget(()=>zL(s,f));const g=p.docs.has(a);!g&&p.fromCache?c.reject(new oe(H.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&l&&l.source==="server"?c.reject(new oe(H.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new BL(Yg(a.path),d,{includeMetadataChanges:!0,ka:!0});return VL(s,f)}(await d3(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS="firestore.googleapis.com",bw=!0;class kw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new oe(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=AS,this.ssl=bw}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:bw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=aS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<UO)throw new oe(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}SD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new oe(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new oe(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new oe(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class py{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new mD;switch(r.type){case"firstParty":return new xD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new oe(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Ew.get(n);r&&(te("ComponentProvider","Removing Datastore"),Ew.delete(n),r.terminate())}(this),Promise.resolve()}}function p3(t,e,n,r={}){var i;t=Ds(t,py);const s=ta(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;s&&(Tb(`https://${l}`),Ib("Firestore",!0)),o.host!==AS&&o.host!==l&&Di("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},o),{host:l,ssl:s,emulatorOptions:r});if(!Ns(c,a)&&(t._setSettings(c),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=Ft.MOCK_USER;else{d=_P(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new oe(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Ft(p)}t._authCredentials=new gD(new xk(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new my(this.firestore,e,this._query)}}class yt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yt(this.firestore,e,this._key)}toJSON(){return{type:yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(iu(n,yt._jsonSchema))return new yt(e,r||null,new ue(Ze.fromString(n.referencePath)))}}yt._jsonSchemaVersion="firestore/documentReference/1.0",yt._jsonSchema={type:dt("string",yt._jsonSchemaVersion),referencePath:dt("string")};class zl extends my{constructor(e,n,r){super(e,n,Yg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yt(this.firestore,null,new ue(e))}withConverter(e){return new zl(this.firestore,e,this._path)}}function NS(t,e,...n){if(t=Ht(t),arguments.length===1&&(e=Bg.newId()),kD("doc","path",e),t instanceof py){const r=Ze.fromString(e,...n);return Fx(r),new yt(t,null,new ue(r))}{if(!(t instanceof yt||t instanceof zl))throw new oe(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ze.fromString(e,...n));return Fx(r),new yt(t.firestore,t instanceof zl?t.converter:null,new ue(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw="AsyncQueue";class Tw{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new hS(this,"async_queue_retry"),this.oc=()=>{const r=bf();r&&te(Sw,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=bf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=bf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new Ni;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!oa(e))throw e;te(Sw,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Ur("INTERNAL UNHANDLED ERROR: ",Iw(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const i=uy.createAndSchedule(this,e,n,r,s=>this.lc(s));return this.ec.push(i),i}ac(){this.tc&&fe(47125,{hc:Iw(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function Iw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class xd extends py{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Tw,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Tw(e),this._firestoreClient=void 0,await e}}}function m3(t,e){const n=typeof t=="object"?t:Pb(),r=typeof t=="string"?t:vh,i=Pg(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=xP("firestore");s&&p3(i,...s)}return i}function PS(t){if(t._terminated)throw new oe(H.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||g3(t),t._firestoreClient}function g3(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,d){return new LD(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,CS(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new u3(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pn(Pt.fromBase64String(e))}catch(n){throw new oe(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Pn(Pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(iu(e,Pn._jsonSchema))return Pn.fromBase64String(e.bytes)}}Pn._jsonSchemaVersion="firestore/bytes/1.0",Pn._jsonSchema={type:dt("string",Pn._jsonSchemaVersion),bytes:dt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ee(this._lat,e._lat)||Ee(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:mr._jsonSchemaVersion}}static fromJSON(e){if(iu(e,mr._jsonSchema))return new mr(e.latitude,e.longitude)}}mr._jsonSchemaVersion="firestore/geoPoint/1.0",mr._jsonSchema={type:dt("string",mr._jsonSchemaVersion),latitude:dt("number"),longitude:dt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:gr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(iu(e,gr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new gr(e.vectorValues);throw new oe(H.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}gr._jsonSchemaVersion="firestore/vectorValue/1.0",gr._jsonSchema={type:dt("string",gr._jsonSchemaVersion),vectorValues:dt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3=/^__.*__$/;class v3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Yi(e,this.data,this.fieldMask,n,this.fieldTransforms):new su(e,this.data,n,this.fieldTransforms)}}class RS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Yi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function jS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe(40011,{Ec:t})}}class yy{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ac(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new yy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Ch(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(jS(this.Ec)&&y3.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class x3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||gd(e)}Dc(e,n,r,i=!1){return new yy({Ec:e,methodName:n,bc:r,path:Ct.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function DS(t){const e=t._freezeSettings(),n=gd(t._databaseId);return new x3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function w3(t,e,n,r,i,s={}){const o=t.Dc(s.merge||s.mergeFields?2:0,e,n,i);vy("Data must be an object, but it was:",o,r);const a=OS(r,o);let l,c;if(s.merge)l=new xn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const p=um(e,f,n);if(!o.contains(p))throw new oe(H.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);MS(d,p)||d.push(p)}l=new xn(d),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new v3(new ln(a),l,c)}class _d extends gy{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _d}}function _3(t,e,n,r){const i=t.Dc(1,e,n);vy("Data must be an object, but it was:",i,r);const s=[],o=ln.empty();Qi(r,(l,c)=>{const d=xy(e,l,n);c=Ht(c);const f=i.gc(d);if(c instanceof _d)s.push(d);else{const p=Ed(c,f);p!=null&&(s.push(d),o.set(d,p))}});const a=new xn(s);return new RS(o,a,i.fieldTransforms)}function E3(t,e,n,r,i,s){const o=t.Dc(1,e,n),a=[um(e,r,n)],l=[i];if(s.length%2!=0)throw new oe(H.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)a.push(um(e,s[p])),l.push(s[p+1]);const c=[],d=ln.empty();for(let p=a.length-1;p>=0;--p)if(!MS(c,a[p])){const g=a[p];let w=l[p];w=Ht(w);const T=o.gc(g);if(w instanceof _d)c.push(g);else{const I=Ed(w,T);I!=null&&(c.push(g),d.set(g,I))}}const f=new xn(c);return new RS(d,f,o.fieldTransforms)}function Ed(t,e){if(LS(t=Ht(t)))return vy("Unsupported field value:",e,t),OS(t,e);if(t instanceof gy)return function(r,i){if(!jS(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Ed(a,i.yc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ht(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return oO(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Qe.fromDate(r);return{timestampValue:kh(i.serializer,s)}}if(r instanceof Qe){const s=new Qe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:kh(i.serializer,s)}}if(r instanceof mr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Pn)return{bytesValue:eS(i.serializer,r._byteString)};if(r instanceof yt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.wc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:ey(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof gr)return function(o,a){return{mapValue:{fields:{[Ak]:{stringValue:Nk},[xh]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.wc("VectorValues must only contain numeric values.");return Jg(a.serializer,c)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${Hg(r)}`)}(t,e)}function OS(t,e){const n={};return bk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qi(t,(r,i)=>{const s=Ed(i,e.Vc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function LS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Qe||t instanceof mr||t instanceof Pn||t instanceof yt||t instanceof gy||t instanceof gr)}function vy(t,e,n){if(!LS(n)||!_k(n)){const r=Hg(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function um(t,e,n){if((e=Ht(e))instanceof wd)return e._internalPath;if(typeof e=="string")return xy(t,e);throw Ch("Field path arguments must be of type string or ",t,!1,void 0,n)}const b3=new RegExp("[~\\*/\\[\\]]");function xy(t,e,n){if(e.search(b3)>=0)throw Ch(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new wd(...e.split("."))._internalPath}catch{throw Ch(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ch(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new oe(H.INVALID_ARGUMENT,a+t+l)}function MS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new k3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(VS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class k3 extends FS{data(){return super.data()}}function VS(t,e){return typeof e=="string"?xy(t,e):e instanceof wd?e._internalPath:e._delegate._internalPath}class S3{convertValue(e,n="none"){switch(Fi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Mi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw fe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Qi(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[xh].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>ot(o.doubleValue));return new gr(s)}convertGeoPoint(e){return new mr(ot(e.latitude),ot(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ud(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ol(e));default:return null}}convertTimestamp(e){const n=Li(e);return new Qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ze.fromString(e);Le(oS(r),9688,{name:e});const i=new Ll(r.get(1),r.get(3)),s=new ue(r.popFirst(5));return i.isEqual(n)||Ur(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T3(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Ba{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ks extends FS{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Nc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(VS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(H.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ks._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ks._jsonSchemaVersion="firestore/documentSnapshot/1.0",ks._jsonSchema={type:dt("string",ks._jsonSchemaVersion),bundleSource:dt("string","DocumentSnapshot"),bundleName:dt("string"),bundle:dt("string")};class Nc extends ks{data(e={}){return super.data(e)}}class ll{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ba(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Nc(this._firestore,this._userDataWriter,r.key,r,new Ba(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Nc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ba(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Nc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ba(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:I3(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(H.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ll._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Bg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function I3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(t){t=Ds(t,yt);const e=Ds(t.firestore,xd);return f3(PS(e),t._key).then(n=>P3(e,t,n))}ll._jsonSchemaVersion="firestore/querySnapshot/1.0",ll._jsonSchema={type:dt("string",ll._jsonSchemaVersion),bundleSource:dt("string","QuerySnapshot"),bundleName:dt("string"),bundle:dt("string")};class C3 extends S3{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,n)}}function A3(t,e,n){t=Ds(t,yt);const r=Ds(t.firestore,xd),i=T3(t.converter,e);return zS(r,[w3(DS(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,fr.none())])}function N3(t,e,n,...r){t=Ds(t,yt);const i=Ds(t.firestore,xd),s=DS(i);let o;return o=typeof(e=Ht(e))=="string"||e instanceof wd?E3(s,"updateDoc",t._key,e,n,r):_3(s,"updateDoc",t._key,e),zS(i,[o.toMutation(t._key,fr.exists(!0))])}function zS(t,e){return function(r,i){const s=new Ni;return r.asyncQueue.enqueueAndForget(async()=>ZL(await h3(r),i,s)),s.promise}(PS(t),e)}function P3(t,e,n){const r=n.docs.get(e._key),i=new C3(t);return new ks(t,i,e._key,r,new Ba(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){ia=i})(na),Vo(new Ps("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new xd(new yD(r.getProvider("auth-internal")),new wD(o,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new oe(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ll(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ii(jx,Dx,e),Ii(jx,Dx,"esm2017")})();const R3={apiKey:"AIzaSyBp2GY7HTbsfY6wnRyoUhbRKHs4SLiAoVQ",authDomain:"beekaai.firebaseapp.com",projectId:"beekaai",storageBucket:"beekaai.firebasestorage.app",messagingSenderId:"86576473160",appId:"1:86576473160:web:6e95263aa5c25816e6247d",measurementId:"G-XX5EBK9PXR"},US=Nb(R3),xo=fD(US),$S=m3(US),BS=M.createContext(void 0),HS=({children:t})=>{const[e,n]=M.useState(null),[r,i]=M.useState(!0);M.useEffect(()=>{const l=tj(xo,async c=>{if(c){const d=NS($S,"users",c.uid);let f=await Cw(d);f.exists()||(await A3(d,{profile_complete:!1,email:c.email}),f=await Cw(d)),n({...c,...f.data()})}else n(null);i(!1)});return()=>l()},[]);const s=async l=>{const c={url:window.location.origin+"/signin",handleCodeInApp:!0};try{return await Y4(xo,l,c),window.localStorage.setItem("emailForSignIn",l),null}catch(d){return d}},o=async()=>{const l=new Cr;try{return await Ej(xo,l),null}catch(c){return c}},a=async()=>{await nj(xo),n(null)};return h.jsx(BS.Provider,{value:{user:e,loading:r,signInWithMagicLink:s,signInWithGoogle:o,signOut:a,setUser:n},children:t})},Wo=()=>{const t=M.useContext(BS);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t};/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var j3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Me=(t,e)=>{const n=M.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:l,...c},d)=>M.createElement("svg",{ref:d,...j3,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${D3(t)}`,a].join(" "),...c},[...e.map(([f,p])=>M.createElement(f,p)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aw=Me("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=Me("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=Me("BookCheck",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}],["path",{d:"m9 9.5 2 2 4-4",key:"1dth82"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=Me("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=Me("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=Me("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=Me("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Go=Me("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=Me("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=Me("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=Me("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cm=Me("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=Me("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=Me("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=Me("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ko=Me("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=Me("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=Me("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=Me("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ah=Me("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pc=Me("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=Me("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=Me("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=Me("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=Me("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=Me("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=Me("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=Me("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=Me("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=Me("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),K3=()=>{const[t,e]=M.useState(0),[n,r]=M.useState(!1),[i,s]=M.useState(""),[o,a]=M.useState(!1),l=[{question:"What is the capital of France?",options:["London","Berlin","Paris","Madrid"],correct:2},{question:"What is Square root of 256?",options:["24","16","15","61"],correct:1},{question:"Who wrote Romeo and Juliet?",options:["Charles Dickens","William Shakespeare","Jane Austen","Mark Twain"],correct:1}],c=`Living Things
 All living organisms are made of cells
 They require energy to survive
 Growth and reproduction are key
 Respond to environmental changes
 Maintain homeostasis`;return M.useEffect(()=>{const d=setInterval(()=>{r(f=>!f)},3e3);return()=>clearInterval(d)},[]),M.useEffect(()=>{const d=setInterval(()=>{e(f=>(f+1)%l.length)},4e3);return()=>clearInterval(d)},[]),M.useEffect(()=>{const d=setInterval(()=>{a(!0),s("");let f=0;const p=setInterval(()=>{f<c.length?(s(c.slice(0,f+1)),f++):(clearInterval(p),a(!1),setTimeout(()=>{s("")},2e3))},50);return()=>clearInterval(p)},6e3);return()=>clearInterval(d)},[]),h.jsx("section",{id:"features",className:"py-20 bg-black",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsxs("div",{className:"text-center mb-16",children:[h.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"Powerful Features"}),h.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Everything you need to transform your learning experience and achieve academic success"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[h.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 rounded-2xl p-8 border border-gray-700 hover:border-blue-500/50 transition-all duration-300 group",children:[h.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Memorize"}),h.jsx("p",{className:"text-gray-400 mb-6",children:"Generate Flashcards"}),h.jsx("div",{className:"relative h-32 perspective-1000",children:h.jsxs("div",{className:`flashcard ${n?"flipped":""}`,children:[h.jsx("div",{className:"flashcard-front bg-blue-600 rounded-lg p-4 flex items-center justify-center",children:h.jsx("span",{className:"text-white font-semibold text-lg",children:"Quantum"})}),h.jsx("div",{className:"flashcard-back bg-purple-600 rounded-lg p-4 flex items-center justify-center",children:h.jsx("span",{className:"text-white text-sm text-center",children:"The smallest discrete unit of any physical entity"})})]})})]}),h.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 rounded-2xl p-8 border border-gray-700 hover:border-green-500/50 transition-all duration-300 group",children:[h.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Practice"}),h.jsx("p",{className:"text-gray-400 mb-6",children:"Generate Quiz"}),h.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 min-h-32",children:[h.jsx("p",{className:"text-white font-medium mb-3",children:l[t].question}),h.jsx("div",{className:"space-y-2",children:l[t].options.map((d,f)=>h.jsx("div",{className:`p-2 rounded text-sm transition-all duration-300 ${f===l[t].correct?"bg-green-600 text-white":"bg-gray-700 text-gray-300"}`,children:d},f))})]})]}),h.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 rounded-2xl p-8 border border-gray-700 hover:border-teal-500/50 transition-all duration-300 group",children:[h.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Chat"}),h.jsx("p",{className:"text-gray-400 mb-6",children:"24/7 AI Tutor"}),h.jsx("div",{className:"flex items-center justify-center h-32",children:h.jsx("div",{className:"bg-teal-600 rounded-full p-4 animate-pulse",children:h.jsx(U3,{className:"w-8 h-8 text-white"})})}),h.jsx("p",{className:"text-gray-300 text-sm text-center mt-4",children:"Get instant help with any question, anytime"})]}),h.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 rounded-2xl p-8 border border-gray-700 hover:border-yellow-500/50 transition-all duration-300 group",children:[h.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Notes"}),h.jsx("p",{className:"text-gray-400 mb-6",children:"Smart Note Maker"}),h.jsx("div",{className:"bg-gray-800 rounded-lg p-4 h-32 overflow-hidden",children:h.jsxs("div",{className:"text-xs text-gray-300 font-mono",children:[h.jsxs("div",{className:"text-yellow-400 font-semibold mb-1",children:[o&&h.jsx("span",{className:"animate-pulse",children:"Generating notes..."}),!o&&i&&"Generated Notes:"]}),h.jsxs("div",{className:"whitespace-pre-line text-gray-300",children:[i,o&&h.jsx("span",{className:"animate-pulse",children:"|"})]})]})})]}),h.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 rounded-2xl p-8 border border-gray-700 hover:border-purple-500/50 transition-all duration-300 group md:col-span-2 lg:col-span-1",children:[h.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Structure"}),h.jsx("p",{className:"text-gray-400 mb-6",children:"Organize Notes"}),h.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 h-32",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsx(O3,{className:"w-6 h-6 text-purple-500"}),h.jsx("span",{className:"text-purple-400 text-sm font-medium",children:"Folders"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex justify-between text-xs text-gray-400",children:[h.jsx("span",{children:" Math"}),h.jsx("span",{children:"15 Spaces"})]}),h.jsx("div",{className:"w-full bg-gray-700 rounded h-1",children:h.jsx("div",{className:"bg-purple-500 h-1 rounded w-[80%]"})}),h.jsxs("div",{className:"flex justify-between text-xs text-gray-400",children:[h.jsx("span",{children:" Physics"}),h.jsx("span",{children:"6 Spaces"})]}),h.jsx("div",{className:"w-full bg-gray-700 rounded h-1",children:h.jsx("div",{className:"bg-blue-500 h-1 rounded w-[40%]"})})]})]})]}),h.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 rounded-2xl p-8 border border-gray-700 hover:border-orange-500/50 transition-all duration-300 group",children:[h.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Speed"}),h.jsx("p",{className:"text-gray-400 mb-6",children:"Learning in Speed"}),h.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 h-32 flex flex-col justify-center items-center",children:[h.jsx("div",{className:"text-3xl font-bold text-orange-400 mb-2",children:"3x"}),h.jsx("div",{className:"text-sm text-gray-300 text-center",children:"Faster Learning"}),h.jsx("div",{className:"text-xs text-gray-400 text-center mt-2",children:"AI-powered acceleration"}),h.jsxs("div",{className:"flex space-x-1 mt-3",children:[h.jsx("div",{className:"w-2 h-2 bg-orange-400 rounded-full animate-pulse"}),h.jsx("div",{className:"w-2 h-2 bg-orange-400 rounded-full animate-pulse",style:{animationDelay:"0.2s"}}),h.jsx("div",{className:"w-2 h-2 bg-orange-400 rounded-full animate-pulse",style:{animationDelay:"0.4s"}})]})]})]})]})]})})},Q3=()=>{const[t,e]=M.useState(!1),n=Wi();return h.jsx("header",{className:"fixed top-0 left-0 right-0 z-50",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsxs("div",{className:"flex items-center justify-between h-16",children:[h.jsx("div",{className:"flex items-center",children:h.jsxs("div",{className:"text-2xl font-bold text-white",children:[h.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"B"}),"eeka AI"]})}),h.jsx("div",{className:"hidden md:block"}),h.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[h.jsx(oh,{to:"/signin",className:"text-gray-300 hover:text-white transition-colors",children:"Sign In"}),h.jsx("button",{className:"bg-white text-black px-6 py-2 rounded-full font-medium hover:bg-gray-100 transition-all duration-300 hover:shadow-lg hover:shadow-white/20",onClick:()=>n("/signup"),children:"Sign Up Free"})]}),h.jsx("button",{className:"md:hidden text-white",onClick:()=>e(!t),children:t?h.jsx(Mt,{size:24}):h.jsx(dm,{size:24})})]}),t&&h.jsx("div",{className:"md:hidden bg-black/95 backdrop-blur-md border-t border-gray-800",children:h.jsx("div",{className:"px-2 pt-2 pb-3 space-y-1",children:h.jsxs("div",{className:"border-t border-gray-800 pt-4",children:[h.jsx(oh,{to:"/signin",className:"block px-3 py-2 text-gray-300 hover:text-white",children:"Sign In"}),h.jsx("button",{className:"w-full mt-2 bg-white text-black px-6 py-2 rounded-full font-medium",onClick:()=>{e(!1),n("/signup")},children:"Sign Up Free"})]})})})]})})},Y3=`
  @keyframes slide-up {
    0% {
      opacity: 0;
      transform: translateY(20px);
    }
    100% {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes fade-in {
    0% {
      opacity: 0;
    }
    100% {
      opacity: 1;
    }
  }

  @keyframes bounce-slow {
    0%, 100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-10px);
    }
  }

  .animate-slide-up {
    animation: slide-up 0.8s ease-out forwards;
  }

  .animate-fade-in {
    animation: fade-in 1s ease-out forwards;
  }

  .animate-bounce-slow {
    animation: bounce-slow 2s infinite;
  }

  .animation-delay-200 {
    animation-delay: 200ms;
  }

  .animation-delay-400 {
    animation-delay: 400ms;
  }

  .animation-delay-600 {
    animation-delay: 600ms;
  }

  .animation-delay-2000 {
    animation-delay: 2000ms;
  }
`,GS=document.createElement("style");GS.innerText=Y3;document.head.appendChild(GS);const J3=()=>{const t=Wi(),e=()=>h.jsxs("section",{id:"home",className:"relative min-h-screen bg-black flex items-center justify-center overflow-hidden",children:[h.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[h.jsx("img",{src:"/cap.png",alt:"3D Graduation",className:"hidden md:block absolute top-60 left-1/2 transform -translate-x-1/2 w-60 h-50 opacity-70 animate-float",style:{animationDelay:"0s"}}),h.jsx("img",{src:"/book.png",alt:"3D Book",className:"hidden md:block absolute top-1/2 left-1/4 transform -translate-y-1/2 w-60 h-50 opacity-60 animate-float-reverse",style:{animationDelay:"1s"}}),h.jsx("img",{src:"/check mark.png",alt:"3D Check",className:"hidden md:block absolute top-1/2 right-1/4 transform -translate-y-1/2 w-36 h-36 opacity-70 animate-float",style:{animationDelay:"1s"}})]}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-900/20 via-purple-900/20 to-black"}),h.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[h.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-white mb-6 leading-tight",children:["Level up your"," ",h.jsx("span",{className:"bg-gradient-to-r from-blue-400 via-purple-500 to-teal-400 bg-clip-text text-transparent",children:"Learning"})]}),h.jsx("p",{className:"text-xl md:text-2xl text-gray-300 mb-8 max-w-3xl mx-auto leading-relaxed",children:"Study smarter and faster. Ace your exams with Beeka AI. Our AI-powered platform helps you master any subject with personalized learning tools."}),h.jsxs("button",{className:"group bg-white text-black px-8 py-4 rounded-full text-lg font-semibold hover:bg-gray-100 transition-all duration-300 hover:shadow-2xl hover:shadow-white/30 hover:scale-105",onClick:()=>t("/signup"),children:["Use Beeka AI For Free",h.jsx("span",{className:"inline-block ml-2 group-hover:translate-x-1 transition-transform",children:""})]})]})]}),n=()=>h.jsx("section",{id:"how-it-works",className:"py-20 bg-[#0A0B14]",children:h.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"max-w-4xl mx-auto",children:[h.jsxs("div",{className:"text-center mb-16",children:[h.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"How Beeka AI Works"}),h.jsx("p",{className:"text-xl text-gray-300",children:"Watch this quick guide to see how Beeka AI can transform your learning experience"})]}),h.jsx("div",{className:"aspect-video bg-[#1a1625] rounded-xl overflow-hidden shadow-2xl border border-[#322c45]/40"}),h.jsx("div",{className:"text-center mt-12",children:h.jsx("button",{onClick:()=>t("/signup"),className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-8 py-3 rounded-full transition-all transform hover:scale-105 hover:shadow-lg hover:shadow-blue-500/50 opacity-0 animate-fade-in-up animation-delay-600",children:"Start Your Learning Journey"})})]})})}),r=()=>h.jsx("section",{className:"py-20 bg-[#0A0B14] flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6 animate-bounce",children:"Testimonials"}),h.jsx("p",{className:"text-2xl text-gray-300 animate-pulse",children:"Coming Soon..."})]})}),i=()=>h.jsx("section",{className:"py-20 bg-black",children:h.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:h.jsxs("div",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-teal-600 rounded-3xl p-12 relative overflow-hidden",children:[h.jsx("div",{className:"absolute inset-0 bg-black/20"}),h.jsxs("div",{className:"relative z-10",children:[h.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"Ready to Transform Your Study Habits?"}),h.jsx("p",{className:"text-xl text-white/90 mb-8 max-w-2xl mx-auto",children:"Join students who are already learning smarter with Beeka AI."}),h.jsxs("button",{className:"group bg-white text-black px-8 py-4 rounded-full text-lg font-semibold hover:bg-gray-100 transition-all duration-300 hover:shadow-2xl hover:shadow-white/30 hover:scale-105",onClick:()=>t("/signup"),children:["Start Your Learning Journey For Free",h.jsx("span",{className:"inline-block ml-2 group-hover:translate-x-1 transition-transform",children:""})]})]})]})})}),s=()=>h.jsx("footer",{className:"bg-[#0A0B14] py-10",children:h.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 text-center text-gray-400",children:[h.jsxs("div",{className:"flex justify-center space-x-6 mb-6",children:[h.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:h.jsx(V3,{size:20})}),h.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:h.jsx(G3,{size:20})}),h.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:h.jsx(q3,{size:20})}),h.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:h.jsx(z3,{size:20})})]}),h.jsx("p",{children:" 2025 Beeka AI. All rights reserved. By Sanyi Diriba"})]})});return h.jsxs("div",{className:"bg-[#0A0B14] text-white min-h-screen",children:[h.jsx(Q3,{}),h.jsx(e,{}),h.jsx(K3,{}),h.jsx(n,{}),h.jsx(r,{}),h.jsx(i,{}),h.jsx(s,{}),h.jsx("style",{children:`
        @keyframes fade-in-up {
          0% { opacity: 0; transform: translateY(32px); }
          100% { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in-up {
          animation: fade-in-up 0.8s cubic-bezier(0.4,0,0.2,1) both;
        }
        .animation-delay-200 { animation-delay: 0.2s; }
        .animation-delay-400 { animation-delay: 0.4s; }
        .animation-delay-600 { animation-delay: 0.6s; }
        .animation-delay-800 { animation-delay: 0.8s; }
        .animation-delay-900 { animation-delay: 0.9s; }
        .animation-delay-1000 { animation-delay: 1s; }
        .animation-delay-1100 { animation-delay: 1.1s; }
        .animation-delay-1200 { animation-delay: 1.2s; }
        .animation-delay-1300 { animation-delay: 1.3s; }
        .animation-delay-1400 { animation-delay: 1.4s; }
        .animation-delay-1500 { animation-delay: 1.5s; }
        .animation-delay-1600 { animation-delay: 1.6s; }
        .animation-delay-1700 { animation-delay: 1.7s; }
        .animation-delay-1800 { animation-delay: 1.8s; }
        .animation-delay-1900 { animation-delay: 1.9s; }
        .animation-delay-2000 { animation-delay: 2s; }
        .drop-shadow-glow { text-shadow: 0 0 8px #3B82F6, 0 0 2px #fff; }
        @keyframes pulse-slow {
          0%, 100% { opacity: 0.4; }
          50% { opacity: 0.7; }
        }
        .animate-pulse-slow { animation: pulse-slow 6s infinite; }
      `})]})},X3=()=>{const[t,e]=M.useState(""),[n,r]=M.useState(""),[i,s]=M.useState(!1),[o,a]=M.useState(!1),{signInWithMagicLink:l,signInWithGoogle:c,user:d,loading:f}=Wo(),p=Wi();M.useEffect(()=>{d&&!f&&p("/dashboard")},[d,f,p]);const g=async T=>{T.preventDefault(),r(""),a(!1),s(!0);const I=await l(t);s(!1),I?(a(!0),r("Error sending confirmation link: "+I.message)):(a(!1),r("Check your email for the confirmation link!"))},w=async()=>{const T=await c();T&&xb.error("Google sign-in failed: "+T.message)};return f?h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):d&&!f?h.jsx(ii,{to:"/dashboard",replace:!0}):h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-[#0a0814] to-[#1a1625] p-4",children:h.jsxs("div",{className:"w-full max-w-md space-y-8",children:[h.jsx("div",{className:"text-center mb-8",children:h.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Beeka AI"})}),h.jsxs("button",{onClick:w,className:"w-full bg-white text-gray-800 font-medium py-3 px-4 rounded-lg flex items-center justify-center hover:bg-gray-100 transition-colors",children:[h.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",className:"w-5 h-5 mr-2"}),"Continue with Google"]}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-0 flex items-center",children:h.jsx("div",{className:"w-full border-t border-gray-600"})}),h.jsx("div",{className:"relative flex justify-center text-sm",children:h.jsx("span",{className:"px-2 bg-[#1a1625] text-gray-400",children:"or"})})]}),h.jsxs("form",{onSubmit:g,className:"space-y-6",children:[n&&h.jsx("div",{className:`rounded-lg px-4 py-3 text-center font-medium mb-2 transition-all duration-300 ${o?"bg-red-100 text-red-700 border border-red-300":"bg-green-100 text-green-700 border border-green-300"}`,children:n}),h.jsx("div",{children:h.jsx("input",{type:"email",id:"email",value:t,onChange:T=>e(T.target.value),className:"w-full bg-[#1a1625] rounded-lg py-3 px-4 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your email",required:!0})}),h.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-4 rounded-lg transition-colors flex items-center justify-center",disabled:i,children:i?h.jsxs(h.Fragment,{children:[h.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})]}),"Sending..."]}):"Continue with Email"})]}),h.jsxs("p",{className:"text-center text-gray-400",children:["Already have an account?"," ",h.jsx(oh,{to:"/signin",className:"text-blue-500 hover:text-blue-400",children:"Sign in"})]})]})})},Z3=()=>{const[t,e]=M.useState(""),[n,r]=M.useState(""),[i,s]=M.useState(!1),[o,a]=M.useState(!1),{signInWithMagicLink:l,signInWithGoogle:c,user:d,loading:f}=Wo(),p=Wi();M.useEffect(()=>{d&&!f&&p("/dashboard")},[d,f,p]),M.useEffect(()=>{if(J4(xo,window.location.href)){let T=window.localStorage.getItem("emailForSignIn");T||(T=window.prompt("Please provide your email for confirmation")),T&&X4(xo,T,window.location.href).then(()=>{window.localStorage.removeItem("emailForSignIn")}).catch(I=>{r("Error signing in: "+I.message),a(!0)})}},[]);const g=async T=>{T.preventDefault(),r(""),a(!1),s(!0);const I=await l(t);s(!1),I?(a(!0),r("Error sending confirmation link: "+I.message)):(a(!1),r("Check your email for confirmation link!"))},w=async()=>{const T=await c();T&&xb.error("Google sign-in failed: "+T.message)};return f?h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):d&&!f?h.jsx(ii,{to:"/dashboard",replace:!0}):h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-[#0a0814] to-[#1a1625] p-4",children:h.jsxs("div",{className:"w-full max-w-md space-y-8",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Beeka AI"}),h.jsx("p",{className:"text-gray-400",children:"Welcome Back!"})]}),h.jsxs("button",{onClick:w,className:"w-full bg-white text-gray-800 font-medium py-3 px-4 rounded-lg flex items-center justify-center hover:bg-gray-100 transition-colors",children:[h.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",className:"w-5 h-5 mr-2"}),"Continue with Google"]}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-0 flex items-center",children:h.jsx("div",{className:"w-full border-t border-gray-600"})}),h.jsx("div",{className:"relative flex justify-center text-sm",children:h.jsx("span",{className:"px-2 bg-[#1a1625] text-gray-400",children:"or"})})]}),h.jsxs("form",{onSubmit:g,className:"space-y-6",children:[n&&h.jsx("div",{className:`rounded-lg px-4 py-3 text-center font-medium mb-2 transition-all duration-300 ${o?"bg-red-100 text-red-700 border border-red-300":"bg-green-100 text-green-700 border border-green-300"}`,children:n}),h.jsx("div",{children:h.jsx("input",{type:"email",id:"email",value:t,onChange:T=>e(T.target.value),className:"w-full bg-[#1a1625] rounded-lg py-3 px-4 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your email",required:!0})}),h.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-4 rounded-lg transition-colors flex items-center justify-center",disabled:i,children:i?h.jsxs(h.Fragment,{children:[h.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})]}),"Sending..."]}):"Sign In"})]}),h.jsxs("p",{className:"text-center text-gray-400",children:["Don't have an account?"," ",h.jsx(oh,{to:"/signup",className:"text-blue-500 hover:text-blue-400",children:"Sign up"})]})]})})};function eM({isOpen:t,onClose:e,resources:n,onSelect:r}){const[i,s]=M.useState([]),[o,a]=M.useState(""),l=n.filter(d=>d.name.toLowerCase().includes(o.toLowerCase())),c=d=>{s(f=>f.includes(d)?f.filter(p=>p!==d):[...f,d])};return t?h.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",children:h.jsxs("div",{className:"bg-[#12141F] rounded-xl p-6 w-full max-w-2xl",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h3",{className:"text-xl font-bold text-white",children:"Select Files"}),h.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white",children:h.jsx(Mt,{size:24})})]}),h.jsx("input",{type:"text",placeholder:"Search files...",value:o,onChange:d=>a(d.target.value),className:"w-full p-2 mb-4 bg-[#1A1D2E] border border-gray-700 rounded text-white"}),h.jsx("div",{className:"max-h-[60vh] overflow-y-auto mb-4",children:l.map(d=>h.jsxs("div",{onClick:()=>c(d.id),className:`p-4 mb-2 rounded-lg cursor-pointer flex items-center justify-between ${i.includes(d.id)?"bg-blue-600":"bg-[#1A1D2E] hover:bg-[#2A2D3E]"}`,children:[h.jsx("span",{className:"text-white",children:d.name}),i.includes(d.id)&&h.jsx(wy,{size:20,className:"text-white"})]},d.id))}),h.jsxs("div",{className:"flex justify-end gap-2",children:[h.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-600 rounded-lg text-white",children:"Cancel"}),h.jsxs("button",{onClick:()=>{r(i),e()},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg text-white",children:["Add Files (",i.length,")"]})]})]})}):null}function tM({spaceId:t,pdfText:e,messages:n,message:r,setMessage:i,setMessages:s,setPdfText:o,resources:a,onSendMessage:l,onMessageSent:c}){const[d,f]=M.useState(!1),[p,g]=M.useState(!1),w=M.useRef(null);M.useEffect(()=>{w.current&&w.current.scrollIntoView({behavior:"smooth"})},[n]),M.useEffect(()=>{(async()=>{try{const v=await fetch(`https://beeka-backend.onrender.com/spaces/${t}/messages`);if(v.ok){const x=await v.json();s(x)}}catch(v){console.error("Error loading messages:",v)}})()},[t,s]);const T=async E=>{try{const x=(await Promise.all(E.map(async b=>{const S=await fetch(`https://beeka-backend.onrender.com/file-content/${b}`);if(!S.ok)throw new Error(`Failed to fetch content for file ID: ${b}`);return(await S.json()).content}))).join(`

---

`),A={role:"system",content:`Selected files for context: ${a.filter(b=>E.includes(b.id)).map(b=>b.name).join(", ")}`},k=await fetch(`https://beeka-backend.onrender.com/spaces/${t}/messages`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(A)});if(k.ok){const b=await k.json();s(S=>[...S,b])}o(x)}catch(v){console.error("Error loading file contents:",v);const x={role:"system",content:"Failed to load file contents. Please try again."},N=await fetch(`https://beeka-backend.onrender.com/spaces/${t}/messages`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)});if(N.ok){const O=await N.json();s(A=>[...A,O])}}},I=async()=>{if(!r.trim())return;f(!0);const E={space_id:t,role:"user",content:r,timestamp:new Date().toISOString()};try{const v=await fetch(`https://beeka-backend.onrender.com/spaces/${t}/messages`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(E)});if(!v.ok)throw new Error("Failed to save user message");const x=await v.json();s(S=>[...S,x]),i("");const O=await l(r,e||"");if(!O)throw new Error("No response received from the server");const A={space_id:t,role:"ai",content:O,timestamp:new Date().toISOString()},k=await fetch(`https://beeka-backend.onrender.com/spaces/${t}/messages`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(A)});if(!k.ok)throw new Error("Failed to save AI message");const b=await k.json();s(S=>[...S,b]),c(r)}catch(v){console.error("Error sending message:",v);let x="Sorry, I encountered an error. Please try again.";v instanceof Error&&(v.message.includes("Failed to connect")?x="Unable to connect to the server. Please check your internet connection and try again.":v.message.includes("No response")&&(x="The server did not respond. Please try again in a moment."));const N={space_id:t,role:"ai",content:x,timestamp:new Date().toISOString()},O=await fetch(`https://beeka-backend.onrender.com/spaces/${t}/messages`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)});if(O.ok){const A=await O.json();s(k=>[...k,A])}}finally{f(!1)}};return h.jsxs("div",{className:"flex flex-col h-full bg-[#12141F]",children:[n.length===0?h.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-4",children:[h.jsx("h1",{className:"text-2xl font-bold text-white mb-8",children:"How can I help you today?"}),h.jsx("div",{className:"w-full max-w-2xl px-4",children:h.jsxs("div",{className:"relative bg-[#1A1D2E] rounded-lg p-1",children:[h.jsx("div",{className:"absolute left-2 top-1/2 transform -translate-y-1/2",children:h.jsx("button",{onClick:()=>g(!0),className:"p-2 hover:bg-[#2A2D3E] rounded-lg transition-colors",children:h.jsx(Nw,{size:20,className:"text-gray-400"})})}),h.jsx("input",{type:"text",value:r,onChange:E=>i(E.target.value),placeholder:"Ask anything...",className:"w-full bg-transparent text-white py-3 px-12 focus:outline-none",onKeyPress:E=>E.key==="Enter"&&I()}),h.jsx("button",{onClick:I,disabled:d||!r.trim(),className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-blue-400 hover:text-blue-300 disabled:text-gray-500 p-2 hover:bg-[#2A2D3E] rounded-lg transition-colors",children:h.jsx(fm,{size:20})})]})})]}):h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"flex-1 overflow-y-auto",children:h.jsxs("div",{className:"max-w-4xl mx-auto p-4 space-y-4",children:[n.map(E=>h.jsx("div",{className:`flex ${E.role==="user"?"justify-end":"justify-start"}`,children:h.jsx("div",{className:`max-w-[80%] p-3 rounded-xl group relative ${E.role==="user"?"bg-blue-600 text-white ml-auto mr-3":"bg-[#1A1D2E] text-white mr-auto ml-3"}`,children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("p",{className:"whitespace-pre-wrap mr-2",children:E.content}),E.role!=="system"&&h.jsx("button",{onClick:()=>navigator.clipboard.writeText(E.content),className:"opacity-0 group-hover:opacity-100 transition-opacity text-gray-300 hover:text-white p-1 rounded",title:"Copy message",children:h.jsx(L3,{size:16})})]})})},E.id)),d&&h.jsx("div",{className:"flex justify-start",children:h.jsx("div",{className:"bg-[#1A1D2E] text-white p-3 rounded-xl",children:h.jsxs("div",{className:"flex space-x-2",children:[h.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce"}),h.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce [animation-delay:0.2s]"}),h.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce [animation-delay:0.4s]"})]})})}),h.jsx("div",{ref:w})]})}),h.jsx("div",{className:"p-4 border-t border-gray-700",children:h.jsxs("div",{className:"relative max-w-4xl mx-auto bg-[#1A1D2E] rounded-md p-1",children:[h.jsx("div",{className:"absolute left-2 top-1/2 transform -translate-y-1/2",children:h.jsx("button",{onClick:()=>g(!0),className:"p-2 hover:bg-[#2A2D3E] rounded-lg transition-colors",children:h.jsx(Nw,{size:20,className:"text-gray-400"})})}),h.jsx("input",{type:"text",value:r,onChange:E=>i(E.target.value),placeholder:"Type your message...",className:"w-full bg-transparent text-white py-3 px-12 focus:outline-none",onKeyPress:E=>E.key==="Enter"&&I()}),h.jsx("button",{onClick:I,disabled:d||!r.trim(),className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-blue-400 hover:text-blue-300 disabled:text-gray-500 p-2 hover:bg-[#2A2D3E] rounded-lg transition-colors",children:h.jsx(fm,{size:20})})]})})]}),h.jsx(eM,{isOpen:p,onClose:()=>g(!1),resources:a,onSelect:T})]})}function nM({resources:t}){const[e,n]=M.useState(null);return h.jsx("div",{className:"p-4 text-white",children:h.jsxs("div",{className:"space-y-2",children:[h.jsx("h3",{className:"font-bold mb-2",children:"Your Resources:"}),t.map(r=>h.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-[#1A1D2E] rounded group",onMouseEnter:()=>n(r.id),onMouseLeave:()=>n(null),children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Ul,{size:16}),h.jsx("span",{children:r.name})]}),e===r.id&&h.jsxs("div",{className:"relative",children:[h.jsx("button",{className:"p-1 hover:bg-[#2A2D3E] rounded",onClick:i=>{i.stopPropagation();const s=i.currentTarget.nextElementSibling;s&&s.classList.toggle("hidden")},children:h.jsx(Pc,{size:16})}),h.jsxs("div",{className:"absolute right-0 mt-1 bg-[#2A2D3E] rounded-lg shadow-lg py-1 w-32 hidden",children:[h.jsx("button",{className:"w-full px-4 py-2 text-left hover:bg-[#353849] text-sm",children:"Rename"}),h.jsx("button",{className:"w-full px-4 py-2 text-left hover:bg-[#353849] text-sm text-red-400",children:"Remove"})]})]})]},r.id))]})})}function rM(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const iM=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,sM=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,oM={};function Pw(t,e){return(oM.jsx?sM:iM).test(t)}const aM=/[ \t\n\f\r]/g;function lM(t){return typeof t=="object"?t.type==="text"?Rw(t.value):!1:Rw(t)}function Rw(t){return t.replace(aM,"")===""}let uu=class{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}};uu.prototype.normal={};uu.prototype.property={};uu.prototype.space=void 0;function KS(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new uu(n,r,e)}function pm(t){return t.toLowerCase()}let fn=class{constructor(e,n){this.attribute=n,this.property=e}};fn.prototype.attribute="";fn.prototype.booleanish=!1;fn.prototype.boolean=!1;fn.prototype.commaOrSpaceSeparated=!1;fn.prototype.commaSeparated=!1;fn.prototype.defined=!1;fn.prototype.mustUseProperty=!1;fn.prototype.number=!1;fn.prototype.overloadedBoolean=!1;fn.prototype.property="";fn.prototype.spaceSeparated=!1;fn.prototype.space=void 0;let uM=0;const we=Bs(),ct=Bs(),mm=Bs(),K=Bs(),Be=Bs(),Po=Bs(),gn=Bs();function Bs(){return 2**++uM}const gm=Object.freeze(Object.defineProperty({__proto__:null,boolean:we,booleanish:ct,commaOrSpaceSeparated:gn,commaSeparated:Po,number:K,overloadedBoolean:mm,spaceSeparated:Be},Symbol.toStringTag,{value:"Module"})),Sf=Object.keys(gm);let _y=class extends fn{constructor(e,n,r,i){let s=-1;if(super(e,n),jw(this,"space",i),typeof r=="number")for(;++s<Sf.length;){const o=Sf[s];jw(this,Sf[s],(r&gm[o])===gm[o])}}};_y.prototype.defined=!0;function jw(t,e,n){n&&(t[e]=n)}function la(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const s=new _y(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[pm(r)]=r,n[pm(s.attribute)]=r}return new uu(e,n,t.space)}const QS=la({properties:{ariaActiveDescendant:null,ariaAtomic:ct,ariaAutoComplete:null,ariaBusy:ct,ariaChecked:ct,ariaColCount:K,ariaColIndex:K,ariaColSpan:K,ariaControls:Be,ariaCurrent:null,ariaDescribedBy:Be,ariaDetails:null,ariaDisabled:ct,ariaDropEffect:Be,ariaErrorMessage:null,ariaExpanded:ct,ariaFlowTo:Be,ariaGrabbed:ct,ariaHasPopup:null,ariaHidden:ct,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Be,ariaLevel:K,ariaLive:null,ariaModal:ct,ariaMultiLine:ct,ariaMultiSelectable:ct,ariaOrientation:null,ariaOwns:Be,ariaPlaceholder:null,ariaPosInSet:K,ariaPressed:ct,ariaReadOnly:ct,ariaRelevant:null,ariaRequired:ct,ariaRoleDescription:Be,ariaRowCount:K,ariaRowIndex:K,ariaRowSpan:K,ariaSelected:ct,ariaSetSize:K,ariaSort:null,ariaValueMax:K,ariaValueMin:K,ariaValueNow:K,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function YS(t,e){return e in t?t[e]:e}function JS(t,e){return YS(t,e.toLowerCase())}const cM=la({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Po,acceptCharset:Be,accessKey:Be,action:null,allow:null,allowFullScreen:we,allowPaymentRequest:we,allowUserMedia:we,alt:null,as:null,async:we,autoCapitalize:null,autoComplete:Be,autoFocus:we,autoPlay:we,blocking:Be,capture:null,charSet:null,checked:we,cite:null,className:Be,cols:K,colSpan:null,content:null,contentEditable:ct,controls:we,controlsList:Be,coords:K|Po,crossOrigin:null,data:null,dateTime:null,decoding:null,default:we,defer:we,dir:null,dirName:null,disabled:we,download:mm,draggable:ct,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:we,formTarget:null,headers:Be,height:K,hidden:mm,high:K,href:null,hrefLang:null,htmlFor:Be,httpEquiv:Be,id:null,imageSizes:null,imageSrcSet:null,inert:we,inputMode:null,integrity:null,is:null,isMap:we,itemId:null,itemProp:Be,itemRef:Be,itemScope:we,itemType:Be,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:we,low:K,manifest:null,max:null,maxLength:K,media:null,method:null,min:null,minLength:K,multiple:we,muted:we,name:null,nonce:null,noModule:we,noValidate:we,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:we,optimum:K,pattern:null,ping:Be,placeholder:null,playsInline:we,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:we,referrerPolicy:null,rel:Be,required:we,reversed:we,rows:K,rowSpan:K,sandbox:Be,scope:null,scoped:we,seamless:we,selected:we,shadowRootClonable:we,shadowRootDelegatesFocus:we,shadowRootMode:null,shape:null,size:K,sizes:null,slot:null,span:K,spellCheck:ct,src:null,srcDoc:null,srcLang:null,srcSet:null,start:K,step:null,style:null,tabIndex:K,target:null,title:null,translate:null,type:null,typeMustMatch:we,useMap:null,value:ct,width:K,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Be,axis:null,background:null,bgColor:null,border:K,borderColor:null,bottomMargin:K,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:we,declare:we,event:null,face:null,frame:null,frameBorder:null,hSpace:K,leftMargin:K,link:null,longDesc:null,lowSrc:null,marginHeight:K,marginWidth:K,noResize:we,noHref:we,noShade:we,noWrap:we,object:null,profile:null,prompt:null,rev:null,rightMargin:K,rules:null,scheme:null,scrolling:ct,standby:null,summary:null,text:null,topMargin:K,valueType:null,version:null,vAlign:null,vLink:null,vSpace:K,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:we,disableRemotePlayback:we,prefix:null,property:null,results:K,security:null,unselectable:null},space:"html",transform:JS}),hM=la({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:gn,accentHeight:K,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:K,amplitude:K,arabicForm:null,ascent:K,attributeName:null,attributeType:null,azimuth:K,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:K,by:null,calcMode:null,capHeight:K,className:Be,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:K,diffuseConstant:K,direction:null,display:null,dur:null,divisor:K,dominantBaseline:null,download:we,dx:null,dy:null,edgeMode:null,editable:null,elevation:K,enableBackground:null,end:null,event:null,exponent:K,externalResourcesRequired:null,fill:null,fillOpacity:K,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Po,g2:Po,glyphName:Po,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:K,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:K,horizOriginX:K,horizOriginY:K,id:null,ideographic:K,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:K,k:K,k1:K,k2:K,k3:K,k4:K,kernelMatrix:gn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:K,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:K,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:K,overlineThickness:K,paintOrder:null,panose1:null,path:null,pathLength:K,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Be,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:K,pointsAtY:K,pointsAtZ:K,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:gn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:gn,rev:gn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:gn,requiredFeatures:gn,requiredFonts:gn,requiredFormats:gn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:K,specularExponent:K,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:K,strikethroughThickness:K,string:null,stroke:null,strokeDashArray:gn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:K,strokeOpacity:K,strokeWidth:null,style:null,surfaceScale:K,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:gn,tabIndex:K,tableValues:null,target:null,targetX:K,targetY:K,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:gn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:K,underlineThickness:K,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:K,values:null,vAlphabetic:K,vMathematical:K,vectorEffect:null,vHanging:K,vIdeographic:K,version:null,vertAdvY:K,vertOriginX:K,vertOriginY:K,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:K,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:YS}),XS=la({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),ZS=la({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:JS}),eT=la({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),dM={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},fM=/[A-Z]/g,Dw=/-[a-z]/g,pM=/^data[-\w.:]+$/i;function mM(t,e){const n=pm(e);let r=e,i=fn;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&pM.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(Dw,yM);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!Dw.test(s)){let o=s.replace(fM,gM);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}i=_y}return new i(r,e)}function gM(t){return"-"+t.toLowerCase()}function yM(t){return t.charAt(1).toUpperCase()}const vM=KS([QS,cM,XS,ZS,eT],"html"),Ey=KS([QS,hM,XS,ZS,eT],"svg");function xM(t){return t.join(" ").trim()}var by={},Ow=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,wM=/\n/g,_M=/^\s*/,EM=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,bM=/^:\s*/,kM=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,SM=/^[;\s]*/,TM=/^\s+|\s+$/g,IM=`
`,Lw="/",Mw="*",ms="",CM="comment",AM="declaration",NM=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function i(w){var T=w.match(wM);T&&(n+=T.length);var I=w.lastIndexOf(IM);r=~I?w.length-I:r+w.length}function s(){var w={line:n,column:r};return function(T){return T.position=new o(w),c(),T}}function o(w){this.start=w,this.end={line:n,column:r},this.source=e.source}o.prototype.content=t;function a(w){var T=new Error(e.source+":"+n+":"+r+": "+w);if(T.reason=w,T.filename=e.source,T.line=n,T.column=r,T.source=t,!e.silent)throw T}function l(w){var T=w.exec(t);if(T){var I=T[0];return i(I),t=t.slice(I.length),T}}function c(){l(_M)}function d(w){var T;for(w=w||[];T=f();)T!==!1&&w.push(T);return w}function f(){var w=s();if(!(Lw!=t.charAt(0)||Mw!=t.charAt(1))){for(var T=2;ms!=t.charAt(T)&&(Mw!=t.charAt(T)||Lw!=t.charAt(T+1));)++T;if(T+=2,ms===t.charAt(T-1))return a("End of comment missing");var I=t.slice(2,T-2);return r+=2,i(I),t=t.slice(T),r+=2,w({type:CM,comment:I})}}function p(){var w=s(),T=l(EM);if(T){if(f(),!l(bM))return a("property missing ':'");var I=l(kM),E=w({type:AM,property:Fw(T[0].replace(Ow,ms)),value:I?Fw(I[0].replace(Ow,ms)):ms});return l(SM),E}}function g(){var w=[];d(w);for(var T;T=p();)T!==!1&&(w.push(T),d(w));return w}return c(),g()};function Fw(t){return t?t.replace(TM,ms):ms}var PM=Pi&&Pi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(by,"__esModule",{value:!0});by.default=jM;var RM=PM(NM);function jM(t,e){var n=null;if(!t||typeof t!="string")return n;var r=(0,RM.default)(t),i=typeof e=="function";return r.forEach(function(s){if(s.type==="declaration"){var o=s.property,a=s.value;i?e(o,a,s):a&&(n=n||{},n[o]=a)}}),n}var bd={};Object.defineProperty(bd,"__esModule",{value:!0});bd.camelCase=void 0;var DM=/^--[a-zA-Z0-9_-]+$/,OM=/-([a-z])/g,LM=/^[^-]+$/,MM=/^-(webkit|moz|ms|o|khtml)-/,FM=/^-(ms)-/,VM=function(t){return!t||LM.test(t)||DM.test(t)},zM=function(t,e){return e.toUpperCase()},Vw=function(t,e){return"".concat(e,"-")},UM=function(t,e){return e===void 0&&(e={}),VM(t)?t:(t=t.toLowerCase(),e.reactCompat?t=t.replace(FM,Vw):t=t.replace(MM,Vw),t.replace(OM,zM))};bd.camelCase=UM;var $M=Pi&&Pi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},BM=$M(by),HM=bd;function ym(t,e){var n={};return!t||typeof t!="string"||(0,BM.default)(t,function(r,i){r&&i&&(n[(0,HM.camelCase)(r,e)]=i)}),n}ym.default=ym;var qM=ym;const WM=Lh(qM),tT=nT("end"),ky=nT("start");function nT(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function GM(t){const e=ky(t),n=tT(t);if(e&&n)return{start:e,end:n}}function ul(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?zw(t.position):"start"in t||"end"in t?zw(t):"line"in t||"column"in t?vm(t):""}function vm(t){return Uw(t&&t.line)+":"+Uw(t&&t.column)}function zw(t){return vm(t&&t.start)+"-"+vm(t&&t.end)}function Uw(t){return t&&typeof t=="number"?t:1}class qt extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?i=e:!s.cause&&e&&(o=!0,i=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=a?a.line:void 0,this.name=ul(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}qt.prototype.file="";qt.prototype.name="";qt.prototype.reason="";qt.prototype.message="";qt.prototype.stack="";qt.prototype.column=void 0;qt.prototype.line=void 0;qt.prototype.ancestors=void 0;qt.prototype.cause=void 0;qt.prototype.fatal=void 0;qt.prototype.place=void 0;qt.prototype.ruleId=void 0;qt.prototype.source=void 0;const Sy={}.hasOwnProperty,KM=new Map,QM=/[A-Z]/g,YM=new Set(["table","tbody","thead","tfoot","tr"]),JM=new Set(["td","th"]),rT="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function XM(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=oF(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=sF(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?Ey:vM,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=iT(i,t,void 0);return s&&typeof s!="string"?s:i.create(t,i.Fragment,{children:s||void 0},void 0)}function iT(t,e,n){if(e.type==="element")return ZM(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return eF(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return nF(t,e,n);if(e.type==="mdxjsEsm")return tF(t,e);if(e.type==="root")return rF(t,e,n);if(e.type==="text")return iF(t,e)}function ZM(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Ey,t.schema=i),t.ancestors.push(e);const s=oT(t,e.tagName,!1),o=aF(t,e);let a=Iy(t,e);return YM.has(e.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!lM(l):!0})),sT(t,o,s,e),Ty(o,a),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function eF(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}Bl(t,e.position)}function tF(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Bl(t,e.position)}function nF(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=Ey,t.schema=i),t.ancestors.push(e);const s=e.name===null?t.Fragment:oT(t,e.name,!0),o=lF(t,e),a=Iy(t,e);return sT(t,o,s,e),Ty(o,a),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function rF(t,e,n){const r={};return Ty(r,Iy(t,e)),t.create(e,t.Fragment,r,n)}function iF(t,e){return e.value}function sT(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function Ty(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function sF(t,e,n){return r;function r(i,s,o,a){const c=Array.isArray(o.children)?n:e;return a?c(s,o,a):c(s,o)}}function oF(t,e){return n;function n(r,i,s,o){const a=Array.isArray(s.children),l=ky(r);return e(i,s,o,a,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function aF(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&Sy.call(e.properties,i)){const s=uF(t,i,e.properties[i]);if(s){const[o,a]=s;t.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&JM.has(e.tagName)?r=a:n[o]=a}}if(r){const s=n.style||(n.style={});s[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function lF(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const a=o.properties[0];a.type,Object.assign(n,t.evaluater.evaluateExpression(a.argument))}else Bl(t,e.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const a=r.value.data.estree.body[0];a.type,s=t.evaluater.evaluateExpression(a.expression)}else Bl(t,e.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function Iy(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:KM;for(;++r<e.children.length;){const s=e.children[r];let o;if(t.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const c=i.get(l)||0;o=l+"-"+c,i.set(l,c+1)}}const a=iT(t,s,o);a!==void 0&&n.push(a)}return n}function uF(t,e,n){const r=mM(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?rM(n):xM(n)),r.property==="style"){let i=typeof n=="object"?n:cF(t,String(n));return t.stylePropertyNameCase==="css"&&(i=hF(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?dM[r.property]||r.property:r.attribute,n]}}function cF(t,e){try{return WM(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new qt("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=rT+"#cannot-parse-style-attribute",i}}function oT(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let s=-1,o;for(;++s<i.length;){const a=Pw(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(s&&a.type==="Literal"),optional:!1}:a}r=o}else r=Pw(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return Sy.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);Bl(t)}function Bl(t,e){const n=new qt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=rT+"#cannot-handle-mdx-estrees-without-createevaluater",n}function hF(t){const e={};let n;for(n in t)Sy.call(t,n)&&(e[dF(n)]=t[n]);return e}function dF(t){let e=t.replace(QM,fF);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function fF(t){return"-"+t.toLowerCase()}const Tf={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},pF={};function Cy(t,e){const n=pF,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return aT(t,r,i)}function aT(t,e,n){if(mF(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return $w(t.children,e,n)}return Array.isArray(t)?$w(t,e,n):""}function $w(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=aT(t[i],e,n);return r.join("")}function mF(t){return!!(t&&typeof t=="object")}const Bw=document.createElement("i");function Ay(t){const e="&"+t+";";Bw.innerHTML=e;const n=Bw.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function _n(t,e,n,r){const i=t.length;let s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(e,n),t.splice(...o);else for(n&&t.splice(e,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),t.splice(...o),s+=1e4,e+=1e4}function An(t,e){return t.length>0?(_n(t,t.length,0,e),t):e}const Hw={}.hasOwnProperty;function lT(t){const e={};let n=-1;for(;++n<t.length;)gF(e,t[n]);return e}function gF(t,e){let n;for(n in e){const i=(Hw.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let o;if(s)for(o in s){Hw.call(i,o)||(i[o]=[]);const a=s[o];yF(i[o],Array.isArray(a)?a:a?[a]:[])}}}function yF(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);_n(t,0,0,r)}function uT(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Yn(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Xt=Ji(/[A-Za-z]/),Ut=Ji(/[\dA-Za-z]/),vF=Ji(/[#-'*+\--9=?A-Z^-~]/);function Nh(t){return t!==null&&(t<32||t===127)}const xm=Ji(/\d/),xF=Ji(/[\dA-Fa-f]/),wF=Ji(/[!-/:-@[-`{-~]/);function le(t){return t!==null&&t<-2}function $e(t){return t!==null&&(t<0||t===32)}function Te(t){return t===-2||t===-1||t===32}const kd=Ji(new RegExp("\\p{P}|\\p{S}","u")),Ls=Ji(/\s/);function Ji(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function ua(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const s=t.charCodeAt(n);let o="";if(s===37&&Ut(t.charCodeAt(n+1))&&Ut(t.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=t.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(e.push(t.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function Re(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(l){return Te(l)?(t.enter(n),a(l)):e(l)}function a(l){return Te(l)&&s++<i?(t.consume(l),a):(t.exit(n),e(l))}}const _F={tokenize:EF};function EF(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),Re(t,e,"linePrefix")}function i(a){return t.enter("paragraph"),s(a)}function s(a){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(a)}function o(a){if(a===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(a);return}return le(a)?(t.consume(a),t.exit("chunkText"),s):(t.consume(a),o)}}const bF={tokenize:kF},qw={tokenize:SF};function kF(t){const e=this,n=[];let r=0,i,s,o;return a;function a(x){if(r<n.length){const N=n[r];return e.containerState=N[1],t.attempt(N[0].continuation,l,c)(x)}return c(x)}function l(x){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&v();const N=e.events.length;let O=N,A;for(;O--;)if(e.events[O][0]==="exit"&&e.events[O][1].type==="chunkFlow"){A=e.events[O][1].end;break}E(r);let k=N;for(;k<e.events.length;)e.events[k][1].end={...A},k++;return _n(e.events,O+1,0,e.events.slice(N)),e.events.length=k,c(x)}return a(x)}function c(x){if(r===n.length){if(!i)return p(x);if(i.currentConstruct&&i.currentConstruct.concrete)return w(x);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(qw,d,f)(x)}function d(x){return i&&v(),E(r),p(x)}function f(x){return e.parser.lazy[e.now().line]=r!==n.length,o=e.now().offset,w(x)}function p(x){return e.containerState={},t.attempt(qw,g,w)(x)}function g(x){return r++,n.push([e.currentConstruct,e.containerState]),p(x)}function w(x){if(x===null){i&&v(),E(0),t.consume(x);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),T(x)}function T(x){if(x===null){I(t.exit("chunkFlow"),!0),E(0),t.consume(x);return}return le(x)?(t.consume(x),I(t.exit("chunkFlow")),r=0,e.interrupt=void 0,a):(t.consume(x),T)}function I(x,N){const O=e.sliceStream(x);if(N&&O.push(null),x.previous=s,s&&(s.next=x),s=x,i.defineSkip(x.start),i.write(O),e.parser.lazy[x.start.line]){let A=i.events.length;for(;A--;)if(i.events[A][1].start.offset<o&&(!i.events[A][1].end||i.events[A][1].end.offset>o))return;const k=e.events.length;let b=k,S,_;for(;b--;)if(e.events[b][0]==="exit"&&e.events[b][1].type==="chunkFlow"){if(S){_=e.events[b][1].end;break}S=!0}for(E(r),A=k;A<e.events.length;)e.events[A][1].end={..._},A++;_n(e.events,b+1,0,e.events.slice(k)),e.events.length=A}}function E(x){let N=n.length;for(;N-- >x;){const O=n[N];e.containerState=O[1],O[0].exit.call(e,t)}n.length=x}function v(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function SF(t,e,n){return Re(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Qo(t){if(t===null||$e(t)||Ls(t))return 1;if(kd(t))return 2}function Sd(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const s=t[i].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}const wm={name:"attention",resolveAll:TF,tokenize:IF};function TF(t,e){let n=-1,r,i,s,o,a,l,c,d;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const f={...t[r][1].end},p={...t[n][1].start};Ww(f,-l),Ww(p,l),o={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...t[r][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:p},s={type:l>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},t[r][1].end={...o.start},t[n][1].start={...a.end},c=[],t[r][1].end.offset-t[r][1].start.offset&&(c=An(c,[["enter",t[r][1],e],["exit",t[r][1],e]])),c=An(c,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",s,e]]),c=An(c,Sd(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),c=An(c,[["exit",s,e],["enter",a,e],["exit",a,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(d=2,c=An(c,[["enter",t[n][1],e],["exit",t[n][1],e]])):d=0,_n(t,r-1,n-r+3,c),n=r+c.length-d-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function IF(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Qo(r);let s;return o;function o(l){return s=l,t.enter("attentionSequence"),a(l)}function a(l){if(l===s)return t.consume(l),a;const c=t.exit("attentionSequence"),d=Qo(l),f=!d||d===2&&i||n.includes(l),p=!i||i===2&&d||n.includes(r);return c._open=!!(s===42?f:f&&(i||!p)),c._close=!!(s===42?p:p&&(d||!f)),e(l)}}function Ww(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const CF={name:"autolink",tokenize:AF};function AF(t,e,n){let r=0;return i;function i(g){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(g),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(g){return Xt(g)?(t.consume(g),o):g===64?n(g):c(g)}function o(g){return g===43||g===45||g===46||Ut(g)?(r=1,a(g)):c(g)}function a(g){return g===58?(t.consume(g),r=0,l):(g===43||g===45||g===46||Ut(g))&&r++<32?(t.consume(g),a):(r=0,c(g))}function l(g){return g===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(g),t.exit("autolinkMarker"),t.exit("autolink"),e):g===null||g===32||g===60||Nh(g)?n(g):(t.consume(g),l)}function c(g){return g===64?(t.consume(g),d):vF(g)?(t.consume(g),c):n(g)}function d(g){return Ut(g)?f(g):n(g)}function f(g){return g===46?(t.consume(g),r=0,d):g===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(g),t.exit("autolinkMarker"),t.exit("autolink"),e):p(g)}function p(g){if((g===45||Ut(g))&&r++<63){const w=g===45?p:f;return t.consume(g),w}return n(g)}}const cu={partial:!0,tokenize:NF};function NF(t,e,n){return r;function r(s){return Te(s)?Re(t,i,"linePrefix")(s):i(s)}function i(s){return s===null||le(s)?e(s):n(s)}}const cT={continuation:{tokenize:RF},exit:jF,name:"blockQuote",tokenize:PF};function PF(t,e,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(t.enter("blockQuote",{_container:!0}),a.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),s}return n(o)}function s(o){return Te(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}function RF(t,e,n){const r=this;return i;function i(o){return Te(o)?Re(t,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return t.attempt(cT,e,n)(o)}}function jF(t){t.exit("blockQuote")}const hT={name:"characterEscape",tokenize:DF};function DF(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return wF(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const dT={name:"characterReference",tokenize:OF};function OF(t,e,n){const r=this;let i=0,s,o;return a;function a(f){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),l}function l(f){return f===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(f),t.exit("characterReferenceMarkerNumeric"),c):(t.enter("characterReferenceValue"),s=31,o=Ut,d(f))}function c(f){return f===88||f===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(f),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,o=xF,d):(t.enter("characterReferenceValue"),s=7,o=xm,d(f))}function d(f){if(f===59&&i){const p=t.exit("characterReferenceValue");return o===Ut&&!Ay(r.sliceSerialize(p))?n(f):(t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return o(f)&&i++<s?(t.consume(f),d):n(f)}}const Gw={partial:!0,tokenize:MF},Kw={concrete:!0,name:"codeFenced",tokenize:LF};function LF(t,e,n){const r=this,i={partial:!0,tokenize:O};let s=0,o=0,a;return l;function l(A){return c(A)}function c(A){const k=r.events[r.events.length-1];return s=k&&k[1].type==="linePrefix"?k[2].sliceSerialize(k[1],!0).length:0,a=A,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),d(A)}function d(A){return A===a?(o++,t.consume(A),d):o<3?n(A):(t.exit("codeFencedFenceSequence"),Te(A)?Re(t,f,"whitespace")(A):f(A))}function f(A){return A===null||le(A)?(t.exit("codeFencedFence"),r.interrupt?e(A):t.check(Gw,T,N)(A)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),p(A))}function p(A){return A===null||le(A)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),f(A)):Te(A)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Re(t,g,"whitespace")(A)):A===96&&A===a?n(A):(t.consume(A),p)}function g(A){return A===null||le(A)?f(A):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),w(A))}function w(A){return A===null||le(A)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),f(A)):A===96&&A===a?n(A):(t.consume(A),w)}function T(A){return t.attempt(i,N,I)(A)}function I(A){return t.enter("lineEnding"),t.consume(A),t.exit("lineEnding"),E}function E(A){return s>0&&Te(A)?Re(t,v,"linePrefix",s+1)(A):v(A)}function v(A){return A===null||le(A)?t.check(Gw,T,N)(A):(t.enter("codeFlowValue"),x(A))}function x(A){return A===null||le(A)?(t.exit("codeFlowValue"),v(A)):(t.consume(A),x)}function N(A){return t.exit("codeFenced"),e(A)}function O(A,k,b){let S=0;return _;function _(Q){return A.enter("lineEnding"),A.consume(Q),A.exit("lineEnding"),P}function P(Q){return A.enter("codeFencedFence"),Te(Q)?Re(A,D,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Q):D(Q)}function D(Q){return Q===a?(A.enter("codeFencedFenceSequence"),R(Q)):b(Q)}function R(Q){return Q===a?(S++,A.consume(Q),R):S>=o?(A.exit("codeFencedFenceSequence"),Te(Q)?Re(A,q,"whitespace")(Q):q(Q)):b(Q)}function q(Q){return Q===null||le(Q)?(A.exit("codeFencedFence"),k(Q)):b(Q)}}}function MF(t,e,n){const r=this;return i;function i(o){return o===null?n(o):(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}const If={name:"codeIndented",tokenize:VF},FF={partial:!0,tokenize:zF};function VF(t,e,n){const r=this;return i;function i(c){return t.enter("codeIndented"),Re(t,s,"linePrefix",5)(c)}function s(c){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?o(c):n(c)}function o(c){return c===null?l(c):le(c)?t.attempt(FF,o,l)(c):(t.enter("codeFlowValue"),a(c))}function a(c){return c===null||le(c)?(t.exit("codeFlowValue"),o(c)):(t.consume(c),a)}function l(c){return t.exit("codeIndented"),e(c)}}function zF(t,e,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):le(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),i):Re(t,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):le(o)?i(o):n(o)}}const UF={name:"codeText",previous:BF,resolve:$F,tokenize:HF};function $F(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function BF(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function HF(t,e,n){let r=0,i,s;return o;function o(f){return t.enter("codeText"),t.enter("codeTextSequence"),a(f)}function a(f){return f===96?(t.consume(f),r++,a):(t.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(t.enter("space"),t.consume(f),t.exit("space"),l):f===96?(s=t.enter("codeTextSequence"),i=0,d(f)):le(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),l):(t.enter("codeTextData"),c(f))}function c(f){return f===null||f===32||f===96||le(f)?(t.exit("codeTextData"),l(f)):(t.consume(f),c)}function d(f){return f===96?(t.consume(f),i++,d):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(f)):(s.type="codeTextData",c(f))}}class qF{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Pa(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Pa(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Pa(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);Pa(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Pa(this.left,n.reverse())}}}function Pa(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function fT(t){const e={};let n=-1,r,i,s,o,a,l,c;const d=new qF(t);for(;++n<d.length;){for(;n in e;)n=e[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,WF(d,n)),n=e[n],c=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(o=d.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},a=d.slice(i,n),a.unshift(r),d.splice(i,n-i+1,a))}}return _n(t,0,Number.POSITIVE_INFINITY,d.slice(0)),!c}function WF(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const s=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const a=o.events,l=[],c={};let d,f,p=-1,g=n,w=0,T=0;const I=[T];for(;g;){for(;t.get(++i)[1]!==g;);s.push(i),g._tokenizer||(d=r.sliceStream(g),g.next||d.push(null),f&&o.defineSkip(g.start),g._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(d),g._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=g,g=g.next}for(g=n;++p<a.length;)a[p][0]==="exit"&&a[p-1][0]==="enter"&&a[p][1].type===a[p-1][1].type&&a[p][1].start.line!==a[p][1].end.line&&(T=p+1,I.push(T),g._tokenizer=void 0,g.previous=void 0,g=g.next);for(o.events=[],g?(g._tokenizer=void 0,g.previous=void 0):I.pop(),p=I.length;p--;){const E=a.slice(I[p],I[p+1]),v=s.pop();l.push([v,v+E.length-1]),t.splice(v,2,E)}for(l.reverse(),p=-1;++p<l.length;)c[w+l[p][0]]=w+l[p][1],w+=l[p][1]-l[p][0]-1;return c}const GF={resolve:QF,tokenize:YF},KF={partial:!0,tokenize:JF};function QF(t){return fT(t),t}function YF(t,e){let n;return r;function r(a){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):le(a)?t.check(KF,o,s)(a):(t.consume(a),i)}function s(a){return t.exit("chunkContent"),t.exit("content"),e(a)}function o(a){return t.consume(a),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function JF(t,e,n){const r=this;return i;function i(o){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),Re(t,s,"linePrefix")}function s(o){if(o===null||le(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):t.interrupt(r.parser.constructs.flow,n,e)(o)}}function pT(t,e,n,r,i,s,o,a,l){const c=l||Number.POSITIVE_INFINITY;let d=0;return f;function f(E){return E===60?(t.enter(r),t.enter(i),t.enter(s),t.consume(E),t.exit(s),p):E===null||E===32||E===41||Nh(E)?n(E):(t.enter(r),t.enter(o),t.enter(a),t.enter("chunkString",{contentType:"string"}),T(E))}function p(E){return E===62?(t.enter(s),t.consume(E),t.exit(s),t.exit(i),t.exit(r),e):(t.enter(a),t.enter("chunkString",{contentType:"string"}),g(E))}function g(E){return E===62?(t.exit("chunkString"),t.exit(a),p(E)):E===null||E===60||le(E)?n(E):(t.consume(E),E===92?w:g)}function w(E){return E===60||E===62||E===92?(t.consume(E),g):g(E)}function T(E){return!d&&(E===null||E===41||$e(E))?(t.exit("chunkString"),t.exit(a),t.exit(o),t.exit(r),e(E)):d<c&&E===40?(t.consume(E),d++,T):E===41?(t.consume(E),d--,T):E===null||E===32||E===40||Nh(E)?n(E):(t.consume(E),E===92?I:T)}function I(E){return E===40||E===41||E===92?(t.consume(E),T):T(E)}}function mT(t,e,n,r,i,s){const o=this;let a=0,l;return c;function c(g){return t.enter(r),t.enter(i),t.consume(g),t.exit(i),t.enter(s),d}function d(g){return a>999||g===null||g===91||g===93&&!l||g===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(g):g===93?(t.exit(s),t.enter(i),t.consume(g),t.exit(i),t.exit(r),e):le(g)?(t.enter("lineEnding"),t.consume(g),t.exit("lineEnding"),d):(t.enter("chunkString",{contentType:"string"}),f(g))}function f(g){return g===null||g===91||g===93||le(g)||a++>999?(t.exit("chunkString"),d(g)):(t.consume(g),l||(l=!Te(g)),g===92?p:f)}function p(g){return g===91||g===92||g===93?(t.consume(g),a++,f):f(g)}}function gT(t,e,n,r,i,s){let o;return a;function a(p){return p===34||p===39||p===40?(t.enter(r),t.enter(i),t.consume(p),t.exit(i),o=p===40?41:p,l):n(p)}function l(p){return p===o?(t.enter(i),t.consume(p),t.exit(i),t.exit(r),e):(t.enter(s),c(p))}function c(p){return p===o?(t.exit(s),l(o)):p===null?n(p):le(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),Re(t,c,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===o||p===null||le(p)?(t.exit("chunkString"),c(p)):(t.consume(p),p===92?f:d)}function f(p){return p===o||p===92?(t.consume(p),d):d(p)}}function cl(t,e){let n;return r;function r(i){return le(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):Te(i)?Re(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const XF={name:"definition",tokenize:e6},ZF={partial:!0,tokenize:t6};function e6(t,e,n){const r=this;let i;return s;function s(g){return t.enter("definition"),o(g)}function o(g){return mT.call(r,t,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(g)}function a(g){return i=Yn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),g===58?(t.enter("definitionMarker"),t.consume(g),t.exit("definitionMarker"),l):n(g)}function l(g){return $e(g)?cl(t,c)(g):c(g)}function c(g){return pT(t,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(g)}function d(g){return t.attempt(ZF,f,f)(g)}function f(g){return Te(g)?Re(t,p,"whitespace")(g):p(g)}function p(g){return g===null||le(g)?(t.exit("definition"),r.parser.defined.push(i),e(g)):n(g)}}function t6(t,e,n){return r;function r(a){return $e(a)?cl(t,i)(a):n(a)}function i(a){return gT(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return Te(a)?Re(t,o,"whitespace")(a):o(a)}function o(a){return a===null||le(a)?e(a):n(a)}}const n6={name:"hardBreakEscape",tokenize:r6};function r6(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.consume(s),i}function i(s){return le(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}const i6={name:"headingAtx",resolve:s6,tokenize:o6};function s6(t,e){let n=t.length-2,r=3,i,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},_n(t,r,n-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function o6(t,e,n){let r=0;return i;function i(d){return t.enter("atxHeading"),s(d)}function s(d){return t.enter("atxHeadingSequence"),o(d)}function o(d){return d===35&&r++<6?(t.consume(d),o):d===null||$e(d)?(t.exit("atxHeadingSequence"),a(d)):n(d)}function a(d){return d===35?(t.enter("atxHeadingSequence"),l(d)):d===null||le(d)?(t.exit("atxHeading"),e(d)):Te(d)?Re(t,a,"whitespace")(d):(t.enter("atxHeadingText"),c(d))}function l(d){return d===35?(t.consume(d),l):(t.exit("atxHeadingSequence"),a(d))}function c(d){return d===null||d===35||$e(d)?(t.exit("atxHeadingText"),a(d)):(t.consume(d),c)}}const a6=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Qw=["pre","script","style","textarea"],l6={concrete:!0,name:"htmlFlow",resolveTo:h6,tokenize:d6},u6={partial:!0,tokenize:p6},c6={partial:!0,tokenize:f6};function h6(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function d6(t,e,n){const r=this;let i,s,o,a,l;return c;function c(L){return d(L)}function d(L){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(L),f}function f(L){return L===33?(t.consume(L),p):L===47?(t.consume(L),s=!0,T):L===63?(t.consume(L),i=3,r.interrupt?e:j):Xt(L)?(t.consume(L),o=String.fromCharCode(L),I):n(L)}function p(L){return L===45?(t.consume(L),i=2,g):L===91?(t.consume(L),i=5,a=0,w):Xt(L)?(t.consume(L),i=4,r.interrupt?e:j):n(L)}function g(L){return L===45?(t.consume(L),r.interrupt?e:j):n(L)}function w(L){const ge="CDATA[";return L===ge.charCodeAt(a++)?(t.consume(L),a===ge.length?r.interrupt?e:D:w):n(L)}function T(L){return Xt(L)?(t.consume(L),o=String.fromCharCode(L),I):n(L)}function I(L){if(L===null||L===47||L===62||$e(L)){const ge=L===47,Ne=o.toLowerCase();return!ge&&!s&&Qw.includes(Ne)?(i=1,r.interrupt?e(L):D(L)):a6.includes(o.toLowerCase())?(i=6,ge?(t.consume(L),E):r.interrupt?e(L):D(L)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(L):s?v(L):x(L))}return L===45||Ut(L)?(t.consume(L),o+=String.fromCharCode(L),I):n(L)}function E(L){return L===62?(t.consume(L),r.interrupt?e:D):n(L)}function v(L){return Te(L)?(t.consume(L),v):_(L)}function x(L){return L===47?(t.consume(L),_):L===58||L===95||Xt(L)?(t.consume(L),N):Te(L)?(t.consume(L),x):_(L)}function N(L){return L===45||L===46||L===58||L===95||Ut(L)?(t.consume(L),N):O(L)}function O(L){return L===61?(t.consume(L),A):Te(L)?(t.consume(L),O):x(L)}function A(L){return L===null||L===60||L===61||L===62||L===96?n(L):L===34||L===39?(t.consume(L),l=L,k):Te(L)?(t.consume(L),A):b(L)}function k(L){return L===l?(t.consume(L),l=null,S):L===null||le(L)?n(L):(t.consume(L),k)}function b(L){return L===null||L===34||L===39||L===47||L===60||L===61||L===62||L===96||$e(L)?O(L):(t.consume(L),b)}function S(L){return L===47||L===62||Te(L)?x(L):n(L)}function _(L){return L===62?(t.consume(L),P):n(L)}function P(L){return L===null||le(L)?D(L):Te(L)?(t.consume(L),P):n(L)}function D(L){return L===45&&i===2?(t.consume(L),ce):L===60&&i===1?(t.consume(L),se):L===62&&i===4?(t.consume(L),J):L===63&&i===3?(t.consume(L),j):L===93&&i===5?(t.consume(L),Y):le(L)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(u6,ne,R)(L)):L===null||le(L)?(t.exit("htmlFlowData"),R(L)):(t.consume(L),D)}function R(L){return t.check(c6,q,ne)(L)}function q(L){return t.enter("lineEnding"),t.consume(L),t.exit("lineEnding"),Q}function Q(L){return L===null||le(L)?R(L):(t.enter("htmlFlowData"),D(L))}function ce(L){return L===45?(t.consume(L),j):D(L)}function se(L){return L===47?(t.consume(L),o="",U):D(L)}function U(L){if(L===62){const ge=o.toLowerCase();return Qw.includes(ge)?(t.consume(L),J):D(L)}return Xt(L)&&o.length<8?(t.consume(L),o+=String.fromCharCode(L),U):D(L)}function Y(L){return L===93?(t.consume(L),j):D(L)}function j(L){return L===62?(t.consume(L),J):L===45&&i===2?(t.consume(L),j):D(L)}function J(L){return L===null||le(L)?(t.exit("htmlFlowData"),ne(L)):(t.consume(L),J)}function ne(L){return t.exit("htmlFlow"),e(L)}}function f6(t,e,n){const r=this;return i;function i(o){return le(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}function p6(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(cu,e,n)}}const m6={name:"htmlText",tokenize:g6};function g6(t,e,n){const r=this;let i,s,o;return a;function a(j){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(j),l}function l(j){return j===33?(t.consume(j),c):j===47?(t.consume(j),O):j===63?(t.consume(j),x):Xt(j)?(t.consume(j),b):n(j)}function c(j){return j===45?(t.consume(j),d):j===91?(t.consume(j),s=0,w):Xt(j)?(t.consume(j),v):n(j)}function d(j){return j===45?(t.consume(j),g):n(j)}function f(j){return j===null?n(j):j===45?(t.consume(j),p):le(j)?(o=f,se(j)):(t.consume(j),f)}function p(j){return j===45?(t.consume(j),g):f(j)}function g(j){return j===62?ce(j):j===45?p(j):f(j)}function w(j){const J="CDATA[";return j===J.charCodeAt(s++)?(t.consume(j),s===J.length?T:w):n(j)}function T(j){return j===null?n(j):j===93?(t.consume(j),I):le(j)?(o=T,se(j)):(t.consume(j),T)}function I(j){return j===93?(t.consume(j),E):T(j)}function E(j){return j===62?ce(j):j===93?(t.consume(j),E):T(j)}function v(j){return j===null||j===62?ce(j):le(j)?(o=v,se(j)):(t.consume(j),v)}function x(j){return j===null?n(j):j===63?(t.consume(j),N):le(j)?(o=x,se(j)):(t.consume(j),x)}function N(j){return j===62?ce(j):x(j)}function O(j){return Xt(j)?(t.consume(j),A):n(j)}function A(j){return j===45||Ut(j)?(t.consume(j),A):k(j)}function k(j){return le(j)?(o=k,se(j)):Te(j)?(t.consume(j),k):ce(j)}function b(j){return j===45||Ut(j)?(t.consume(j),b):j===47||j===62||$e(j)?S(j):n(j)}function S(j){return j===47?(t.consume(j),ce):j===58||j===95||Xt(j)?(t.consume(j),_):le(j)?(o=S,se(j)):Te(j)?(t.consume(j),S):ce(j)}function _(j){return j===45||j===46||j===58||j===95||Ut(j)?(t.consume(j),_):P(j)}function P(j){return j===61?(t.consume(j),D):le(j)?(o=P,se(j)):Te(j)?(t.consume(j),P):S(j)}function D(j){return j===null||j===60||j===61||j===62||j===96?n(j):j===34||j===39?(t.consume(j),i=j,R):le(j)?(o=D,se(j)):Te(j)?(t.consume(j),D):(t.consume(j),q)}function R(j){return j===i?(t.consume(j),i=void 0,Q):j===null?n(j):le(j)?(o=R,se(j)):(t.consume(j),R)}function q(j){return j===null||j===34||j===39||j===60||j===61||j===96?n(j):j===47||j===62||$e(j)?S(j):(t.consume(j),q)}function Q(j){return j===47||j===62||$e(j)?S(j):n(j)}function ce(j){return j===62?(t.consume(j),t.exit("htmlTextData"),t.exit("htmlText"),e):n(j)}function se(j){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(j),t.exit("lineEnding"),U}function U(j){return Te(j)?Re(t,Y,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(j):Y(j)}function Y(j){return t.enter("htmlTextData"),o(j)}}const Ny={name:"labelEnd",resolveAll:w6,resolveTo:_6,tokenize:E6},y6={tokenize:b6},v6={tokenize:k6},x6={tokenize:S6};function w6(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&_n(t,0,t.length,n),t}function _6(t,e){let n=t.length,r=0,i,s,o,a;for(;n--;)if(i=t[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:t[s][1].type==="labelLink"?"link":"image",start:{...t[s][1].start},end:{...t[t.length-1][1].end}},c={type:"label",start:{...t[s][1].start},end:{...t[o][1].end}},d={type:"labelText",start:{...t[s+r+2][1].end},end:{...t[o-2][1].start}};return a=[["enter",l,e],["enter",c,e]],a=An(a,t.slice(s+1,s+r+3)),a=An(a,[["enter",d,e]]),a=An(a,Sd(e.parser.constructs.insideSpan.null,t.slice(s+r+4,o-3),e)),a=An(a,[["exit",d,e],t[o-2],t[o-1],["exit",c,e]]),a=An(a,t.slice(o+1)),a=An(a,[["exit",l,e]]),_n(t,s,t.length,a),t}function E6(t,e,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(p){return s?s._inactive?f(p):(o=r.parser.defined.includes(Yn(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(p),t.exit("labelMarker"),t.exit("labelEnd"),l):n(p)}function l(p){return p===40?t.attempt(y6,d,o?d:f)(p):p===91?t.attempt(v6,d,o?c:f)(p):o?d(p):f(p)}function c(p){return t.attempt(x6,d,f)(p)}function d(p){return e(p)}function f(p){return s._balanced=!0,n(p)}}function b6(t,e,n){return r;function r(f){return t.enter("resource"),t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),i}function i(f){return $e(f)?cl(t,s)(f):s(f)}function s(f){return f===41?d(f):pT(t,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function o(f){return $e(f)?cl(t,l)(f):d(f)}function a(f){return n(f)}function l(f){return f===34||f===39||f===40?gT(t,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function c(f){return $e(f)?cl(t,d)(f):d(f)}function d(f){return f===41?(t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),t.exit("resource"),e):n(f)}}function k6(t,e,n){const r=this;return i;function i(a){return mT.call(r,t,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(Yn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(a):n(a)}function o(a){return n(a)}}function S6(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const T6={name:"labelStartImage",resolveAll:Ny.resolveAll,tokenize:I6};function I6(t,e,n){const r=this;return i;function i(a){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(a),t.exit("labelImageMarker"),s}function s(a){return a===91?(t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const C6={name:"labelStartLink",resolveAll:Ny.resolveAll,tokenize:A6};function A6(t,e,n){const r=this;return i;function i(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const Cf={name:"lineEnding",tokenize:N6};function N6(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Re(t,e,"linePrefix")}}const Rc={name:"thematicBreak",tokenize:P6};function P6(t,e,n){let r=0,i;return s;function s(c){return t.enter("thematicBreak"),o(c)}function o(c){return i=c,a(c)}function a(c){return c===i?(t.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||le(c))?(t.exit("thematicBreak"),e(c)):n(c)}function l(c){return c===i?(t.consume(c),r++,l):(t.exit("thematicBreakSequence"),Te(c)?Re(t,a,"whitespace")(c):a(c))}}const sn={continuation:{tokenize:O6},exit:M6,name:"list",tokenize:D6},R6={partial:!0,tokenize:F6},j6={partial:!0,tokenize:L6};function D6(t,e,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(g){const w=r.containerState.type||(g===42||g===43||g===45?"listUnordered":"listOrdered");if(w==="listUnordered"?!r.containerState.marker||g===r.containerState.marker:xm(g)){if(r.containerState.type||(r.containerState.type=w,t.enter(w,{_container:!0})),w==="listUnordered")return t.enter("listItemPrefix"),g===42||g===45?t.check(Rc,n,c)(g):c(g);if(!r.interrupt||g===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(g)}return n(g)}function l(g){return xm(g)&&++o<10?(t.consume(g),l):(!r.interrupt||o<2)&&(r.containerState.marker?g===r.containerState.marker:g===41||g===46)?(t.exit("listItemValue"),c(g)):n(g)}function c(g){return t.enter("listItemMarker"),t.consume(g),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||g,t.check(cu,r.interrupt?n:d,t.attempt(R6,p,f))}function d(g){return r.containerState.initialBlankLine=!0,s++,p(g)}function f(g){return Te(g)?(t.enter("listItemPrefixWhitespace"),t.consume(g),t.exit("listItemPrefixWhitespace"),p):n(g)}function p(g){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(g)}}function O6(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(cu,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Re(t,e,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!Te(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(j6,e,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,Re(t,t.attempt(sn,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function L6(t,e,n){const r=this;return Re(t,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(s):n(s)}}function M6(t){t.exit(this.containerState.type)}function F6(t,e,n){const r=this;return Re(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!Te(s)&&o&&o[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const Yw={name:"setextUnderline",resolveTo:V6,tokenize:z6};function V6(t,e){let n=t.length,r,i,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",o,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end={...t[s][1].end}):t[r][1]=o,t.push(["exit",o,e]),t}function z6(t,e,n){const r=this;let i;return s;function s(c){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(t.enter("setextHeadingLine"),i=c,o(c)):n(c)}function o(c){return t.enter("setextHeadingLineSequence"),a(c)}function a(c){return c===i?(t.consume(c),a):(t.exit("setextHeadingLineSequence"),Te(c)?Re(t,l,"lineSuffix")(c):l(c))}function l(c){return c===null||le(c)?(t.exit("setextHeadingLine"),e(c)):n(c)}}const U6={tokenize:$6};function $6(t){const e=this,n=t.attempt(cu,r,t.attempt(this.parser.constructs.flowInitial,i,Re(t,t.attempt(this.parser.constructs.flow,i,t.attempt(GF,i)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const B6={resolveAll:vT()},H6=yT("string"),q6=yT("text");function yT(t){return{resolveAll:vT(t==="text"?W6:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],s=n.attempt(i,o,a);return o;function o(d){return c(d)?s(d):a(d)}function a(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return c(d)?(n.exit("data"),s(d)):(n.consume(d),l)}function c(d){if(d===null)return!0;const f=i[d];let p=-1;if(f)for(;++p<f.length;){const g=f[p];if(!g.previous||g.previous.call(r,r.previous))return!0}return!1}}}function vT(t){return e;function e(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(n,r):n}}function W6(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let s=i.length,o=-1,a=0,l;for(;s--;){const c=i[s];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(c===-2)l=!0,a++;else if(c!==-1){s++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(a=0),a){const c={type:n===t.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(t.splice(n,0,["enter",c,e],["exit",c,e]),n+=2)}n++}return t}const G6={42:sn,43:sn,45:sn,48:sn,49:sn,50:sn,51:sn,52:sn,53:sn,54:sn,55:sn,56:sn,57:sn,62:cT},K6={91:XF},Q6={[-2]:If,[-1]:If,32:If},Y6={35:i6,42:Rc,45:[Yw,Rc],60:l6,61:Yw,95:Rc,96:Kw,126:Kw},J6={38:dT,92:hT},X6={[-5]:Cf,[-4]:Cf,[-3]:Cf,33:T6,38:dT,42:wm,60:[CF,m6],91:C6,92:[n6,hT],93:Ny,95:wm,96:UF},Z6={null:[wm,B6]},eV={null:[42,95]},tV={null:[]},nV=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:eV,contentInitial:K6,disable:tV,document:G6,flow:Y6,flowInitial:Q6,insideSpan:Z6,string:J6,text:X6},Symbol.toStringTag,{value:"Module"}));function rV(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let o=[],a=[];const l={attempt:k(O),check:k(A),consume:v,enter:x,exit:N,interrupt:k(A,{interrupt:!0})},c={code:null,containerState:{},defineSkip:T,events:[],now:w,parser:t,previous:null,sliceSerialize:p,sliceStream:g,write:f};let d=e.tokenize.call(c,l);return e.resolveAll&&s.push(e),c;function f(P){return o=An(o,P),I(),o[o.length-1]!==null?[]:(b(e,0),c.events=Sd(s,c.events,c),c.events)}function p(P,D){return sV(g(P),D)}function g(P){return iV(o,P)}function w(){const{_bufferIndex:P,_index:D,line:R,column:q,offset:Q}=r;return{_bufferIndex:P,_index:D,line:R,column:q,offset:Q}}function T(P){i[P.line]=P.column,_()}function I(){let P;for(;r._index<o.length;){const D=o[r._index];if(typeof D=="string")for(P=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===P&&r._bufferIndex<D.length;)E(D.charCodeAt(r._bufferIndex));else E(D)}}function E(P){d=d(P)}function v(P){le(P)?(r.line++,r.column=1,r.offset+=P===-3?2:1,_()):P!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=P}function x(P,D){const R=D||{};return R.type=P,R.start=w(),c.events.push(["enter",R,c]),a.push(R),R}function N(P){const D=a.pop();return D.end=w(),c.events.push(["exit",D,c]),D}function O(P,D){b(P,D.from)}function A(P,D){D.restore()}function k(P,D){return R;function R(q,Q,ce){let se,U,Y,j;return Array.isArray(q)?ne(q):"tokenize"in q?ne([q]):J(q);function J(he){return X;function X(pe){const ve=pe!==null&&he[pe],ke=pe!==null&&he.null,Fe=[...Array.isArray(ve)?ve:ve?[ve]:[],...Array.isArray(ke)?ke:ke?[ke]:[]];return ne(Fe)(pe)}}function ne(he){return se=he,U=0,he.length===0?ce:L(he[U])}function L(he){return X;function X(pe){return j=S(),Y=he,he.partial||(c.currentConstruct=he),he.name&&c.parser.constructs.disable.null.includes(he.name)?Ne():he.tokenize.call(D?Object.assign(Object.create(c),D):c,l,ge,Ne)(pe)}}function ge(he){return P(Y,j),Q}function Ne(he){return j.restore(),++U<se.length?L(se[U]):ce}}}function b(P,D){P.resolveAll&&!s.includes(P)&&s.push(P),P.resolve&&_n(c.events,D,c.events.length-D,P.resolve(c.events.slice(D),c)),P.resolveTo&&(c.events=P.resolveTo(c.events,c))}function S(){const P=w(),D=c.previous,R=c.currentConstruct,q=c.events.length,Q=Array.from(a);return{from:q,restore:ce};function ce(){r=P,c.previous=D,c.currentConstruct=R,c.events.length=q,a=Q,_()}}function _(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function iV(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let o;if(n===i)o=[t[n].slice(r,s)];else{if(o=t.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(t[i].slice(0,s))}return o}function sV(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const s=t[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}function oV(t){const r={constructs:lT([nV,...(t||{}).extensions||[]]),content:i(_F),defined:[],document:i(bF),flow:i(U6),lazy:{},string:i(H6),text:i(q6)};return r;function i(s){return o;function o(a){return rV(r,s,a)}}}function aV(t){for(;!fT(t););return t}const Jw=/[\0\t\n\r]/g;function lV(){let t=1,e="",n=!0,r;return i;function i(s,o,a){const l=[];let c,d,f,p,g;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),f=0,e="",n&&(s.charCodeAt(0)===65279&&f++,n=void 0);f<s.length;){if(Jw.lastIndex=f,c=Jw.exec(s),p=c&&c.index!==void 0?c.index:s.length,g=s.charCodeAt(p),!c){e=s.slice(f);break}if(g===10&&f===p&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<p&&(l.push(s.slice(f,p)),t+=p-f),g){case 0:{l.push(65533),t++;break}case 9:{for(d=Math.ceil(t/4)*4,l.push(-2);t++<d;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}f=p+1}return a&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const uV=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function cV(t){return t.replace(uV,hV)}function hV(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return uT(n.slice(s?2:1),s?16:10)}return Ay(n)||t}const xT={}.hasOwnProperty;function dV(t,e,n){return typeof e!="string"&&(n=e,e=void 0),fV(n)(aV(oV(n).document().write(lV()(t,e,!0))))}function fV(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(es),autolinkProtocol:S,autolinkEmail:S,atxHeading:s(Gr),blockQuote:s(ke),characterEscape:S,characterReference:S,codeFenced:s(Fe),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(Fe,o),codeText:s(pn,o),codeTextData:S,data:S,codeFlowValue:S,definition:s(Fn),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(_r),hardBreakEscape:s(Kr),hardBreakTrailing:s(Kr),htmlFlow:s(qs,o),htmlFlowData:S,htmlText:s(qs,o),htmlTextData:S,image:s(Zi),label:o,link:s(es),listItem:s(Ws),listItemValue:p,listOrdered:s(Vn,f),listUnordered:s(Vn),paragraph:s(ha),reference:L,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(Gr),strong:s(Qr),thematicBreak:s(Sn)},exit:{atxHeading:l(),atxHeadingSequence:O,autolink:l(),autolinkEmail:ve,autolinkProtocol:pe,blockQuote:l(),characterEscapeValue:_,characterReferenceMarkerHexadecimal:Ne,characterReferenceMarkerNumeric:Ne,characterReferenceValue:he,characterReference:X,codeFenced:l(I),codeFencedFence:T,codeFencedFenceInfo:g,codeFencedFenceMeta:w,codeFlowValue:_,codeIndented:l(E),codeText:l(Q),codeTextData:_,data:_,definition:l(),definitionDestinationString:N,definitionLabelString:v,definitionTitleString:x,emphasis:l(),hardBreakEscape:l(D),hardBreakTrailing:l(D),htmlFlow:l(R),htmlFlowData:_,htmlText:l(q),htmlTextData:_,image:l(se),label:Y,labelText:U,lineEnding:P,link:l(ce),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:ge,resourceDestinationString:j,resourceTitleString:J,resource:ne,setextHeading:l(b),setextHeadingLineSequence:k,setextHeadingText:A,strong:l(),thematicBreak:l()}};wT(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(V){let W={type:"root",children:[]};const de={stack:[W],tokenStack:[],config:e,enter:a,exit:c,buffer:o,resume:d,data:n},xe=[];let je=-1;for(;++je<V.length;)if(V[je][1].type==="listOrdered"||V[je][1].type==="listUnordered")if(V[je][0]==="enter")xe.push(je);else{const Wt=xe.pop();je=i(V,Wt,je)}for(je=-1;++je<V.length;){const Wt=e[V[je][0]];xT.call(Wt,V[je][1].type)&&Wt[V[je][1].type].call(Object.assign({sliceSerialize:V[je][2].sliceSerialize},de),V[je][1])}if(de.tokenStack.length>0){const Wt=de.tokenStack[de.tokenStack.length-1];(Wt[1]||Xw).call(de,void 0,Wt[0])}for(W.position={start:ti(V.length>0?V[0][1].start:{line:1,column:1,offset:0}),end:ti(V.length>0?V[V.length-2][1].end:{line:1,column:1,offset:0})},je=-1;++je<e.transforms.length;)W=e.transforms[je](W)||W;return W}function i(V,W,de){let xe=W-1,je=-1,Wt=!1,Gt,nn,Kt,zn;for(;++xe<=de;){const xt=V[xe];switch(xt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{xt[0]==="enter"?je++:je--,zn=void 0;break}case"lineEndingBlank":{xt[0]==="enter"&&(Gt&&!zn&&!je&&!Kt&&(Kt=xe),zn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:zn=void 0}if(!je&&xt[0]==="enter"&&xt[1].type==="listItemPrefix"||je===-1&&xt[0]==="exit"&&(xt[1].type==="listUnordered"||xt[1].type==="listOrdered")){if(Gt){let Xn=xe;for(nn=void 0;Xn--;){const kt=V[Xn];if(kt[1].type==="lineEnding"||kt[1].type==="lineEndingBlank"){if(kt[0]==="exit")continue;nn&&(V[nn][1].type="lineEndingBlank",Wt=!0),kt[1].type="lineEnding",nn=Xn}else if(!(kt[1].type==="linePrefix"||kt[1].type==="blockQuotePrefix"||kt[1].type==="blockQuotePrefixWhitespace"||kt[1].type==="blockQuoteMarker"||kt[1].type==="listItemIndent"))break}Kt&&(!nn||Kt<nn)&&(Gt._spread=!0),Gt.end=Object.assign({},nn?V[nn][1].start:xt[1].end),V.splice(nn||xe,0,["exit",Gt,xt[2]]),xe++,de++}if(xt[1].type==="listItemPrefix"){const Xn={type:"listItem",_spread:!1,start:Object.assign({},xt[1].start),end:void 0};Gt=Xn,V.splice(xe,0,["enter",Xn,xt[2]]),xe++,de++,Kt=void 0,zn=!0}}}return V[W][1]._spread=Wt,de}function s(V,W){return de;function de(xe){a.call(this,V(xe),xe),W&&W.call(this,xe)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(V,W,de){this.stack[this.stack.length-1].children.push(V),this.stack.push(V),this.tokenStack.push([W,de||void 0]),V.position={start:ti(W.start),end:void 0}}function l(V){return W;function W(de){V&&V.call(this,de),c.call(this,de)}}function c(V,W){const de=this.stack.pop(),xe=this.tokenStack.pop();if(xe)xe[0].type!==V.type&&(W?W.call(this,V,xe[0]):(xe[1]||Xw).call(this,V,xe[0]));else throw new Error("Cannot close `"+V.type+"` ("+ul({start:V.start,end:V.end})+"): its not open");de.position.end=ti(V.end)}function d(){return Cy(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function p(V){if(this.data.expectingFirstListItemValue){const W=this.stack[this.stack.length-2];W.start=Number.parseInt(this.sliceSerialize(V),10),this.data.expectingFirstListItemValue=void 0}}function g(){const V=this.resume(),W=this.stack[this.stack.length-1];W.lang=V}function w(){const V=this.resume(),W=this.stack[this.stack.length-1];W.meta=V}function T(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function I(){const V=this.resume(),W=this.stack[this.stack.length-1];W.value=V.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function E(){const V=this.resume(),W=this.stack[this.stack.length-1];W.value=V.replace(/(\r?\n|\r)$/g,"")}function v(V){const W=this.resume(),de=this.stack[this.stack.length-1];de.label=W,de.identifier=Yn(this.sliceSerialize(V)).toLowerCase()}function x(){const V=this.resume(),W=this.stack[this.stack.length-1];W.title=V}function N(){const V=this.resume(),W=this.stack[this.stack.length-1];W.url=V}function O(V){const W=this.stack[this.stack.length-1];if(!W.depth){const de=this.sliceSerialize(V).length;W.depth=de}}function A(){this.data.setextHeadingSlurpLineEnding=!0}function k(V){const W=this.stack[this.stack.length-1];W.depth=this.sliceSerialize(V).codePointAt(0)===61?1:2}function b(){this.data.setextHeadingSlurpLineEnding=void 0}function S(V){const de=this.stack[this.stack.length-1].children;let xe=de[de.length-1];(!xe||xe.type!=="text")&&(xe=Yr(),xe.position={start:ti(V.start),end:void 0},de.push(xe)),this.stack.push(xe)}function _(V){const W=this.stack.pop();W.value+=this.sliceSerialize(V),W.position.end=ti(V.end)}function P(V){const W=this.stack[this.stack.length-1];if(this.data.atHardBreak){const de=W.children[W.children.length-1];de.position.end=ti(V.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(W.type)&&(S.call(this,V),_.call(this,V))}function D(){this.data.atHardBreak=!0}function R(){const V=this.resume(),W=this.stack[this.stack.length-1];W.value=V}function q(){const V=this.resume(),W=this.stack[this.stack.length-1];W.value=V}function Q(){const V=this.resume(),W=this.stack[this.stack.length-1];W.value=V}function ce(){const V=this.stack[this.stack.length-1];if(this.data.inReference){const W=this.data.referenceType||"shortcut";V.type+="Reference",V.referenceType=W,delete V.url,delete V.title}else delete V.identifier,delete V.label;this.data.referenceType=void 0}function se(){const V=this.stack[this.stack.length-1];if(this.data.inReference){const W=this.data.referenceType||"shortcut";V.type+="Reference",V.referenceType=W,delete V.url,delete V.title}else delete V.identifier,delete V.label;this.data.referenceType=void 0}function U(V){const W=this.sliceSerialize(V),de=this.stack[this.stack.length-2];de.label=cV(W),de.identifier=Yn(W).toLowerCase()}function Y(){const V=this.stack[this.stack.length-1],W=this.resume(),de=this.stack[this.stack.length-1];if(this.data.inReference=!0,de.type==="link"){const xe=V.children;de.children=xe}else de.alt=W}function j(){const V=this.resume(),W=this.stack[this.stack.length-1];W.url=V}function J(){const V=this.resume(),W=this.stack[this.stack.length-1];W.title=V}function ne(){this.data.inReference=void 0}function L(){this.data.referenceType="collapsed"}function ge(V){const W=this.resume(),de=this.stack[this.stack.length-1];de.label=W,de.identifier=Yn(this.sliceSerialize(V)).toLowerCase(),this.data.referenceType="full"}function Ne(V){this.data.characterReferenceType=V.type}function he(V){const W=this.sliceSerialize(V),de=this.data.characterReferenceType;let xe;de?(xe=uT(W,de==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):xe=Ay(W);const je=this.stack[this.stack.length-1];je.value+=xe}function X(V){const W=this.stack.pop();W.position.end=ti(V.end)}function pe(V){_.call(this,V);const W=this.stack[this.stack.length-1];W.url=this.sliceSerialize(V)}function ve(V){_.call(this,V);const W=this.stack[this.stack.length-1];W.url="mailto:"+this.sliceSerialize(V)}function ke(){return{type:"blockquote",children:[]}}function Fe(){return{type:"code",lang:null,meta:null,value:""}}function pn(){return{type:"inlineCode",value:""}}function Fn(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function _r(){return{type:"emphasis",children:[]}}function Gr(){return{type:"heading",depth:0,children:[]}}function Kr(){return{type:"break"}}function qs(){return{type:"html",value:""}}function Zi(){return{type:"image",title:null,url:"",alt:null}}function es(){return{type:"link",title:null,url:"",children:[]}}function Vn(V){return{type:"list",ordered:V.type==="listOrdered",start:null,spread:V._spread,children:[]}}function Ws(V){return{type:"listItem",spread:V._spread,checked:null,children:[]}}function ha(){return{type:"paragraph",children:[]}}function Qr(){return{type:"strong",children:[]}}function Yr(){return{type:"text",value:""}}function Sn(){return{type:"thematicBreak"}}}function ti(t){return{line:t.line,column:t.column,offset:t.offset}}function wT(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?wT(t,r):pV(t,r)}}function pV(t,e){let n;for(n in e)if(xT.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function Xw(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+ul({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+ul({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+ul({start:e.start,end:e.end})+") is still open")}function mV(t){const e=this;e.parser=n;function n(r){return dV(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function gV(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function yV(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function vV(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function xV(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function wV(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function _V(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=ua(r.toLowerCase()),s=t.footnoteOrder.indexOf(r);let o,a=t.footnoteCounts.get(r);a===void 0?(a=0,t.footnoteOrder.push(r),o=t.footnoteOrder.length):o=s+1,a+=1,t.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};t.patch(e,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,c),t.applyData(e,c)}function EV(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function bV(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function _T(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function kV(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return _T(t,e);const i={src:ua(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,s),t.applyData(e,s)}function SV(t,e){const n={src:ua(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function TV(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function IV(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return _T(t,e);const i={href:ua(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function CV(t,e){const n={href:ua(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function AV(t,e,n){const r=t.all(e),i=n?NV(n):ET(e),s={},o=[];if(typeof e.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const d=r[a];(i||a!==0||d.type!=="element"||d.tagName!=="p")&&o.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?o.push(...d.children):o.push(d)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:s,children:o};return t.patch(e,c),t.applyData(e,c)}function NV(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=ET(n[r])}return e}function ET(t){const e=t.spread;return e??t.children.length>1}function PV(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,s),t.applyData(e,s)}function RV(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function jV(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function DV(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function OV(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},a=ky(e.children[1]),l=tT(e.children[e.children.length-1]);a&&l&&(o.position={start:a,end:l}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function LV(t,e,n){const r=n?n.children:void 0,s=(r?r.indexOf(e):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:e.children.length;let l=-1;const c=[];for(;++l<a;){const f=e.children[l],p={},g=o?o[l]:void 0;g&&(p.align=g);let w={type:"element",tagName:s,properties:p,children:[]};f&&(w.children=t.all(f),t.patch(f,w),w=t.applyData(f,w)),c.push(w)}const d={type:"element",tagName:"tr",properties:{},children:t.wrap(c,!0)};return t.patch(e,d),t.applyData(e,d)}function MV(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const Zw=9,e1=32;function FV(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const s=[];for(;r;)s.push(t1(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return s.push(t1(e.slice(i),i>0,!1)),s.join("")}function t1(t,e,n){let r=0,i=t.length;if(e){let s=t.codePointAt(r);for(;s===Zw||s===e1;)r++,s=t.codePointAt(r)}if(n){let s=t.codePointAt(i-1);for(;s===Zw||s===e1;)i--,s=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function VV(t,e){const n={type:"text",value:FV(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function zV(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const UV={blockquote:gV,break:yV,code:vV,delete:xV,emphasis:wV,footnoteReference:_V,heading:EV,html:bV,imageReference:kV,image:SV,inlineCode:TV,linkReference:IV,link:CV,listItem:AV,list:PV,paragraph:RV,root:jV,strong:DV,table:OV,tableCell:MV,tableRow:LV,text:VV,thematicBreak:zV,toml:nc,yaml:nc,definition:nc,footnoteDefinition:nc};function nc(){}const bT=-1,Td=0,hl=1,Ph=2,Py=3,Ry=4,jy=5,Dy=6,kT=7,ST=8,n1=typeof self=="object"?self:globalThis,$V=(t,e)=>{const n=(i,s)=>(t.set(s,i),i),r=i=>{if(t.has(i))return t.get(i);const[s,o]=e[i];switch(s){case Td:case bT:return n(o,i);case hl:{const a=n([],i);for(const l of o)a.push(r(l));return a}case Ph:{const a=n({},i);for(const[l,c]of o)a[r(l)]=r(c);return a}case Py:return n(new Date(o),i);case Ry:{const{source:a,flags:l}=o;return n(new RegExp(a,l),i)}case jy:{const a=n(new Map,i);for(const[l,c]of o)a.set(r(l),r(c));return a}case Dy:{const a=n(new Set,i);for(const l of o)a.add(r(l));return a}case kT:{const{name:a,message:l}=o;return n(new n1[a](l),i)}case ST:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:a}=new Uint8Array(o);return n(new DataView(a),o)}}return n(new n1[s](o),i)};return r},r1=t=>$V(new Map,t)(0),Xs="",{toString:BV}={},{keys:HV}=Object,Ra=t=>{const e=typeof t;if(e!=="object"||!t)return[Td,e];const n=BV.call(t).slice(8,-1);switch(n){case"Array":return[hl,Xs];case"Object":return[Ph,Xs];case"Date":return[Py,Xs];case"RegExp":return[Ry,Xs];case"Map":return[jy,Xs];case"Set":return[Dy,Xs];case"DataView":return[hl,n]}return n.includes("Array")?[hl,n]:n.includes("Error")?[kT,n]:[Ph,n]},rc=([t,e])=>t===Td&&(e==="function"||e==="symbol"),qV=(t,e,n,r)=>{const i=(o,a)=>{const l=r.push(o)-1;return n.set(a,l),l},s=o=>{if(n.has(o))return n.get(o);let[a,l]=Ra(o);switch(a){case Td:{let d=o;switch(l){case"bigint":a=ST,d=o.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return i([bT],o)}return i([a,d],o)}case hl:{if(l){let p=o;return l==="DataView"?p=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(p=new Uint8Array(o)),i([l,[...p]],o)}const d=[],f=i([a,d],o);for(const p of o)d.push(s(p));return f}case Ph:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(e&&"toJSON"in o)return s(o.toJSON());const d=[],f=i([a,d],o);for(const p of HV(o))(t||!rc(Ra(o[p])))&&d.push([s(p),s(o[p])]);return f}case Py:return i([a,o.toISOString()],o);case Ry:{const{source:d,flags:f}=o;return i([a,{source:d,flags:f}],o)}case jy:{const d=[],f=i([a,d],o);for(const[p,g]of o)(t||!(rc(Ra(p))||rc(Ra(g))))&&d.push([s(p),s(g)]);return f}case Dy:{const d=[],f=i([a,d],o);for(const p of o)(t||!rc(Ra(p)))&&d.push(s(p));return f}}const{message:c}=o;return i([a,{name:l,message:c}],o)};return s},i1=(t,{json:e,lossy:n}={})=>{const r=[];return qV(!(e||n),!!e,new Map,r)(t),r},Rh=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?r1(i1(t,e)):structuredClone(t):(t,e)=>r1(i1(t,e));function WV(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function GV(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function KV(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||WV,r=t.options.footnoteBackLabel||GV,i=t.options.footnoteLabel||"Footnotes",s=t.options.footnoteLabelTagName||"h2",o=t.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<t.footnoteOrder.length;){const c=t.footnoteById.get(t.footnoteOrder[l]);if(!c)continue;const d=t.all(c),f=String(c.identifier).toUpperCase(),p=ua(f.toLowerCase());let g=0;const w=[],T=t.footnoteCounts.get(f);for(;T!==void 0&&++g<=T;){w.length>0&&w.push({type:"text",value:" "});let v=typeof n=="string"?n:n(l,g);typeof v=="string"&&(v={type:"text",value:v}),w.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+p+(g>1?"-"+g:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,g),className:["data-footnote-backref"]},children:Array.isArray(v)?v:[v]})}const I=d[d.length-1];if(I&&I.type==="element"&&I.tagName==="p"){const v=I.children[I.children.length-1];v&&v.type==="text"?v.value+=" ":I.children.push({type:"text",value:" "}),I.children.push(...w)}else d.push(...w);const E={type:"element",tagName:"li",properties:{id:e+"fn-"+p},children:t.wrap(d,!0)};t.patch(c,E),a.push(E)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Rh(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(a,!0)},{type:"text",value:`
`}]}}const Id=function(t){if(t==null)return XV;if(typeof t=="function")return Cd(t);if(typeof t=="object")return Array.isArray(t)?QV(t):YV(t);if(typeof t=="string")return JV(t);throw new Error("Expected function, string, or object as test")};function QV(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=Id(t[n]);return Cd(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function YV(t){const e=t;return Cd(n);function n(r){const i=r;let s;for(s in t)if(i[s]!==e[s])return!1;return!0}}function JV(t){return Cd(e);function e(n){return n&&n.type===t}}function Cd(t){return e;function e(n,r,i){return!!(ZV(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function XV(){return!0}function ZV(t){return t!==null&&typeof t=="object"&&"type"in t}const TT=[],e5=!0,_m=!1,t5="skip";function IT(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const s=Id(i),o=r?-1:1;a(t,void 0,[])();function a(l,c,d){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const g=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(l.type+(g?"<"+g+">":""))+")"})}return p;function p(){let g=TT,w,T,I;if((!e||s(l,c,d[d.length-1]||void 0))&&(g=n5(n(l,d)),g[0]===_m))return g;if("children"in l&&l.children){const E=l;if(E.children&&g[0]!==t5)for(T=(r?E.children.length:-1)+o,I=d.concat(E);T>-1&&T<E.children.length;){const v=E.children[T];if(w=a(v,T,I)(),w[0]===_m)return w;T=typeof w[1]=="number"?w[1]:T+o}}return g}}}function n5(t){return Array.isArray(t)?t:typeof t=="number"?[e5,t]:t==null?TT:[t]}function Oy(t,e,n,r){let i,s,o;typeof e=="function"?(s=void 0,o=e,i=n):(s=e,o=n,i=r),IT(t,s,a,i);function a(l,c){const d=c[c.length-1],f=d?d.children.indexOf(l):void 0;return o(l,f,d)}}const Em={}.hasOwnProperty,r5={};function i5(t,e){const n=e||r5,r=new Map,i=new Map,s=new Map,o={...UV,...n.handlers},a={all:c,applyData:o5,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:l,options:n,patch:s5,wrap:l5};return Oy(t,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:i,p=String(d.identifier).toUpperCase();f.has(p)||f.set(p,d)}}),a;function l(d,f){const p=d.type,g=a.handlers[p];if(Em.call(a.handlers,p)&&g)return g(a,d,f);if(a.options.passThrough&&a.options.passThrough.includes(p)){if("children"in d){const{children:T,...I}=d,E=Rh(I);return E.children=a.all(d),E}return Rh(d)}return(a.options.unknownHandler||a5)(a,d,f)}function c(d){const f=[];if("children"in d){const p=d.children;let g=-1;for(;++g<p.length;){const w=a.one(p[g],d);if(w){if(g&&p[g-1].type==="break"&&(!Array.isArray(w)&&w.type==="text"&&(w.value=s1(w.value)),!Array.isArray(w)&&w.type==="element")){const T=w.children[0];T&&T.type==="text"&&(T.value=s1(T.value))}Array.isArray(w)?f.push(...w):f.push(w)}}}return f}}function s5(t,e){t.position&&(e.position=GM(t))}function o5(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,s=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,Rh(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function a5(t,e){const n=e.data||{},r="value"in e&&!(Em.call(n,"hProperties")||Em.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function l5(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function s1(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function o1(t,e){const n=i5(t,e),r=n.one(t,void 0),i=KV(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function u5(t,e){return t&&"run"in t?async function(n,r){const i=o1(n,{file:r,...e});await t.run(i,r)}:function(n,r){return o1(n,{file:r,...t||e})}}function a1(t){if(t)throw t}var jc=Object.prototype.hasOwnProperty,CT=Object.prototype.toString,l1=Object.defineProperty,u1=Object.getOwnPropertyDescriptor,c1=function(e){return typeof Array.isArray=="function"?Array.isArray(e):CT.call(e)==="[object Array]"},h1=function(e){if(!e||CT.call(e)!=="[object Object]")return!1;var n=jc.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&jc.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||jc.call(e,i)},d1=function(e,n){l1&&n.name==="__proto__"?l1(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},f1=function(e,n){if(n==="__proto__")if(jc.call(e,n)){if(u1)return u1(e,n).value}else return;return e[n]},c5=function t(){var e,n,r,i,s,o,a=arguments[0],l=1,c=arguments.length,d=!1;for(typeof a=="boolean"&&(d=a,a=arguments[1]||{},l=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});l<c;++l)if(e=arguments[l],e!=null)for(n in e)r=f1(a,n),i=f1(e,n),a!==i&&(d&&i&&(h1(i)||(s=c1(i)))?(s?(s=!1,o=r&&c1(r)?r:[]):o=r&&h1(r)?r:{},d1(a,{name:n,newValue:t(d,o,i)})):typeof i<"u"&&d1(a,{name:n,newValue:i}));return a};const Af=Lh(c5);function bm(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function h5(){const t=[],e={run:n,use:r};return e;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(l,...c){const d=t[++s];let f=-1;if(l){o(l);return}for(;++f<i.length;)(c[f]===null||c[f]===void 0)&&(c[f]=i[f]);i=c,d?d5(d,a)(...c):o(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function d5(t,e){let n;return r;function r(...o){const a=t.length>o.length;let l;a&&o.push(i);try{l=t.apply(this,o)}catch(c){const d=c;if(a&&n)throw d;return i(d)}a||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(o,...a){n||(n=!0,e(o,...a))}function s(o){i(null,o)}}const ir={basename:f5,dirname:p5,extname:m5,join:g5,sep:"/"};function f5(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');hu(t);let n=0,r=-1,i=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let o=-1,a=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(t.codePointAt(i)===e.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=t.length),t.slice(n,r)}function p5(t){if(hu(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function m5(t){hu(t);let e=t.length,n=-1,r=0,i=-1,s=0,o;for(;e--;){const a=t.codePointAt(e);if(a===47){if(o){r=e+1;break}continue}n<0&&(o=!0,n=e+1),a===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function g5(...t){let e=-1,n;for(;++e<t.length;)hu(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":y5(n)}function y5(t){hu(t);const e=t.codePointAt(0)===47;let n=v5(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function v5(t,e){let n="",r=0,i=-1,s=0,o=-1,a,l;for(;++o<=t.length;){if(o<t.length)a=t.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,o):n=t.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function hu(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const x5={cwd:w5};function w5(){return"/"}function km(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function _5(t){if(typeof t=="string")t=new URL(t);else if(!km(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return E5(t)}function E5(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const Nf=["history","path","basename","stem","extname","dirname"];class AT{constructor(e){let n;e?km(e)?n={path:e}:typeof e=="string"||b5(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":x5.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Nf.length;){const s=Nf[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)Nf.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?ir.basename(this.path):void 0}set basename(e){Rf(e,"basename"),Pf(e,"basename"),this.path=ir.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?ir.dirname(this.path):void 0}set dirname(e){p1(this.basename,"dirname"),this.path=ir.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?ir.extname(this.path):void 0}set extname(e){if(Pf(e,"extname"),p1(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ir.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){km(e)&&(e=_5(e)),Rf(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?ir.basename(this.path,this.extname):void 0}set stem(e){Rf(e,"stem"),Pf(e,"stem"),this.path=ir.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new qt(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Pf(t,e){if(t&&t.includes(ir.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+ir.sep+"`")}function Rf(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function p1(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function b5(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const k5=function(t){const r=this.constructor.prototype,i=r[t],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},S5={}.hasOwnProperty;class Ly extends k5{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=h5()}copy(){const e=new Ly;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(Af(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(Of("data",this.frozen),this.namespace[e]=n,this):S5.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Of("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=ic(e),r=this.parser||this.Parser;return jf("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),jf("process",this.parser||this.Parser),Df("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const a=ic(e),l=r.parse(a);r.run(l,a,function(d,f,p){if(d||!f||!p)return c(d);const g=f,w=r.stringify(g,p);C5(w)?p.value=w:p.result=w,c(d,p)});function c(d,f){d||!f?o(d):s?s(f):n(void 0,f)}}}processSync(e){let n=!1,r;return this.freeze(),jf("processSync",this.parser||this.Parser),Df("processSync",this.compiler||this.Compiler),this.process(e,i),g1("processSync","process",n),r;function i(s,o){n=!0,a1(s),r=o}}run(e,n,r){m1(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,a){const l=ic(n);i.run(e,l,c);function c(d,f,p){const g=f||e;d?a(d):o?o(g):r(void 0,g,p)}}}runSync(e,n){let r=!1,i;return this.run(e,n,s),g1("runSync","run",r),i;function s(o,a){a1(o),i=a,r=!0}}stringify(e,n){this.freeze();const r=ic(n),i=this.compiler||this.Compiler;return Df("stringify",i),m1(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(Of("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?a(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[d,...f]=c;l(d,f)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(c.plugins),c.settings&&(i.settings=Af(!0,i.settings,c.settings))}function a(c){let d=-1;if(c!=null)if(Array.isArray(c))for(;++d<c.length;){const f=c[d];s(f)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,d){let f=-1,p=-1;for(;++f<r.length;)if(r[f][0]===c){p=f;break}if(p===-1)r.push([c,...d]);else if(d.length>0){let[g,...w]=d;const T=r[p][1];bm(T)&&bm(g)&&(g=Af(!0,T,g)),r[p]=[c,g,...w]}}}}const T5=new Ly().freeze();function jf(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Df(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Of(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function m1(t){if(!bm(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function g1(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function ic(t){return I5(t)?t:new AT(t)}function I5(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function C5(t){return typeof t=="string"||A5(t)}function A5(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const N5="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",y1=[],v1={allowDangerousHtml:!0},P5=/^(https?|ircs?|mailto|xmpp)$/i,R5=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function jh(t){const e=j5(t),n=D5(t);return O5(e.runSync(e.parse(n),n),t)}function j5(t){const e=t.rehypePlugins||y1,n=t.remarkPlugins||y1,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...v1}:v1;return T5().use(mV).use(n).use(u5,r).use(e)}function D5(t){const e=t.children||"",n=new AT;return typeof e=="string"&&(n.value=e),n}function O5(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,s=e.disallowedElements,o=e.skipHtml,a=e.unwrapDisallowed,l=e.urlTransform||L5;for(const d of R5)Object.hasOwn(e,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+N5+d.id,void 0);return Oy(t,c),XM(t,{Fragment:h.Fragment,components:i,ignoreInvalidStyle:!0,jsx:h.jsx,jsxs:h.jsxs,passKeys:!0,passNode:!0});function c(d,f,p){if(d.type==="raw"&&p&&typeof f=="number")return o?p.children.splice(f,1):p.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let g;for(g in Tf)if(Object.hasOwn(Tf,g)&&Object.hasOwn(d.properties,g)){const w=d.properties[g],T=Tf[g];(T===null||T.includes(d.tagName))&&(d.properties[g]=l(String(w||""),g,d))}}if(d.type==="element"){let g=n?!n.includes(d.tagName):s?s.includes(d.tagName):!1;if(!g&&r&&typeof f=="number"&&(g=!r(d,f,p)),g&&p&&typeof f=="number")return a&&d.children?p.children.splice(f,1,...d.children):p.children.splice(f,1),f}}}function L5(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||P5.test(t.slice(0,e))?t:""}function M5(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function F5(t,e){if(t==null)return{};var n,r,i=M5(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Sm(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function V5(t){if(Array.isArray(t))return Sm(t)}function z5(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function U5(t,e){if(t){if(typeof t=="string")return Sm(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sm(t,e):void 0}}function $5(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tm(t){return V5(t)||z5(t)||U5(t)||$5()}function Hl(t){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hl(t)}function B5(t,e){if(Hl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function H5(t){var e=B5(t,"string");return Hl(e)=="symbol"?e:e+""}function NT(t,e,n){return(e=H5(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Im(){return Im=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Im.apply(null,arguments)}function x1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x1(Object(n),!0).forEach(function(r){NT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function q5(t){var e=t.length;if(e===0||e===1)return t;if(e===2)return[t[0],t[1],"".concat(t[0],".").concat(t[1]),"".concat(t[1],".").concat(t[0])];if(e===3)return[t[0],t[1],t[2],"".concat(t[0],".").concat(t[1]),"".concat(t[0],".").concat(t[2]),"".concat(t[1],".").concat(t[0]),"".concat(t[1],".").concat(t[2]),"".concat(t[2],".").concat(t[0]),"".concat(t[2],".").concat(t[1]),"".concat(t[0],".").concat(t[1],".").concat(t[2]),"".concat(t[0],".").concat(t[2],".").concat(t[1]),"".concat(t[1],".").concat(t[0],".").concat(t[2]),"".concat(t[1],".").concat(t[2],".").concat(t[0]),"".concat(t[2],".").concat(t[0],".").concat(t[1]),"".concat(t[2],".").concat(t[1],".").concat(t[0])];if(e>=4)return[t[0],t[1],t[2],t[3],"".concat(t[0],".").concat(t[1]),"".concat(t[0],".").concat(t[2]),"".concat(t[0],".").concat(t[3]),"".concat(t[1],".").concat(t[0]),"".concat(t[1],".").concat(t[2]),"".concat(t[1],".").concat(t[3]),"".concat(t[2],".").concat(t[0]),"".concat(t[2],".").concat(t[1]),"".concat(t[2],".").concat(t[3]),"".concat(t[3],".").concat(t[0]),"".concat(t[3],".").concat(t[1]),"".concat(t[3],".").concat(t[2]),"".concat(t[0],".").concat(t[1],".").concat(t[2]),"".concat(t[0],".").concat(t[1],".").concat(t[3]),"".concat(t[0],".").concat(t[2],".").concat(t[1]),"".concat(t[0],".").concat(t[2],".").concat(t[3]),"".concat(t[0],".").concat(t[3],".").concat(t[1]),"".concat(t[0],".").concat(t[3],".").concat(t[2]),"".concat(t[1],".").concat(t[0],".").concat(t[2]),"".concat(t[1],".").concat(t[0],".").concat(t[3]),"".concat(t[1],".").concat(t[2],".").concat(t[0]),"".concat(t[1],".").concat(t[2],".").concat(t[3]),"".concat(t[1],".").concat(t[3],".").concat(t[0]),"".concat(t[1],".").concat(t[3],".").concat(t[2]),"".concat(t[2],".").concat(t[0],".").concat(t[1]),"".concat(t[2],".").concat(t[0],".").concat(t[3]),"".concat(t[2],".").concat(t[1],".").concat(t[0]),"".concat(t[2],".").concat(t[1],".").concat(t[3]),"".concat(t[2],".").concat(t[3],".").concat(t[0]),"".concat(t[2],".").concat(t[3],".").concat(t[1]),"".concat(t[3],".").concat(t[0],".").concat(t[1]),"".concat(t[3],".").concat(t[0],".").concat(t[2]),"".concat(t[3],".").concat(t[1],".").concat(t[0]),"".concat(t[3],".").concat(t[1],".").concat(t[2]),"".concat(t[3],".").concat(t[2],".").concat(t[0]),"".concat(t[3],".").concat(t[2],".").concat(t[1]),"".concat(t[0],".").concat(t[1],".").concat(t[2],".").concat(t[3]),"".concat(t[0],".").concat(t[1],".").concat(t[3],".").concat(t[2]),"".concat(t[0],".").concat(t[2],".").concat(t[1],".").concat(t[3]),"".concat(t[0],".").concat(t[2],".").concat(t[3],".").concat(t[1]),"".concat(t[0],".").concat(t[3],".").concat(t[1],".").concat(t[2]),"".concat(t[0],".").concat(t[3],".").concat(t[2],".").concat(t[1]),"".concat(t[1],".").concat(t[0],".").concat(t[2],".").concat(t[3]),"".concat(t[1],".").concat(t[0],".").concat(t[3],".").concat(t[2]),"".concat(t[1],".").concat(t[2],".").concat(t[0],".").concat(t[3]),"".concat(t[1],".").concat(t[2],".").concat(t[3],".").concat(t[0]),"".concat(t[1],".").concat(t[3],".").concat(t[0],".").concat(t[2]),"".concat(t[1],".").concat(t[3],".").concat(t[2],".").concat(t[0]),"".concat(t[2],".").concat(t[0],".").concat(t[1],".").concat(t[3]),"".concat(t[2],".").concat(t[0],".").concat(t[3],".").concat(t[1]),"".concat(t[2],".").concat(t[1],".").concat(t[0],".").concat(t[3]),"".concat(t[2],".").concat(t[1],".").concat(t[3],".").concat(t[0]),"".concat(t[2],".").concat(t[3],".").concat(t[0],".").concat(t[1]),"".concat(t[2],".").concat(t[3],".").concat(t[1],".").concat(t[0]),"".concat(t[3],".").concat(t[0],".").concat(t[1],".").concat(t[2]),"".concat(t[3],".").concat(t[0],".").concat(t[2],".").concat(t[1]),"".concat(t[3],".").concat(t[1],".").concat(t[0],".").concat(t[2]),"".concat(t[3],".").concat(t[1],".").concat(t[2],".").concat(t[0]),"".concat(t[3],".").concat(t[2],".").concat(t[0],".").concat(t[1]),"".concat(t[3],".").concat(t[2],".").concat(t[1],".").concat(t[0])]}var Lf={};function W5(t){if(t.length===0||t.length===1)return t;var e=t.join(".");return Lf[e]||(Lf[e]=q5(t)),Lf[e]}function G5(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.filter(function(s){return s!=="token"}),i=W5(r);return i.reduce(function(s,o){return wo(wo({},s),n[o])},e)}function w1(t){return t.join(" ")}function K5(t,e){var n=0;return function(r){return n+=1,r.map(function(i,s){return PT({node:i,stylesheet:t,useInlineStyles:e,key:"code-segment-".concat(n,"-").concat(s)})})}}function PT(t){var e=t.node,n=t.stylesheet,r=t.style,i=r===void 0?{}:r,s=t.useInlineStyles,o=t.key,a=e.properties,l=e.type,c=e.tagName,d=e.value;if(l==="text")return d;if(c){var f=K5(n,s),p;if(!s)p=wo(wo({},a),{},{className:w1(a.className)});else{var g=Object.keys(n).reduce(function(E,v){return v.split(".").forEach(function(x){E.includes(x)||E.push(x)}),E},[]),w=a.className&&a.className.includes("token")?["token"]:[],T=a.className&&w.concat(a.className.filter(function(E){return!g.includes(E)}));p=wo(wo({},a),{},{className:w1(T)||void 0,style:G5(a.className,Object.assign({},a.style,i),n)})}var I=f(e.children);return or.createElement(c,Im({key:o},p),I)}}const Q5=function(t,e){var n=t.listLanguages();return n.indexOf(e)!==-1};var Y5=["language","children","style","customStyle","codeTagProps","useInlineStyles","showLineNumbers","showInlineLineNumbers","startingLineNumber","lineNumberContainerStyle","lineNumberStyle","wrapLines","wrapLongLines","lineProps","renderer","PreTag","CodeTag","code","astGenerator"];function _1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_1(Object(n),!0).forEach(function(r){NT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var J5=/\n/g;function X5(t){return t.match(J5)}function Z5(t){var e=t.lines,n=t.startingLineNumber,r=t.style;return e.map(function(i,s){var o=s+n;return or.createElement("span",{key:"line-".concat(s),className:"react-syntax-highlighter-line-number",style:typeof r=="function"?r(o):r},"".concat(o,`
`))})}function ez(t){var e=t.codeString,n=t.codeStyle,r=t.containerStyle,i=r===void 0?{float:"left",paddingRight:"10px"}:r,s=t.numberStyle,o=s===void 0?{}:s,a=t.startingLineNumber;return or.createElement("code",{style:Object.assign({},n,i)},Z5({lines:e.replace(/\n$/,"").split(`
`),style:o,startingLineNumber:a}))}function tz(t){return"".concat(t.toString().length,".25em")}function RT(t,e){return{type:"element",tagName:"span",properties:{key:"line-number--".concat(t),className:["comment","linenumber","react-syntax-highlighter-line-number"],style:e},children:[{type:"text",value:t}]}}function jT(t,e,n){var r={display:"inline-block",minWidth:tz(n),paddingRight:"1em",textAlign:"right",userSelect:"none"},i=typeof t=="function"?t(e):t,s=mi(mi({},r),i);return s}function Dc(t){var e=t.children,n=t.lineNumber,r=t.lineNumberStyle,i=t.largestLineNumber,s=t.showInlineLineNumbers,o=t.lineProps,a=o===void 0?{}:o,l=t.className,c=l===void 0?[]:l,d=t.showLineNumbers,f=t.wrapLongLines,p=t.wrapLines,g=p===void 0?!1:p,w=g?mi({},typeof a=="function"?a(n):a):{};if(w.className=w.className?[].concat(Tm(w.className.trim().split(/\s+/)),Tm(c)):c,n&&s){var T=jT(r,n,i);e.unshift(RT(n,T))}return f&d&&(w.style=mi({display:"flex"},w.style)),{type:"element",tagName:"span",properties:w,children:e}}function DT(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=0;r<t.length;r++){var i=t[r];if(i.type==="text")n.push(Dc({children:[i],className:Tm(new Set(e))}));else if(i.children){var s=e.concat(i.properties.className);DT(i.children,s).forEach(function(o){return n.push(o)})}}return n}function nz(t,e,n,r,i,s,o,a,l){var c,d=DT(t.value),f=[],p=-1,g=0;function w(O,A){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return Dc({children:O,lineNumber:A,lineNumberStyle:a,largestLineNumber:o,showInlineLineNumbers:i,lineProps:n,className:k,showLineNumbers:r,wrapLongLines:l,wrapLines:e})}function T(O,A){if(r&&A&&i){var k=jT(a,A,o);O.unshift(RT(A,k))}return O}function I(O,A){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return e||k.length>0?w(O,A,k):T(O,A)}for(var E=function(){var A=d[g],k=A.children[0].value,b=X5(k);if(b){var S=k.split(`
`);S.forEach(function(_,P){var D=r&&f.length+s,R={type:"text",value:"".concat(_,`
`)};if(P===0){var q=d.slice(p+1,g).concat(Dc({children:[R],className:A.properties.className})),Q=I(q,D);f.push(Q)}else if(P===S.length-1){var ce=d[g+1]&&d[g+1].children&&d[g+1].children[0],se={type:"text",value:"".concat(_)};if(ce){var U=Dc({children:[se],className:A.properties.className});d.splice(g+1,0,U)}else{var Y=[se],j=I(Y,D,A.properties.className);f.push(j)}}else{var J=[R],ne=I(J,D,A.properties.className);f.push(ne)}}),p=g}g++};g<d.length;)E();if(p!==d.length-1){var v=d.slice(p+1,d.length);if(v&&v.length){var x=r&&f.length+s,N=I(v,x);f.push(N)}}return e?f:(c=[]).concat.apply(c,f)}function rz(t){var e=t.rows,n=t.stylesheet,r=t.useInlineStyles;return e.map(function(i,s){return PT({node:i,stylesheet:n,useInlineStyles:r,key:"code-segement".concat(s)})})}function OT(t){return t&&typeof t.highlightAuto<"u"}function iz(t){var e=t.astGenerator,n=t.language,r=t.code,i=t.defaultCodeValue;if(OT(e)){var s=Q5(e,n);return n==="text"?{value:i,language:"text"}:s?e.highlight(n,r):e.highlightAuto(r)}try{return n&&n!=="text"?{value:e.highlight(r,n)}:{value:i}}catch{return{value:i}}}function sz(t,e){return function(r){var i=r.language,s=r.children,o=r.style,a=o===void 0?e:o,l=r.customStyle,c=l===void 0?{}:l,d=r.codeTagProps,f=d===void 0?{className:i?"language-".concat(i):void 0,style:mi(mi({},a['code[class*="language-"]']),a['code[class*="language-'.concat(i,'"]')])}:d,p=r.useInlineStyles,g=p===void 0?!0:p,w=r.showLineNumbers,T=w===void 0?!1:w,I=r.showInlineLineNumbers,E=I===void 0?!0:I,v=r.startingLineNumber,x=v===void 0?1:v,N=r.lineNumberContainerStyle,O=r.lineNumberStyle,A=O===void 0?{}:O,k=r.wrapLines,b=r.wrapLongLines,S=b===void 0?!1:b,_=r.lineProps,P=_===void 0?{}:_,D=r.renderer,R=r.PreTag,q=R===void 0?"pre":R,Q=r.CodeTag,ce=Q===void 0?"code":Q,se=r.code,U=se===void 0?(Array.isArray(s)?s[0]:s)||"":se,Y=r.astGenerator,j=F5(r,Y5);Y=Y||t;var J=T?or.createElement(ez,{containerStyle:N,codeStyle:f.style||{},numberStyle:A,startingLineNumber:x,codeString:U}):null,ne=a.hljs||a['pre[class*="language-"]']||{backgroundColor:"#fff"},L=OT(Y)?"hljs":"prismjs",ge=g?Object.assign({},j,{style:Object.assign({},ne,c)}):Object.assign({},j,{className:j.className?"".concat(L," ").concat(j.className):L,style:Object.assign({},c)});if(S?f.style=mi({whiteSpace:"pre-wrap"},f.style):f.style=mi({whiteSpace:"pre"},f.style),!Y)return or.createElement(q,ge,J,or.createElement(ce,f,U));(k===void 0&&D||S)&&(k=!0),D=D||rz;var Ne=[{type:"text",value:U}],he=iz({astGenerator:Y,language:i,code:U,defaultCodeValue:Ne});he.language===null&&(he.value=Ne);var X=he.value.length;X===1&&he.value[0].type==="text"&&(X=he.value[0].value.split(`
`).length);var pe=X+x,ve=nz(he,k,P,T,E,x,pe,A,S);return or.createElement(q,ge,or.createElement(ce,f,!E&&J,D({rows:ve,stylesheet:a,useInlineStyles:g})))}}var oz=lz,az=Object.prototype.hasOwnProperty;function lz(){for(var t={},e=0;e<arguments.length;e++){var n=arguments[e];for(var r in n)az.call(n,r)&&(t[r]=n[r])}return t}var LT=MT,My=MT.prototype;My.space=null;My.normal={};My.property={};function MT(t,e,n){this.property=t,this.normal=e,n&&(this.space=n)}var E1=oz,uz=LT,cz=hz;function hz(t){for(var e=t.length,n=[],r=[],i=-1,s,o;++i<e;)s=t[i],n.push(s.property),r.push(s.normal),o=s.space;return new uz(E1.apply(null,n),E1.apply(null,r),o)}var Fy=dz;function dz(t){return t.toLowerCase()}var FT=VT,Mn=VT.prototype;Mn.space=null;Mn.attribute=null;Mn.property=null;Mn.boolean=!1;Mn.booleanish=!1;Mn.overloadedBoolean=!1;Mn.number=!1;Mn.commaSeparated=!1;Mn.spaceSeparated=!1;Mn.commaOrSpaceSeparated=!1;Mn.mustUseProperty=!1;Mn.defined=!1;function VT(t,e){this.property=t,this.attribute=e}var xr={},fz=0;xr.boolean=Hs();xr.booleanish=Hs();xr.overloadedBoolean=Hs();xr.number=Hs();xr.spaceSeparated=Hs();xr.commaSeparated=Hs();xr.commaOrSpaceSeparated=Hs();function Hs(){return Math.pow(2,++fz)}var zT=FT,b1=xr,UT=Vy;Vy.prototype=new zT;Vy.prototype.defined=!0;var $T=["boolean","booleanish","overloadedBoolean","number","commaSeparated","spaceSeparated","commaOrSpaceSeparated"],pz=$T.length;function Vy(t,e,n,r){var i=-1,s;for(k1(this,"space",r),zT.call(this,t,e);++i<pz;)s=$T[i],k1(this,s,(n&b1[s])===b1[s])}function k1(t,e,n){n&&(t[e]=n)}var S1=Fy,mz=LT,gz=UT,du=yz;function yz(t){var e=t.space,n=t.mustUseProperty||[],r=t.attributes||{},i=t.properties,s=t.transform,o={},a={},l,c;for(l in i)c=new gz(l,s(r,l),i[l],e),n.indexOf(l)!==-1&&(c.mustUseProperty=!0),o[l]=c,a[S1(l)]=l,a[S1(c.attribute)]=l;return new mz(o,a,e)}var vz=du,xz=vz({space:"xlink",transform:wz,properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}});function wz(t,e){return"xlink:"+e.slice(5).toLowerCase()}var _z=du,Ez=_z({space:"xml",transform:bz,properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function bz(t,e){return"xml:"+e.slice(3).toLowerCase()}var kz=Sz;function Sz(t,e){return e in t?t[e]:e}var Tz=kz,BT=Iz;function Iz(t,e){return Tz(t,e.toLowerCase())}var Cz=du,Az=BT,Nz=Cz({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:Az,properties:{xmlns:null,xmlnsXLink:null}}),zy=xr,Pz=du,rn=zy.booleanish,Tn=zy.number,us=zy.spaceSeparated,Rz=Pz({transform:jz,properties:{ariaActiveDescendant:null,ariaAtomic:rn,ariaAutoComplete:null,ariaBusy:rn,ariaChecked:rn,ariaColCount:Tn,ariaColIndex:Tn,ariaColSpan:Tn,ariaControls:us,ariaCurrent:null,ariaDescribedBy:us,ariaDetails:null,ariaDisabled:rn,ariaDropEffect:us,ariaErrorMessage:null,ariaExpanded:rn,ariaFlowTo:us,ariaGrabbed:rn,ariaHasPopup:null,ariaHidden:rn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:us,ariaLevel:Tn,ariaLive:null,ariaModal:rn,ariaMultiLine:rn,ariaMultiSelectable:rn,ariaOrientation:null,ariaOwns:us,ariaPlaceholder:null,ariaPosInSet:Tn,ariaPressed:rn,ariaReadOnly:rn,ariaRelevant:null,ariaRequired:rn,ariaRoleDescription:us,ariaRowCount:Tn,ariaRowIndex:Tn,ariaRowSpan:Tn,ariaSelected:rn,ariaSetSize:Tn,ariaSort:null,ariaValueMax:Tn,ariaValueMin:Tn,ariaValueNow:Tn,ariaValueText:null,role:null}});function jz(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}var ca=xr,Dz=du,Oz=BT,be=ca.boolean,Lz=ca.overloadedBoolean,ja=ca.booleanish,Ge=ca.number,Qt=ca.spaceSeparated,sc=ca.commaSeparated,Mz=Dz({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:Oz,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:sc,acceptCharset:Qt,accessKey:Qt,action:null,allow:null,allowFullScreen:be,allowPaymentRequest:be,allowUserMedia:be,alt:null,as:null,async:be,autoCapitalize:null,autoComplete:Qt,autoFocus:be,autoPlay:be,capture:be,charSet:null,checked:be,cite:null,className:Qt,cols:Ge,colSpan:null,content:null,contentEditable:ja,controls:be,controlsList:Qt,coords:Ge|sc,crossOrigin:null,data:null,dateTime:null,decoding:null,default:be,defer:be,dir:null,dirName:null,disabled:be,download:Lz,draggable:ja,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:be,formTarget:null,headers:Qt,height:Ge,hidden:be,high:Ge,href:null,hrefLang:null,htmlFor:Qt,httpEquiv:Qt,id:null,imageSizes:null,imageSrcSet:sc,inputMode:null,integrity:null,is:null,isMap:be,itemId:null,itemProp:Qt,itemRef:Qt,itemScope:be,itemType:Qt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:be,low:Ge,manifest:null,max:null,maxLength:Ge,media:null,method:null,min:null,minLength:Ge,multiple:be,muted:be,name:null,nonce:null,noModule:be,noValidate:be,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextMenu:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:be,optimum:Ge,pattern:null,ping:Qt,placeholder:null,playsInline:be,poster:null,preload:null,readOnly:be,referrerPolicy:null,rel:Qt,required:be,reversed:be,rows:Ge,rowSpan:Ge,sandbox:Qt,scope:null,scoped:be,seamless:be,selected:be,shape:null,size:Ge,sizes:null,slot:null,span:Ge,spellCheck:ja,src:null,srcDoc:null,srcLang:null,srcSet:sc,start:Ge,step:null,style:null,tabIndex:Ge,target:null,title:null,translate:null,type:null,typeMustMatch:be,useMap:null,value:ja,width:Ge,wrap:null,align:null,aLink:null,archive:Qt,axis:null,background:null,bgColor:null,border:Ge,borderColor:null,bottomMargin:Ge,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:be,declare:be,event:null,face:null,frame:null,frameBorder:null,hSpace:Ge,leftMargin:Ge,link:null,longDesc:null,lowSrc:null,marginHeight:Ge,marginWidth:Ge,noResize:be,noHref:be,noShade:be,noWrap:be,object:null,profile:null,prompt:null,rev:null,rightMargin:Ge,rules:null,scheme:null,scrolling:ja,standby:null,summary:null,text:null,topMargin:Ge,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ge,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:be,disableRemotePlayback:be,prefix:null,property:null,results:Ge,security:null,unselectable:null}}),Fz=cz,Vz=xz,zz=Ez,Uz=Nz,$z=Rz,Bz=Mz,Hz=Fz([zz,Vz,Uz,$z,Bz]),qz=Fy,Wz=UT,Gz=FT,Uy="data",Kz=Jz,Qz=/^data[-\w.:]+$/i,HT=/-[a-z]/g,Yz=/[A-Z]/g;function Jz(t,e){var n=qz(e),r=e,i=Gz;return n in t.normal?t.property[t.normal[n]]:(n.length>4&&n.slice(0,4)===Uy&&Qz.test(e)&&(e.charAt(4)==="-"?r=Xz(e):e=Zz(e),i=Wz),new i(r,e))}function Xz(t){var e=t.slice(5).replace(HT,t9);return Uy+e.charAt(0).toUpperCase()+e.slice(1)}function Zz(t){var e=t.slice(4);return HT.test(e)?t:(e=e.replace(Yz,e9),e.charAt(0)!=="-"&&(e="-"+e),Uy+e)}function e9(t){return"-"+t.toLowerCase()}function t9(t){return t.charAt(1).toUpperCase()}var n9=r9,T1=/[#.]/g;function r9(t,e){for(var n=t||"",r=e||"div",i={},s=0,o,a,l;s<n.length;)T1.lastIndex=s,l=T1.exec(n),o=n.slice(s,l?l.index:n.length),o&&(a?a==="#"?i.id=o:i.className?i.className.push(o):i.className=[o]:r=o,s+=o.length),l&&(a=l[0],s++);return{type:"element",tagName:r,properties:i,children:[]}}var $y={};$y.parse=o9;$y.stringify=a9;var I1="",i9=" ",s9=/[ \t\n\r\f]+/g;function o9(t){var e=String(t||I1).trim();return e===I1?[]:e.split(s9)}function a9(t){return t.join(i9).trim()}var By={};By.parse=l9;By.stringify=u9;var Cm=",",C1=" ",Ha="";function l9(t){for(var e=[],n=String(t||Ha),r=n.indexOf(Cm),i=0,s=!1,o;!s;)r===-1&&(r=n.length,s=!0),o=n.slice(i,r).trim(),(o||!s)&&e.push(o),i=r+1,r=n.indexOf(Cm,i);return e}function u9(t,e){var n=e||{},r=n.padLeft===!1?Ha:C1,i=n.padRight?C1:Ha;return t[t.length-1]===Ha&&(t=t.concat(Ha)),t.join(i+Cm+r).trim()}var c9=Kz,A1=Fy,h9=n9,N1=$y.parse,P1=By.parse,d9=p9,f9={}.hasOwnProperty;function p9(t,e,n){var r=n?x9(n):null;return i;function i(o,a){var l=h9(o,e),c=Array.prototype.slice.call(arguments,2),d=l.tagName.toLowerCase(),f;if(l.tagName=r&&f9.call(r,d)?r[d]:d,a&&m9(a,l)&&(c.unshift(a),a=null),a)for(f in a)s(l.properties,f,a[f]);return qT(l.children,c),l.tagName==="template"&&(l.content={type:"root",children:l.children},l.children=[]),l}function s(o,a,l){var c,d,f;l==null||l!==l||(c=c9(t,a),d=c.property,f=l,typeof f=="string"&&(c.spaceSeparated?f=N1(f):c.commaSeparated?f=P1(f):c.commaOrSpaceSeparated&&(f=N1(P1(f).join(" ")))),d==="style"&&typeof l!="string"&&(f=v9(f)),d==="className"&&o.className&&(f=o.className.concat(f)),o[d]=y9(c,d,f))}}function m9(t,e){return typeof t=="string"||"length"in t||g9(e.tagName,t)}function g9(t,e){var n=e.type;return t==="input"||!n||typeof n!="string"?!1:typeof e.children=="object"&&"length"in e.children?!0:(n=n.toLowerCase(),t==="button"?n!=="menu"&&n!=="submit"&&n!=="reset"&&n!=="button":"value"in e)}function qT(t,e){var n,r;if(typeof e=="string"||typeof e=="number"){t.push({type:"text",value:String(e)});return}if(typeof e=="object"&&"length"in e){for(n=-1,r=e.length;++n<r;)qT(t,e[n]);return}if(typeof e!="object"||!("type"in e))throw new Error("Expected node, nodes, or string, got `"+e+"`");t.push(e)}function y9(t,e,n){var r,i,s;if(typeof n!="object"||!("length"in n))return R1(t,e,n);for(i=n.length,r=-1,s=[];++r<i;)s[r]=R1(t,e,n[r]);return s}function R1(t,e,n){var r=n;return t.number||t.positiveNumber?!isNaN(r)&&r!==""&&(r=Number(r)):(t.boolean||t.overloadedBoolean)&&typeof r=="string"&&(r===""||A1(n)===A1(e))&&(r=!0),r}function v9(t){var e=[],n;for(n in t)e.push([n,t[n]].join(": "));return e.join("; ")}function x9(t){for(var e=t.length,n=-1,r={},i;++n<e;)i=t[n],r[i.toLowerCase()]=i;return r}var w9=Hz,_9=d9,WT=_9(w9,"div");WT.displayName="html";var E9=WT,b9=E9;const k9="",S9="&",T9="",I9="",C9="",A9="",N9="",P9="",R9="",j9="",D9="",O9="",L9="",M9="",F9="",V9=">",z9="",U9="",$9="",B9="",H9="<",q9="",W9="",G9="",K9="",Q9="",Y9="",J9="",X9='"',Z9="",eU="",tU="",nU="",rU="",iU="",sU="",oU="",aU="",lU="",uU="",cU="",hU="&",dU="",fU="",pU="",mU="",gU="",yU="",vU="",xU="",wU="",_U="",EU="",bU="",kU="",SU="",TU="",IU="",CU="",AU="",NU="",PU=">",RU="",jU="",DU="",OU="",LU="",MU="",FU="",VU="<",zU="",UU="",$U="",BU="",HU="",qU="",WU="",GU="",KU="",QU="",YU="",JU="",XU="",ZU="",e$="",t$="",n$="",r$='"',i$="",s$="",o$="",a$="",l$="",u$="",c$="",h$="",d$="",f$="",p$="",m$="",g$="",y$="",v$="",x$="",w$="",_$="",E$={AElig:k9,AMP:S9,Aacute:T9,Acirc:I9,Agrave:C9,Aring:A9,Atilde:N9,Auml:P9,COPY:R9,Ccedil:j9,ETH:D9,Eacute:O9,Ecirc:L9,Egrave:M9,Euml:F9,GT:V9,Iacute:z9,Icirc:U9,Igrave:$9,Iuml:B9,LT:H9,Ntilde:q9,Oacute:W9,Ocirc:G9,Ograve:K9,Oslash:Q9,Otilde:Y9,Ouml:J9,QUOT:X9,REG:Z9,THORN:eU,Uacute:tU,Ucirc:nU,Ugrave:rU,Uuml:iU,Yacute:sU,aacute:oU,acirc:aU,acute:lU,aelig:uU,agrave:cU,amp:hU,aring:dU,atilde:fU,auml:pU,brvbar:mU,ccedil:gU,cedil:yU,cent:vU,copy:xU,curren:wU,deg:_U,divide:EU,eacute:bU,ecirc:kU,egrave:SU,eth:TU,euml:IU,frac12:CU,frac14:AU,frac34:NU,gt:PU,iacute:RU,icirc:jU,iexcl:DU,igrave:OU,iquest:LU,iuml:MU,laquo:FU,lt:VU,macr:zU,micro:UU,middot:$U,nbsp:BU,not:HU,ntilde:qU,oacute:WU,ocirc:GU,ograve:KU,ordf:QU,ordm:YU,oslash:JU,otilde:XU,ouml:ZU,para:e$,plusmn:t$,pound:n$,quot:r$,raquo:i$,reg:s$,sect:o$,shy:a$,sup1:l$,sup2:u$,sup3:c$,szlig:h$,thorn:d$,times:f$,uacute:p$,ucirc:m$,ugrave:g$,uml:y$,uuml:v$,yacute:x$,yen:w$,yuml:_$},b$={0:"",128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""};var GT=k$;function k$(t){var e=typeof t=="string"?t.charCodeAt(0):t;return e>=48&&e<=57}var S$=T$;function T$(t){var e=typeof t=="string"?t.charCodeAt(0):t;return e>=97&&e<=102||e>=65&&e<=70||e>=48&&e<=57}var I$=C$;function C$(t){var e=typeof t=="string"?t.charCodeAt(0):t;return e>=97&&e<=122||e>=65&&e<=90}var A$=I$,N$=GT,P$=R$;function R$(t){return A$(t)||N$(t)}var oc,j$=59,D$=O$;function O$(t){var e="&"+t+";",n;return oc=oc||document.createElement("i"),oc.innerHTML=e,n=oc.textContent,n.charCodeAt(n.length-1)===j$&&t!=="semi"||n===e?!1:n}var j1=E$,D1=b$,L$=GT,M$=S$,KT=P$,F$=D$,V$=X$,z$={}.hasOwnProperty,Zs=String.fromCharCode,U$=Function.prototype,O1={warning:null,reference:null,text:null,warningContext:null,referenceContext:null,textContext:null,position:{},additional:null,attribute:!1,nonTerminated:!0},$$=9,L1=10,B$=12,H$=32,M1=38,q$=59,W$=60,G$=61,K$=35,Q$=88,Y$=120,J$=65533,io="named",Hy="hexadecimal",qy="decimal",Wy={};Wy[Hy]=16;Wy[qy]=10;var Ad={};Ad[io]=KT;Ad[qy]=L$;Ad[Hy]=M$;var QT=1,YT=2,JT=3,XT=4,ZT=5,Am=6,eI=7,Xi={};Xi[QT]="Named character references must be terminated by a semicolon";Xi[YT]="Numeric character references must be terminated by a semicolon";Xi[JT]="Named character references cannot be empty";Xi[XT]="Numeric character references cannot be empty";Xi[ZT]="Named character references must be known";Xi[Am]="Numeric character references cannot be disallowed";Xi[eI]="Numeric character references cannot be outside the permissible Unicode range";function X$(t,e){var n={},r,i;e||(e={});for(i in O1)r=e[i],n[i]=r??O1[i];return(n.position.indent||n.position.start)&&(n.indent=n.position.indent||[],n.position=n.position.start),Z$(t,n)}function Z$(t,e){var n=e.additional,r=e.nonTerminated,i=e.text,s=e.reference,o=e.warning,a=e.textContext,l=e.referenceContext,c=e.warningContext,d=e.position,f=e.indent||[],p=t.length,g=0,w=-1,T=d.column||1,I=d.line||1,E="",v=[],x,N,O,A,k,b,S,_,P,D,R,q,Q,ce,se,U,Y,j,J;for(typeof n=="string"&&(n=n.charCodeAt(0)),U=ne(),_=o?L:U$,g--,p++;++g<p;)if(k===L1&&(T=f[w]||1),k=t.charCodeAt(g),k===M1){if(S=t.charCodeAt(g+1),S===$$||S===L1||S===B$||S===H$||S===M1||S===W$||S!==S||n&&S===n){E+=Zs(k),T++;continue}for(Q=g+1,q=Q,J=Q,S===K$?(J=++q,S=t.charCodeAt(J),S===Q$||S===Y$?(ce=Hy,J=++q):ce=qy):ce=io,x="",R="",A="",se=Ad[ce],J--;++J<p&&(S=t.charCodeAt(J),!!se(S));)A+=Zs(S),ce===io&&z$.call(j1,A)&&(x=A,R=j1[A]);O=t.charCodeAt(J)===q$,O&&(J++,N=ce===io?F$(A):!1,N&&(x=A,R=N)),j=1+J-Q,!O&&!r||(A?ce===io?(O&&!R?_(ZT,1):(x!==A&&(J=q+x.length,j=1+J-q,O=!1),O||(P=x?QT:JT,e.attribute?(S=t.charCodeAt(J),S===G$?(_(P,j),R=null):KT(S)?R=null:_(P,j)):_(P,j))),b=R):(O||_(YT,j),b=parseInt(A,Wy[ce]),e8(b)?(_(eI,j),b=Zs(J$)):b in D1?(_(Am,j),b=D1[b]):(D="",t8(b)&&_(Am,j),b>65535&&(b-=65536,D+=Zs(b>>>10|55296),b=56320|b&1023),b=D+Zs(b))):ce!==io&&_(XT,j)),b?(ge(),U=ne(),g=J-1,T+=J-Q+1,v.push(b),Y=ne(),Y.offset++,s&&s.call(l,b,{start:U,end:Y},t.slice(Q-1,J)),U=Y):(A=t.slice(Q-1,J),E+=A,T+=A.length,g=J-1)}else k===10&&(I++,w++,T=0),k===k?(E+=Zs(k),T++):ge();return v.join("");function ne(){return{line:I,column:T,offset:g+(d.offset||0)}}function L(Ne,he){var X=ne();X.column+=he,X.offset+=he,o.call(c,Xi[Ne],X,Ne)}function ge(){E&&(v.push(E),i&&i.call(a,E,{start:U,end:ne()}),E="")}}function e8(t){return t>=55296&&t<=57343||t>1114111}function t8(t){return t>=1&&t<=8||t===11||t>=13&&t<=31||t>=127&&t<=159||t>=64976&&t<=65007||(t&65535)===65535||(t&65535)===65534}var tI={exports:{}};(function(t){var e=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var n=function(r){var i=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,s=0,o={},a={manual:r.Prism&&r.Prism.manual,disableWorkerMessageHandler:r.Prism&&r.Prism.disableWorkerMessageHandler,util:{encode:function v(x){return x instanceof l?new l(x.type,v(x.content),x.alias):Array.isArray(x)?x.map(v):x.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(v){return Object.prototype.toString.call(v).slice(8,-1)},objId:function(v){return v.__id||Object.defineProperty(v,"__id",{value:++s}),v.__id},clone:function v(x,N){N=N||{};var O,A;switch(a.util.type(x)){case"Object":if(A=a.util.objId(x),N[A])return N[A];O={},N[A]=O;for(var k in x)x.hasOwnProperty(k)&&(O[k]=v(x[k],N));return O;case"Array":return A=a.util.objId(x),N[A]?N[A]:(O=[],N[A]=O,x.forEach(function(b,S){O[S]=v(b,N)}),O);default:return x}},getLanguage:function(v){for(;v;){var x=i.exec(v.className);if(x)return x[1].toLowerCase();v=v.parentElement}return"none"},setLanguage:function(v,x){v.className=v.className.replace(RegExp(i,"gi"),""),v.classList.add("language-"+x)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(O){var v=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(O.stack)||[])[1];if(v){var x=document.getElementsByTagName("script");for(var N in x)if(x[N].src==v)return x[N]}return null}},isActive:function(v,x,N){for(var O="no-"+x;v;){var A=v.classList;if(A.contains(x))return!0;if(A.contains(O))return!1;v=v.parentElement}return!!N}},languages:{plain:o,plaintext:o,text:o,txt:o,extend:function(v,x){var N=a.util.clone(a.languages[v]);for(var O in x)N[O]=x[O];return N},insertBefore:function(v,x,N,O){O=O||a.languages;var A=O[v],k={};for(var b in A)if(A.hasOwnProperty(b)){if(b==x)for(var S in N)N.hasOwnProperty(S)&&(k[S]=N[S]);N.hasOwnProperty(b)||(k[b]=A[b])}var _=O[v];return O[v]=k,a.languages.DFS(a.languages,function(P,D){D===_&&P!=v&&(this[P]=k)}),k},DFS:function v(x,N,O,A){A=A||{};var k=a.util.objId;for(var b in x)if(x.hasOwnProperty(b)){N.call(x,b,x[b],O||b);var S=x[b],_=a.util.type(S);_==="Object"&&!A[k(S)]?(A[k(S)]=!0,v(S,N,null,A)):_==="Array"&&!A[k(S)]&&(A[k(S)]=!0,v(S,N,b,A))}}},plugins:{},highlightAll:function(v,x){a.highlightAllUnder(document,v,x)},highlightAllUnder:function(v,x,N){var O={callback:N,container:v,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};a.hooks.run("before-highlightall",O),O.elements=Array.prototype.slice.apply(O.container.querySelectorAll(O.selector)),a.hooks.run("before-all-elements-highlight",O);for(var A=0,k;k=O.elements[A++];)a.highlightElement(k,x===!0,O.callback)},highlightElement:function(v,x,N){var O=a.util.getLanguage(v),A=a.languages[O];a.util.setLanguage(v,O);var k=v.parentElement;k&&k.nodeName.toLowerCase()==="pre"&&a.util.setLanguage(k,O);var b=v.textContent,S={element:v,language:O,grammar:A,code:b};function _(D){S.highlightedCode=D,a.hooks.run("before-insert",S),S.element.innerHTML=S.highlightedCode,a.hooks.run("after-highlight",S),a.hooks.run("complete",S),N&&N.call(S.element)}if(a.hooks.run("before-sanity-check",S),k=S.element.parentElement,k&&k.nodeName.toLowerCase()==="pre"&&!k.hasAttribute("tabindex")&&k.setAttribute("tabindex","0"),!S.code){a.hooks.run("complete",S),N&&N.call(S.element);return}if(a.hooks.run("before-highlight",S),!S.grammar){_(a.util.encode(S.code));return}if(x&&r.Worker){var P=new Worker(a.filename);P.onmessage=function(D){_(D.data)},P.postMessage(JSON.stringify({language:S.language,code:S.code,immediateClose:!0}))}else _(a.highlight(S.code,S.grammar,S.language))},highlight:function(v,x,N){var O={code:v,grammar:x,language:N};if(a.hooks.run("before-tokenize",O),!O.grammar)throw new Error('The language "'+O.language+'" has no grammar.');return O.tokens=a.tokenize(O.code,O.grammar),a.hooks.run("after-tokenize",O),l.stringify(a.util.encode(O.tokens),O.language)},tokenize:function(v,x){var N=x.rest;if(N){for(var O in N)x[O]=N[O];delete x.rest}var A=new f;return p(A,A.head,v),d(v,A,x,A.head,0),w(A)},hooks:{all:{},add:function(v,x){var N=a.hooks.all;N[v]=N[v]||[],N[v].push(x)},run:function(v,x){var N=a.hooks.all[v];if(!(!N||!N.length))for(var O=0,A;A=N[O++];)A(x)}},Token:l};r.Prism=a;function l(v,x,N,O){this.type=v,this.content=x,this.alias=N,this.length=(O||"").length|0}l.stringify=function v(x,N){if(typeof x=="string")return x;if(Array.isArray(x)){var O="";return x.forEach(function(_){O+=v(_,N)}),O}var A={type:x.type,content:v(x.content,N),tag:"span",classes:["token",x.type],attributes:{},language:N},k=x.alias;k&&(Array.isArray(k)?Array.prototype.push.apply(A.classes,k):A.classes.push(k)),a.hooks.run("wrap",A);var b="";for(var S in A.attributes)b+=" "+S+'="'+(A.attributes[S]||"").replace(/"/g,"&quot;")+'"';return"<"+A.tag+' class="'+A.classes.join(" ")+'"'+b+">"+A.content+"</"+A.tag+">"};function c(v,x,N,O){v.lastIndex=x;var A=v.exec(N);if(A&&O&&A[1]){var k=A[1].length;A.index+=k,A[0]=A[0].slice(k)}return A}function d(v,x,N,O,A,k){for(var b in N)if(!(!N.hasOwnProperty(b)||!N[b])){var S=N[b];S=Array.isArray(S)?S:[S];for(var _=0;_<S.length;++_){if(k&&k.cause==b+","+_)return;var P=S[_],D=P.inside,R=!!P.lookbehind,q=!!P.greedy,Q=P.alias;if(q&&!P.pattern.global){var ce=P.pattern.toString().match(/[imsuy]*$/)[0];P.pattern=RegExp(P.pattern.source,ce+"g")}for(var se=P.pattern||P,U=O.next,Y=A;U!==x.tail&&!(k&&Y>=k.reach);Y+=U.value.length,U=U.next){var j=U.value;if(x.length>v.length)return;if(!(j instanceof l)){var J=1,ne;if(q){if(ne=c(se,Y,v,R),!ne||ne.index>=v.length)break;var he=ne.index,L=ne.index+ne[0].length,ge=Y;for(ge+=U.value.length;he>=ge;)U=U.next,ge+=U.value.length;if(ge-=U.value.length,Y=ge,U.value instanceof l)continue;for(var Ne=U;Ne!==x.tail&&(ge<L||typeof Ne.value=="string");Ne=Ne.next)J++,ge+=Ne.value.length;J--,j=v.slice(Y,ge),ne.index-=Y}else if(ne=c(se,0,j,R),!ne)continue;var he=ne.index,X=ne[0],pe=j.slice(0,he),ve=j.slice(he+X.length),ke=Y+j.length;k&&ke>k.reach&&(k.reach=ke);var Fe=U.prev;pe&&(Fe=p(x,Fe,pe),Y+=pe.length),g(x,Fe,J);var pn=new l(b,D?a.tokenize(X,D):X,Q,X);if(U=p(x,Fe,pn),ve&&p(x,U,ve),J>1){var Fn={cause:b+","+_,reach:ke};d(v,x,N,U.prev,Y,Fn),k&&Fn.reach>k.reach&&(k.reach=Fn.reach)}}}}}}function f(){var v={value:null,prev:null,next:null},x={value:null,prev:v,next:null};v.next=x,this.head=v,this.tail=x,this.length=0}function p(v,x,N){var O=x.next,A={value:N,prev:x,next:O};return x.next=A,O.prev=A,v.length++,A}function g(v,x,N){for(var O=x.next,A=0;A<N&&O!==v.tail;A++)O=O.next;x.next=O,O.prev=x,v.length-=A}function w(v){for(var x=[],N=v.head.next;N!==v.tail;)x.push(N.value),N=N.next;return x}if(!r.document)return r.addEventListener&&(a.disableWorkerMessageHandler||r.addEventListener("message",function(v){var x=JSON.parse(v.data),N=x.language,O=x.code,A=x.immediateClose;r.postMessage(a.highlight(O,a.languages[N],N)),A&&r.close()},!1)),a;var T=a.util.currentScript();T&&(a.filename=T.src,T.hasAttribute("data-manual")&&(a.manual=!0));function I(){a.manual||a.highlightAll()}if(!a.manual){var E=document.readyState;E==="loading"||E==="interactive"&&T&&T.defer?document.addEventListener("DOMContentLoaded",I):window.requestAnimationFrame?window.requestAnimationFrame(I):window.setTimeout(I,16)}return a}(e);t.exports&&(t.exports=n),typeof Pi<"u"&&(Pi.Prism=n)})(tI);var n8=tI.exports,r8=Gy;Gy.displayName="markup";Gy.aliases=["html","mathml","svg","xml","ssml","atom","rss"];function Gy(t){t.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},t.languages.markup.tag.inside["attr-value"].inside.entity=t.languages.markup.entity,t.languages.markup.doctype.inside["internal-subset"].inside=t.languages.markup,t.hooks.add("wrap",function(e){e.type==="entity"&&(e.attributes.title=e.content.value.replace(/&amp;/,"&"))}),Object.defineProperty(t.languages.markup.tag,"addInlined",{value:function(n,r){var i={};i["language-"+r]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:t.languages[r]},i.cdata=/^<!\[CDATA\[|\]\]>$/i;var s={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:i}};s["language-"+r]={pattern:/[\s\S]+/,inside:t.languages[r]};var o={};o[n]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return n}),"i"),lookbehind:!0,greedy:!0,inside:s},t.languages.insertBefore("markup","cdata",o)}}),Object.defineProperty(t.languages.markup.tag,"addAttribute",{value:function(e,n){t.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+e+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[n,"language-"+n],inside:t.languages[n]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),t.languages.html=t.languages.markup,t.languages.mathml=t.languages.markup,t.languages.svg=t.languages.markup,t.languages.xml=t.languages.extend("markup",{}),t.languages.ssml=t.languages.xml,t.languages.atom=t.languages.xml,t.languages.rss=t.languages.xml}var i8=Ky;Ky.displayName="css";Ky.aliases=[];function Ky(t){(function(e){var n=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+n.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+n.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+n.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:n,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var r=e.languages.markup;r&&(r.tag.addInlined("style","css"),r.tag.addAttribute("style","css"))})(t)}var s8=Qy;Qy.displayName="clike";Qy.aliases=[];function Qy(t){t.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/}}var o8=Yy;Yy.displayName="javascript";Yy.aliases=["js"];function Yy(t){t.languages.javascript=t.languages.extend("clike",{"class-name":[t.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),t.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,t.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:t.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:t.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:t.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:t.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:t.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),t.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:t.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),t.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),t.languages.markup&&(t.languages.markup.tag.addInlined("script","javascript"),t.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),t.languages.js=t.languages.javascript}var qa=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof Pi=="object"?Pi:{},a8=b8();qa.Prism={manual:!0,disableWorkerMessageHandler:!0};var l8=b9,u8=V$,nI=n8,c8=r8,h8=i8,d8=s8,f8=o8;a8();var Jy={}.hasOwnProperty;function rI(){}rI.prototype=nI;var ft=new rI,p8=ft;ft.highlight=g8;ft.register=fu;ft.alias=m8;ft.registered=y8;ft.listLanguages=v8;fu(c8);fu(h8);fu(d8);fu(f8);ft.util.encode=_8;ft.Token.stringify=x8;function fu(t){if(typeof t!="function"||!t.displayName)throw new Error("Expected `function` for `grammar`, got `"+t+"`");ft.languages[t.displayName]===void 0&&t(ft)}function m8(t,e){var n=ft.languages,r=t,i,s,o,a;e&&(r={},r[t]=e);for(i in r)for(s=r[i],s=typeof s=="string"?[s]:s,o=s.length,a=-1;++a<o;)n[s[a]]=n[i]}function g8(t,e){var n=nI.highlight,r;if(typeof t!="string")throw new Error("Expected `string` for `value`, got `"+t+"`");if(ft.util.type(e)==="Object")r=e,e=null;else{if(typeof e!="string")throw new Error("Expected `string` for `name`, got `"+e+"`");if(Jy.call(ft.languages,e))r=ft.languages[e];else throw new Error("Unknown language: `"+e+"` is not registered")}return n.call(this,t,r,e)}function y8(t){if(typeof t!="string")throw new Error("Expected `string` for `language`, got `"+t+"`");return Jy.call(ft.languages,t)}function v8(){var t=ft.languages,e=[],n;for(n in t)Jy.call(t,n)&&typeof t[n]=="object"&&e.push(n);return e}function x8(t,e,n){var r;return typeof t=="string"?{type:"text",value:t}:ft.util.type(t)==="Array"?w8(t,e):(r={type:t.type,content:ft.Token.stringify(t.content,e,n),tag:"span",classes:["token",t.type],attributes:{},language:e,parent:n},t.alias&&(r.classes=r.classes.concat(t.alias)),ft.hooks.run("wrap",r),l8(r.tag+"."+r.classes.join("."),E8(r.attributes),r.content))}function w8(t,e){for(var n=[],r=t.length,i=-1,s;++i<r;)s=t[i],s!==""&&s!==null&&s!==void 0&&n.push(s);for(i=-1,r=n.length;++i<r;)s=n[i],n[i]=ft.Token.stringify(s,e,n);return n}function _8(t){return t}function E8(t){var e;for(e in t)t[e]=u8(t[e]);return t}function b8(){var t="Prism"in qa,e=t?qa.Prism:void 0;return n;function n(){t?qa.Prism=e:delete qa.Prism,t=void 0,e=void 0}}const Xy=Lh(p8);var Dh=sz(Xy,{});Dh.registerLanguage=function(t,e){return Xy.register(e)};Dh.alias=function(t,e){return Xy.alias(t,e)};const F1={'pre[class*="language-"]':{color:"#d4d4d4",fontSize:"13px",textShadow:"none",fontFamily:'Menlo, Monaco, Consolas, "Andale Mono", "Ubuntu Mono", "Courier New", monospace',direction:"ltr",textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",lineHeight:"1.5",MozTabSize:"4",OTabSize:"4",tabSize:"4",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none",padding:"1em",margin:".5em 0",overflow:"auto",background:"#1e1e1e"},'code[class*="language-"]':{color:"#d4d4d4",fontSize:"13px",textShadow:"none",fontFamily:'Menlo, Monaco, Consolas, "Andale Mono", "Ubuntu Mono", "Courier New", monospace',direction:"ltr",textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",lineHeight:"1.5",MozTabSize:"4",OTabSize:"4",tabSize:"4",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none"},'pre[class*="language-"]::selection':{textShadow:"none",background:"#264F78"},'code[class*="language-"]::selection':{textShadow:"none",background:"#264F78"},'pre[class*="language-"] *::selection':{textShadow:"none",background:"#264F78"},'code[class*="language-"] *::selection':{textShadow:"none",background:"#264F78"},':not(pre) > code[class*="language-"]':{padding:".1em .3em",borderRadius:".3em",color:"#db4c69",background:"#1e1e1e"},".namespace":{Opacity:".7"},"doctype.doctype-tag":{color:"#569CD6"},"doctype.name":{color:"#9cdcfe"},comment:{color:"#6a9955"},prolog:{color:"#6a9955"},punctuation:{color:"#d4d4d4"},".language-html .language-css .token.punctuation":{color:"#d4d4d4"},".language-html .language-javascript .token.punctuation":{color:"#d4d4d4"},property:{color:"#9cdcfe"},tag:{color:"#569cd6"},boolean:{color:"#569cd6"},number:{color:"#b5cea8"},constant:{color:"#9cdcfe"},symbol:{color:"#b5cea8"},inserted:{color:"#b5cea8"},unit:{color:"#b5cea8"},selector:{color:"#d7ba7d"},"attr-name":{color:"#9cdcfe"},string:{color:"#ce9178"},char:{color:"#ce9178"},builtin:{color:"#ce9178"},deleted:{color:"#ce9178"},".language-css .token.string.url":{textDecoration:"underline"},operator:{color:"#d4d4d4"},entity:{color:"#569cd6"},"operator.arrow":{color:"#569CD6"},atrule:{color:"#ce9178"},"atrule.rule":{color:"#c586c0"},"atrule.url":{color:"#9cdcfe"},"atrule.url.function":{color:"#dcdcaa"},"atrule.url.punctuation":{color:"#d4d4d4"},keyword:{color:"#569CD6"},"keyword.module":{color:"#c586c0"},"keyword.control-flow":{color:"#c586c0"},function:{color:"#dcdcaa"},"function.maybe-class-name":{color:"#dcdcaa"},regex:{color:"#d16969"},important:{color:"#569cd6"},italic:{fontStyle:"italic"},"class-name":{color:"#4ec9b0"},"maybe-class-name":{color:"#4ec9b0"},console:{color:"#9cdcfe"},parameter:{color:"#9cdcfe"},interpolation:{color:"#9cdcfe"},"punctuation.interpolation-punctuation":{color:"#569cd6"},variable:{color:"#9cdcfe"},"imports.maybe-class-name":{color:"#9cdcfe"},"exports.maybe-class-name":{color:"#9cdcfe"},escape:{color:"#d7ba7d"},"tag.punctuation":{color:"#808080"},cdata:{color:"#808080"},"attr-value":{color:"#ce9178"},"attr-value.punctuation":{color:"#ce9178"},"attr-value.punctuation.attr-equals":{color:"#d4d4d4"},namespace:{color:"#4ec9b0"},'pre[class*="language-javascript"]':{color:"#9cdcfe"},'code[class*="language-javascript"]':{color:"#9cdcfe"},'pre[class*="language-jsx"]':{color:"#9cdcfe"},'code[class*="language-jsx"]':{color:"#9cdcfe"},'pre[class*="language-typescript"]':{color:"#9cdcfe"},'code[class*="language-typescript"]':{color:"#9cdcfe"},'pre[class*="language-tsx"]':{color:"#9cdcfe"},'code[class*="language-tsx"]':{color:"#9cdcfe"},'pre[class*="language-css"]':{color:"#ce9178"},'code[class*="language-css"]':{color:"#ce9178"},'pre[class*="language-html"]':{color:"#d4d4d4"},'code[class*="language-html"]':{color:"#d4d4d4"},".language-regex .token.anchor":{color:"#dcdcaa"},".language-html .token.punctuation":{color:"#808080"},'pre[class*="language-"] > code[class*="language-"]':{position:"relative",zIndex:"1"},".line-highlight.line-highlight":{background:"#f7ebc6",boxShadow:"inset 5px 0 0 #f7d87c",zIndex:"0"}};function V1(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(e);for(;i!==-1;)r++,i=n.indexOf(e,i+e.length);return r}function k8(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function S8(t,e,n){const i=Id((n||{}).ignore||[]),s=T8(e);let o=-1;for(;++o<s.length;)IT(t,"text",a);function a(c,d){let f=-1,p;for(;++f<d.length;){const g=d[f],w=p?p.children:void 0;if(i(g,w?w.indexOf(g):void 0,p))return;p=g}if(p)return l(c,d)}function l(c,d){const f=d[d.length-1],p=s[o][0],g=s[o][1];let w=0;const I=f.children.indexOf(c);let E=!1,v=[];p.lastIndex=0;let x=p.exec(c.value);for(;x;){const N=x.index,O={index:x.index,input:x.input,stack:[...d,c]};let A=g(...x,O);if(typeof A=="string"&&(A=A.length>0?{type:"text",value:A}:void 0),A===!1?p.lastIndex=N+1:(w!==N&&v.push({type:"text",value:c.value.slice(w,N)}),Array.isArray(A)?v.push(...A):A&&v.push(A),w=N+x[0].length,E=!0),!p.global)break;x=p.exec(c.value)}return E?(w<c.value.length&&v.push({type:"text",value:c.value.slice(w)}),f.children.splice(I,1,...v)):v=[c],I+v.length}}function T8(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let r=-1;for(;++r<n.length;){const i=n[r];e.push([I8(i[0]),C8(i[1])])}return e}function I8(t){return typeof t=="string"?new RegExp(k8(t),"g"):t}function C8(t){return typeof t=="function"?t:function(){return t}}const Mf="phrasing",Ff=["autolink","link","image","label"];function A8(){return{transforms:[L8],enter:{literalAutolink:P8,literalAutolinkEmail:Vf,literalAutolinkHttp:Vf,literalAutolinkWww:Vf},exit:{literalAutolink:O8,literalAutolinkEmail:D8,literalAutolinkHttp:R8,literalAutolinkWww:j8}}}function N8(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Mf,notInConstruct:Ff},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Mf,notInConstruct:Ff},{character:":",before:"[ps]",after:"\\/",inConstruct:Mf,notInConstruct:Ff}]}}function P8(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function Vf(t){this.config.enter.autolinkProtocol.call(this,t)}function R8(t){this.config.exit.autolinkProtocol.call(this,t)}function j8(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function D8(t){this.config.exit.autolinkEmail.call(this,t)}function O8(t){this.exit(t)}function L8(t){S8(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,M8],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),F8]],{ignore:["link","linkReference"]})}function M8(t,e,n,r,i){let s="";if(!iI(i)||(/^w/i.test(e)&&(n=e+n,e="",s="http://"),!V8(n)))return!1;const o=z8(n+r);if(!o[0])return!1;const a={type:"link",title:null,url:s+e+o[0],children:[{type:"text",value:e+o[0]}]};return o[1]?[a,{type:"text",value:o[1]}]:a}function F8(t,e,n,r){return!iI(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function V8(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function z8(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],r=n.indexOf(")");const i=V1(t,"(");let s=V1(t,")");for(;r!==-1&&i>s;)t+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[t,n]}function iI(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||Ls(n)||kd(n))&&(!e||n!==47)}sI.peek=Q8;function U8(){this.buffer()}function $8(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function B8(){this.buffer()}function H8(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function q8(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Yn(this.sliceSerialize(t)).toLowerCase(),n.label=e}function W8(t){this.exit(t)}function G8(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Yn(this.sliceSerialize(t)).toLowerCase(),n.label=e}function K8(t){this.exit(t)}function Q8(){return"["}function sI(t,e,n,r){const i=n.createTracker(r);let s=i.move("[^");const o=n.enter("footnoteReference"),a=n.enter("reference");return s+=i.move(n.safe(n.associationId(t),{after:"]",before:s})),a(),o(),s+=i.move("]"),s}function Y8(){return{enter:{gfmFootnoteCallString:U8,gfmFootnoteCall:$8,gfmFootnoteDefinitionLabelString:B8,gfmFootnoteDefinition:H8},exit:{gfmFootnoteCallString:q8,gfmFootnoteCall:W8,gfmFootnoteDefinitionLabelString:G8,gfmFootnoteDefinition:K8}}}function J8(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:sI},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,s,o){const a=s.createTracker(o);let l=a.move("[^");const c=s.enter("footnoteDefinition"),d=s.enter("label");return l+=a.move(s.safe(s.associationId(r),{before:l,after:"]"})),d(),l+=a.move("]:"),r.children&&r.children.length>0&&(a.shift(4),l+=a.move((e?`
`:" ")+s.indentLines(s.containerFlow(r,a.current()),e?oI:X8))),c(),l}}function X8(t,e,n){return e===0?t:oI(t,e,n)}function oI(t,e,n){return(n?"":"    ")+t}const Z8=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];aI.peek=iB;function eB(){return{canContainEols:["delete"],enter:{strikethrough:nB},exit:{strikethrough:rB}}}function tB(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Z8}],handlers:{delete:aI}}}function nB(t){this.enter({type:"delete",children:[]},t)}function rB(t){this.exit(t)}function aI(t,e,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let o=i.move("~~");return o+=n.containerPhrasing(t,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),s(),o}function iB(){return"~"}function sB(t){return t.length}function oB(t,e){const n=e||{},r=(n.align||[]).concat(),i=n.stringLength||sB,s=[],o=[],a=[],l=[];let c=0,d=-1;for(;++d<t.length;){const T=[],I=[];let E=-1;for(t[d].length>c&&(c=t[d].length);++E<t[d].length;){const v=aB(t[d][E]);if(n.alignDelimiters!==!1){const x=i(v);I[E]=x,(l[E]===void 0||x>l[E])&&(l[E]=x)}T.push(v)}o[d]=T,a[d]=I}let f=-1;if(typeof r=="object"&&"length"in r)for(;++f<c;)s[f]=z1(r[f]);else{const T=z1(r);for(;++f<c;)s[f]=T}f=-1;const p=[],g=[];for(;++f<c;){const T=s[f];let I="",E="";T===99?(I=":",E=":"):T===108?I=":":T===114&&(E=":");let v=n.alignDelimiters===!1?1:Math.max(1,l[f]-I.length-E.length);const x=I+"-".repeat(v)+E;n.alignDelimiters!==!1&&(v=I.length+v+E.length,v>l[f]&&(l[f]=v),g[f]=v),p[f]=x}o.splice(1,0,p),a.splice(1,0,g),d=-1;const w=[];for(;++d<o.length;){const T=o[d],I=a[d];f=-1;const E=[];for(;++f<c;){const v=T[f]||"";let x="",N="";if(n.alignDelimiters!==!1){const O=l[f]-(I[f]||0),A=s[f];A===114?x=" ".repeat(O):A===99?O%2?(x=" ".repeat(O/2+.5),N=" ".repeat(O/2-.5)):(x=" ".repeat(O/2),N=x):N=" ".repeat(O)}n.delimiterStart!==!1&&!f&&E.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&v==="")&&(n.delimiterStart!==!1||f)&&E.push(" "),n.alignDelimiters!==!1&&E.push(x),E.push(v),n.alignDelimiters!==!1&&E.push(N),n.padding!==!1&&E.push(" "),(n.delimiterEnd!==!1||f!==c-1)&&E.push("|")}w.push(n.delimiterEnd===!1?E.join("").replace(/ +$/,""):E.join(""))}return w.join(`
`)}function aB(t){return t==null?"":String(t)}function z1(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function lB(t,e,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const o=n.indentLines(n.containerFlow(t,s.current()),uB);return i(),o}function uB(t,e,n){return">"+(n?"":" ")+t}function cB(t,e){return U1(t,e.inConstruct,!0)&&!U1(t,e.notInConstruct,!1)}function U1(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function $1(t,e,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&cB(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function hB(t,e){const n=String(t);let r=n.indexOf(e),i=r,s=0,o=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>o&&(o=s):s=1,i=r+e.length,r=n.indexOf(e,i);return o}function dB(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function fB(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function pB(t,e,n,r){const i=fB(n),s=t.value||"",o=i==="`"?"GraveAccent":"Tilde";if(dB(t,n)){const f=n.enter("codeIndented"),p=n.indentLines(s,mB);return f(),p}const a=n.createTracker(r),l=i.repeat(Math.max(hB(s,i)+1,3)),c=n.enter("codeFenced");let d=a.move(l);if(t.lang){const f=n.enter(`codeFencedLang${o}`);d+=a.move(n.safe(t.lang,{before:d,after:" ",encode:["`"],...a.current()})),f()}if(t.lang&&t.meta){const f=n.enter(`codeFencedMeta${o}`);d+=a.move(" "),d+=a.move(n.safe(t.meta,{before:d,after:`
`,encode:["`"],...a.current()})),f()}return d+=a.move(`
`),s&&(d+=a.move(s+`
`)),d+=a.move(l),c(),d}function mB(t,e,n){return(n?"":"    ")+t}function Zy(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function gB(t,e,n,r){const i=Zy(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let a=n.enter("label");const l=n.createTracker(r);let c=l.move("[");return c+=l.move(n.safe(n.associationId(t),{before:c,after:"]",...l.current()})),c+=l.move("]: "),a(),!t.url||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(t.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(a=n.enter("destinationRaw"),c+=l.move(n.safe(t.url,{before:c,after:t.title?" ":`
`,...l.current()}))),a(),t.title&&(a=n.enter(`title${s}`),c+=l.move(" "+i),c+=l.move(n.safe(t.title,{before:c,after:i,...l.current()})),c+=l.move(i),a()),o(),c}function yB(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function ql(t){return"&#x"+t.toString(16).toUpperCase()+";"}function Oh(t,e,n){const r=Qo(t),i=Qo(e);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}lI.peek=vB;function lI(t,e,n,r){const i=yB(n),s=n.enter("emphasis"),o=n.createTracker(r),a=o.move(i);let l=o.move(n.containerPhrasing(t,{after:i,before:a,...o.current()}));const c=l.charCodeAt(0),d=Oh(r.before.charCodeAt(r.before.length-1),c,i);d.inside&&(l=ql(c)+l.slice(1));const f=l.charCodeAt(l.length-1),p=Oh(r.after.charCodeAt(0),f,i);p.inside&&(l=l.slice(0,-1)+ql(f));const g=o.move(i);return s(),n.attentionEncodeSurroundingInfo={after:p.outside,before:d.outside},a+l+g}function vB(t,e,n){return n.options.emphasis||"*"}function xB(t,e){let n=!1;return Oy(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,_m}),!!((!t.depth||t.depth<3)&&Cy(t)&&(e.options.setext||n))}function wB(t,e,n,r){const i=Math.max(Math.min(6,t.depth||1),1),s=n.createTracker(r);if(xB(t,n)){const d=n.enter("headingSetext"),f=n.enter("phrasing"),p=n.containerPhrasing(t,{...s.current(),before:`
`,after:`
`});return f(),d(),p+`
`+(i===1?"=":"-").repeat(p.length-(Math.max(p.lastIndexOf("\r"),p.lastIndexOf(`
`))+1))}const o="#".repeat(i),a=n.enter("headingAtx"),l=n.enter("phrasing");s.move(o+" ");let c=n.containerPhrasing(t,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(c)&&(c=ql(c.charCodeAt(0))+c.slice(1)),c=c?o+" "+c:o,n.options.closeAtx&&(c+=" "+o),l(),a(),c}uI.peek=_B;function uI(t){return t.value||""}function _B(){return"<"}cI.peek=EB;function cI(t,e,n,r){const i=Zy(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let a=n.enter("label");const l=n.createTracker(r);let c=l.move("![");return c+=l.move(n.safe(t.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),a(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(t.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(a=n.enter("destinationRaw"),c+=l.move(n.safe(t.url,{before:c,after:t.title?" ":")",...l.current()}))),a(),t.title&&(a=n.enter(`title${s}`),c+=l.move(" "+i),c+=l.move(n.safe(t.title,{before:c,after:i,...l.current()})),c+=l.move(i),a()),c+=l.move(")"),o(),c}function EB(){return"!"}hI.peek=bB;function hI(t,e,n,r){const i=t.referenceType,s=n.enter("imageReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("![");const c=n.safe(t.alt,{before:l,after:"]",...a.current()});l+=a.move(c+"]["),o();const d=n.stack;n.stack=[],o=n.enter("reference");const f=n.safe(n.associationId(t),{before:l,after:"]",...a.current()});return o(),n.stack=d,s(),i==="full"||!c||c!==f?l+=a.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function bB(){return"!"}dI.peek=kB;function dI(t,e,n){let r=t.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const o=n.unsafe[s],a=n.compilePattern(o);let l;if(o.atBreak)for(;l=a.exec(r);){let c=l.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(l.index+1)}}return i+r+i}function kB(){return"`"}function fI(t,e){const n=Cy(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}pI.peek=SB;function pI(t,e,n,r){const i=Zy(n),s=i==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let a,l;if(fI(t,n)){const d=n.stack;n.stack=[],a=n.enter("autolink");let f=o.move("<");return f+=o.move(n.containerPhrasing(t,{before:f,after:">",...o.current()})),f+=o.move(">"),a(),n.stack=d,f}a=n.enter("link"),l=n.enter("label");let c=o.move("[");return c+=o.move(n.containerPhrasing(t,{before:c,after:"](",...o.current()})),c+=o.move("]("),l(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),c+=o.move("<"),c+=o.move(n.safe(t.url,{before:c,after:">",...o.current()})),c+=o.move(">")):(l=n.enter("destinationRaw"),c+=o.move(n.safe(t.url,{before:c,after:t.title?" ":")",...o.current()}))),l(),t.title&&(l=n.enter(`title${s}`),c+=o.move(" "+i),c+=o.move(n.safe(t.title,{before:c,after:i,...o.current()})),c+=o.move(i),l()),c+=o.move(")"),a(),c}function SB(t,e,n){return fI(t,n)?"<":"["}mI.peek=TB;function mI(t,e,n,r){const i=t.referenceType,s=n.enter("linkReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("[");const c=n.containerPhrasing(t,{before:l,after:"]",...a.current()});l+=a.move(c+"]["),o();const d=n.stack;n.stack=[],o=n.enter("reference");const f=n.safe(n.associationId(t),{before:l,after:"]",...a.current()});return o(),n.stack=d,s(),i==="full"||!c||c!==f?l+=a.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function TB(){return"["}function ev(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function IB(t){const e=ev(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function CB(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function gI(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function AB(t,e,n,r){const i=n.enter("list"),s=n.bulletCurrent;let o=t.ordered?CB(n):ev(n);const a=t.ordered?o==="."?")":".":IB(n);let l=e&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!t.ordered){const d=t.children?t.children[0]:void 0;if((o==="*"||o==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),gI(n)===o&&d){let f=-1;for(;++f<t.children.length;){const p=t.children[f];if(p&&p.type==="listItem"&&p.children&&p.children[0]&&p.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(o=a),n.bulletCurrent=o;const c=n.containerFlow(t,r);return n.bulletLastUsed=o,n.bulletCurrent=s,i(),c}function NB(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function PB(t,e,n,r){const i=NB(n);let s=n.bulletCurrent||ev(n);e&&e.type==="list"&&e.ordered&&(s=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+s);let o=s.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(o=Math.ceil(o/4)*4);const a=n.createTracker(r);a.move(s+" ".repeat(o-s.length)),a.shift(o);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(t,a.current()),d);return l(),c;function d(f,p,g){return p?(g?"":" ".repeat(o))+f:(g?s:s+" ".repeat(o-s.length))+f}}function RB(t,e,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),o=n.containerPhrasing(t,r);return s(),i(),o}const jB=Id(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function DB(t,e,n,r){return(t.children.some(function(o){return jB(o)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function OB(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}yI.peek=LB;function yI(t,e,n,r){const i=OB(n),s=n.enter("strong"),o=n.createTracker(r),a=o.move(i+i);let l=o.move(n.containerPhrasing(t,{after:i,before:a,...o.current()}));const c=l.charCodeAt(0),d=Oh(r.before.charCodeAt(r.before.length-1),c,i);d.inside&&(l=ql(c)+l.slice(1));const f=l.charCodeAt(l.length-1),p=Oh(r.after.charCodeAt(0),f,i);p.inside&&(l=l.slice(0,-1)+ql(f));const g=o.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:p.outside,before:d.outside},a+l+g}function LB(t,e,n){return n.options.strong||"*"}function MB(t,e,n,r){return n.safe(t.value,r)}function FB(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function VB(t,e,n){const r=(gI(n)+(n.options.ruleSpaces?" ":"")).repeat(FB(n));return n.options.ruleSpaces?r.slice(0,-1):r}const vI={blockquote:lB,break:$1,code:pB,definition:gB,emphasis:lI,hardBreak:$1,heading:wB,html:uI,image:cI,imageReference:hI,inlineCode:dI,link:pI,linkReference:mI,list:AB,listItem:PB,paragraph:RB,root:DB,strong:yI,text:MB,thematicBreak:VB};function zB(){return{enter:{table:UB,tableData:B1,tableHeader:B1,tableRow:BB},exit:{codeText:HB,table:$B,tableData:zf,tableHeader:zf,tableRow:zf}}}function UB(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function $B(t){this.exit(t),this.data.inTable=void 0}function BB(t){this.enter({type:"tableRow",children:[]},t)}function zf(t){this.exit(t)}function B1(t){this.enter({type:"tableCell",children:[]},t)}function HB(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,qB));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function qB(t,e){return e==="|"?e:t}function WB(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,i=e.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:p,table:o,tableCell:l,tableRow:a}};function o(g,w,T,I){return c(d(g,T,I),g.align)}function a(g,w,T,I){const E=f(g,T,I),v=c([E]);return v.slice(0,v.indexOf(`
`))}function l(g,w,T,I){const E=T.enter("tableCell"),v=T.enter("phrasing"),x=T.containerPhrasing(g,{...I,before:s,after:s});return v(),E(),x}function c(g,w){return oB(g,{align:w,alignDelimiters:r,padding:n,stringLength:i})}function d(g,w,T){const I=g.children;let E=-1;const v=[],x=w.enter("table");for(;++E<I.length;)v[E]=f(I[E],w,T);return x(),v}function f(g,w,T){const I=g.children;let E=-1;const v=[],x=w.enter("tableRow");for(;++E<I.length;)v[E]=l(I[E],g,w,T);return x(),v}function p(g,w,T){let I=vI.inlineCode(g,w,T);return T.stack.includes("tableCell")&&(I=I.replace(/\|/g,"\\$&")),I}}function GB(){return{exit:{taskListCheckValueChecked:H1,taskListCheckValueUnchecked:H1,paragraph:QB}}}function KB(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:YB}}}function H1(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function QB(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=e.children;let s=-1,o;for(;++s<i.length;){const a=i[s];if(a.type==="paragraph"){o=a;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(t)}function YB(t,e,n,r){const i=t.children[0],s=typeof t.checked=="boolean"&&i&&i.type==="paragraph",o="["+(t.checked?"x":" ")+"] ",a=n.createTracker(r);s&&a.move(o);let l=vI.listItem(t,e,n,{...r,...a.current()});return s&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(d){return d+o}}function JB(){return[A8(),Y8(),eB(),zB(),GB()]}function XB(t){return{extensions:[N8(),J8(t),tB(),WB(t),KB()]}}const ZB={tokenize:s7,partial:!0},xI={tokenize:o7,partial:!0},wI={tokenize:a7,partial:!0},_I={tokenize:l7,partial:!0},e7={tokenize:u7,partial:!0},EI={name:"wwwAutolink",tokenize:r7,previous:kI},bI={name:"protocolAutolink",tokenize:i7,previous:SI},Wr={name:"emailAutolink",tokenize:n7,previous:TI},wr={};function t7(){return{text:wr}}let cs=48;for(;cs<123;)wr[cs]=Wr,cs++,cs===58?cs=65:cs===91&&(cs=97);wr[43]=Wr;wr[45]=Wr;wr[46]=Wr;wr[95]=Wr;wr[72]=[Wr,bI];wr[104]=[Wr,bI];wr[87]=[Wr,EI];wr[119]=[Wr,EI];function n7(t,e,n){const r=this;let i,s;return o;function o(f){return!Nm(f)||!TI.call(r,r.previous)||tv(r.events)?n(f):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),a(f))}function a(f){return Nm(f)?(t.consume(f),a):f===64?(t.consume(f),l):n(f)}function l(f){return f===46?t.check(e7,d,c)(f):f===45||f===95||Ut(f)?(s=!0,t.consume(f),l):d(f)}function c(f){return t.consume(f),i=!0,l}function d(f){return s&&i&&Xt(r.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(f)):n(f)}}function r7(t,e,n){const r=this;return i;function i(o){return o!==87&&o!==119||!kI.call(r,r.previous)||tv(r.events)?n(o):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(ZB,t.attempt(xI,t.attempt(wI,s),n),n)(o))}function s(o){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(o)}}function i7(t,e,n){const r=this;let i="",s=!1;return o;function o(f){return(f===72||f===104)&&SI.call(r,r.previous)&&!tv(r.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),i+=String.fromCodePoint(f),t.consume(f),a):n(f)}function a(f){if(Xt(f)&&i.length<5)return i+=String.fromCodePoint(f),t.consume(f),a;if(f===58){const p=i.toLowerCase();if(p==="http"||p==="https")return t.consume(f),l}return n(f)}function l(f){return f===47?(t.consume(f),s?c:(s=!0,l)):n(f)}function c(f){return f===null||Nh(f)||$e(f)||Ls(f)||kd(f)?n(f):t.attempt(xI,t.attempt(wI,d),n)(f)}function d(f){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(f)}}function s7(t,e,n){let r=0;return i;function i(o){return(o===87||o===119)&&r<3?(r++,t.consume(o),i):o===46&&r===3?(t.consume(o),s):n(o)}function s(o){return o===null?n(o):e(o)}}function o7(t,e,n){let r,i,s;return o;function o(c){return c===46||c===95?t.check(_I,l,a)(c):c===null||$e(c)||Ls(c)||c!==45&&kd(c)?l(c):(s=!0,t.consume(c),o)}function a(c){return c===95?r=!0:(i=r,r=void 0),t.consume(c),o}function l(c){return i||r||!s?n(c):e(c)}}function a7(t,e){let n=0,r=0;return i;function i(o){return o===40?(n++,t.consume(o),i):o===41&&r<n?s(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?t.check(_I,e,s)(o):o===null||$e(o)||Ls(o)?e(o):(t.consume(o),i)}function s(o){return o===41&&r++,t.consume(o),i}}function l7(t,e,n){return r;function r(a){return a===33||a===34||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===63||a===95||a===126?(t.consume(a),r):a===38?(t.consume(a),s):a===93?(t.consume(a),i):a===60||a===null||$e(a)||Ls(a)?e(a):n(a)}function i(a){return a===null||a===40||a===91||$e(a)||Ls(a)?e(a):r(a)}function s(a){return Xt(a)?o(a):n(a)}function o(a){return a===59?(t.consume(a),r):Xt(a)?(t.consume(a),o):n(a)}}function u7(t,e,n){return r;function r(s){return t.consume(s),i}function i(s){return Ut(s)?n(s):e(s)}}function kI(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||$e(t)}function SI(t){return!Xt(t)}function TI(t){return!(t===47||Nm(t))}function Nm(t){return t===43||t===45||t===46||t===95||Ut(t)}function tv(t){let e=t.length,n=!1;for(;e--;){const r=t[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const c7={tokenize:v7,partial:!0};function h7(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:m7,continuation:{tokenize:g7},exit:y7}},text:{91:{name:"gfmFootnoteCall",tokenize:p7},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:d7,resolveTo:f7}}}}function d7(t,e,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){o=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return a;function a(l){if(!o||!o._balanced)return n(l);const c=Yn(r.sliceSerialize({start:o.end,end:r.now()}));return c.codePointAt(0)!==94||!s.includes(c.slice(1))?n(l):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(l),t.exit("gfmFootnoteCallLabelMarker"),e(l))}}function f7(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},t[t.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},a=[t[n+1],t[n+2],["enter",r,e],t[n+3],t[n+4],["enter",i,e],["exit",i,e],["enter",s,e],["enter",o,e],["exit",o,e],["exit",s,e],t[t.length-2],t[t.length-1],["exit",r,e]];return t.splice(n,t.length-n+1,...a),t}function p7(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,o;return a;function a(f){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(f),t.exit("gfmFootnoteCallLabelMarker"),l}function l(f){return f!==94?n(f):(t.enter("gfmFootnoteCallMarker"),t.consume(f),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",c)}function c(f){if(s>999||f===93&&!o||f===null||f===91||$e(f))return n(f);if(f===93){t.exit("chunkString");const p=t.exit("gfmFootnoteCallString");return i.includes(Yn(r.sliceSerialize(p)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(f),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(f)}return $e(f)||(o=!0),s++,t.consume(f),f===92?d:c}function d(f){return f===91||f===92||f===93?(t.consume(f),s++,c):c(f)}}function m7(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,o=0,a;return l;function l(w){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(w),t.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(w){return w===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(w),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",d):n(w)}function d(w){if(o>999||w===93&&!a||w===null||w===91||$e(w))return n(w);if(w===93){t.exit("chunkString");const T=t.exit("gfmFootnoteDefinitionLabelString");return s=Yn(r.sliceSerialize(T)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(w),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),p}return $e(w)||(a=!0),o++,t.consume(w),w===92?f:d}function f(w){return w===91||w===92||w===93?(t.consume(w),o++,d):d(w)}function p(w){return w===58?(t.enter("definitionMarker"),t.consume(w),t.exit("definitionMarker"),i.includes(s)||i.push(s),Re(t,g,"gfmFootnoteDefinitionWhitespace")):n(w)}function g(w){return e(w)}}function g7(t,e,n){return t.check(cu,e,t.attempt(c7,e,n))}function y7(t){t.exit("gfmFootnoteDefinition")}function v7(t,e,n){const r=this;return Re(t,i,"gfmFootnoteDefinitionIndent",5);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?e(s):n(s)}}function x7(t){let n=(t||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(o,a){let l=-1;for(;++l<o.length;)if(o[l][0]==="enter"&&o[l][1].type==="strikethroughSequenceTemporary"&&o[l][1]._close){let c=l;for(;c--;)if(o[c][0]==="exit"&&o[c][1].type==="strikethroughSequenceTemporary"&&o[c][1]._open&&o[l][1].end.offset-o[l][1].start.offset===o[c][1].end.offset-o[c][1].start.offset){o[l][1].type="strikethroughSequence",o[c][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},o[c][1].start),end:Object.assign({},o[l][1].end)},f={type:"strikethroughText",start:Object.assign({},o[c][1].end),end:Object.assign({},o[l][1].start)},p=[["enter",d,a],["enter",o[c][1],a],["exit",o[c][1],a],["enter",f,a]],g=a.parser.constructs.insideSpan.null;g&&_n(p,p.length,0,Sd(g,o.slice(c+1,l),a)),_n(p,p.length,0,[["exit",f,a],["enter",o[l][1],a],["exit",o[l][1],a],["exit",d,a]]),_n(o,c-1,l-c+3,p),l=c+p.length-2;break}}for(l=-1;++l<o.length;)o[l][1].type==="strikethroughSequenceTemporary"&&(o[l][1].type="data");return o}function s(o,a,l){const c=this.previous,d=this.events;let f=0;return p;function p(w){return c===126&&d[d.length-1][1].type!=="characterEscape"?l(w):(o.enter("strikethroughSequenceTemporary"),g(w))}function g(w){const T=Qo(c);if(w===126)return f>1?l(w):(o.consume(w),f++,g);if(f<2&&!n)return l(w);const I=o.exit("strikethroughSequenceTemporary"),E=Qo(w);return I._open=!E||E===2&&!!T,I._close=!T||T===2&&!!E,a(w)}}}class w7{constructor(){this.map=[]}add(e,n,r){_7(this,e,n,r)}consume(e){if(this.map.sort(function(s,o){return s[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];r.push(e.slice()),e.length=0;let i=r.pop();for(;i;){for(const s of i)e.push(s);i=r.pop()}this.map.length=0}}function _7(t,e,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<t.map.length;){if(t.map[i][0]===e){t.map[i][1]+=n,t.map[i][2].push(...r);return}i+=1}t.map.push([e,n,r])}}function E7(t,e){let n=!1;const r=[];for(;e<t.length;){const i=t[e];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return r}function b7(){return{flow:{null:{name:"table",tokenize:k7,resolveAll:S7}}}}function k7(t,e,n){const r=this;let i=0,s=0,o;return a;function a(_){let P=r.events.length-1;for(;P>-1;){const q=r.events[P][1].type;if(q==="lineEnding"||q==="linePrefix")P--;else break}const D=P>-1?r.events[P][1].type:null,R=D==="tableHead"||D==="tableRow"?A:l;return R===A&&r.parser.lazy[r.now().line]?n(_):R(_)}function l(_){return t.enter("tableHead"),t.enter("tableRow"),c(_)}function c(_){return _===124||(o=!0,s+=1),d(_)}function d(_){return _===null?n(_):le(_)?s>1?(s=0,r.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(_),t.exit("lineEnding"),g):n(_):Te(_)?Re(t,d,"whitespace")(_):(s+=1,o&&(o=!1,i+=1),_===124?(t.enter("tableCellDivider"),t.consume(_),t.exit("tableCellDivider"),o=!0,d):(t.enter("data"),f(_)))}function f(_){return _===null||_===124||$e(_)?(t.exit("data"),d(_)):(t.consume(_),_===92?p:f)}function p(_){return _===92||_===124?(t.consume(_),f):f(_)}function g(_){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(_):(t.enter("tableDelimiterRow"),o=!1,Te(_)?Re(t,w,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(_):w(_))}function w(_){return _===45||_===58?I(_):_===124?(o=!0,t.enter("tableCellDivider"),t.consume(_),t.exit("tableCellDivider"),T):O(_)}function T(_){return Te(_)?Re(t,I,"whitespace")(_):I(_)}function I(_){return _===58?(s+=1,o=!0,t.enter("tableDelimiterMarker"),t.consume(_),t.exit("tableDelimiterMarker"),E):_===45?(s+=1,E(_)):_===null||le(_)?N(_):O(_)}function E(_){return _===45?(t.enter("tableDelimiterFiller"),v(_)):O(_)}function v(_){return _===45?(t.consume(_),v):_===58?(o=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(_),t.exit("tableDelimiterMarker"),x):(t.exit("tableDelimiterFiller"),x(_))}function x(_){return Te(_)?Re(t,N,"whitespace")(_):N(_)}function N(_){return _===124?w(_):_===null||le(_)?!o||i!==s?O(_):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(_)):O(_)}function O(_){return n(_)}function A(_){return t.enter("tableRow"),k(_)}function k(_){return _===124?(t.enter("tableCellDivider"),t.consume(_),t.exit("tableCellDivider"),k):_===null||le(_)?(t.exit("tableRow"),e(_)):Te(_)?Re(t,k,"whitespace")(_):(t.enter("data"),b(_))}function b(_){return _===null||_===124||$e(_)?(t.exit("data"),k(_)):(t.consume(_),_===92?S:b)}function S(_){return _===92||_===124?(t.consume(_),b):b(_)}}function S7(t,e){let n=-1,r=!0,i=0,s=[0,0,0,0],o=[0,0,0,0],a=!1,l=0,c,d,f;const p=new w7;for(;++n<t.length;){const g=t[n],w=g[1];g[0]==="enter"?w.type==="tableHead"?(a=!1,l!==0&&(q1(p,e,l,c,d),d=void 0,l=0),c={type:"table",start:Object.assign({},w.start),end:Object.assign({},w.end)},p.add(n,0,[["enter",c,e]])):w.type==="tableRow"||w.type==="tableDelimiterRow"?(r=!0,f=void 0,s=[0,0,0,0],o=[0,n+1,0,0],a&&(a=!1,d={type:"tableBody",start:Object.assign({},w.start),end:Object.assign({},w.end)},p.add(n,0,[["enter",d,e]])),i=w.type==="tableDelimiterRow"?2:d?3:1):i&&(w.type==="data"||w.type==="tableDelimiterMarker"||w.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(s[1]!==0&&(o[0]=o[1],f=ac(p,e,s,i,void 0,f),s=[0,0,0,0]),o[2]=n)):w.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(o[0]=o[1],f=ac(p,e,s,i,void 0,f)),s=o,o=[s[1],n,0,0])):w.type==="tableHead"?(a=!0,l=n):w.type==="tableRow"||w.type==="tableDelimiterRow"?(l=n,s[1]!==0?(o[0]=o[1],f=ac(p,e,s,i,n,f)):o[1]!==0&&(f=ac(p,e,o,i,n,f)),i=0):i&&(w.type==="data"||w.type==="tableDelimiterMarker"||w.type==="tableDelimiterFiller")&&(o[3]=n)}for(l!==0&&q1(p,e,l,c,d),p.consume(e.events),n=-1;++n<e.events.length;){const g=e.events[n];g[0]==="enter"&&g[1].type==="table"&&(g[1]._align=E7(e.events,n))}return t}function ac(t,e,n,r,i,s){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",a="tableContent";n[0]!==0&&(s.end=Object.assign({},so(e.events,n[0])),t.add(n[0],0,[["exit",s,e]]));const l=so(e.events,n[1]);if(s={type:o,start:Object.assign({},l),end:Object.assign({},l)},t.add(n[1],0,[["enter",s,e]]),n[2]!==0){const c=so(e.events,n[2]),d=so(e.events,n[3]),f={type:a,start:Object.assign({},c),end:Object.assign({},d)};if(t.add(n[2],0,[["enter",f,e]]),r!==2){const p=e.events[n[2]],g=e.events[n[3]];if(p[1].end=Object.assign({},g[1].end),p[1].type="chunkText",p[1].contentType="text",n[3]>n[2]+1){const w=n[2]+1,T=n[3]-n[2]-1;t.add(w,T,[])}}t.add(n[3]+1,0,[["exit",f,e]])}return i!==void 0&&(s.end=Object.assign({},so(e.events,i)),t.add(i,0,[["exit",s,e]]),s=void 0),s}function q1(t,e,n,r,i){const s=[],o=so(e.events,n);i&&(i.end=Object.assign({},o),s.push(["exit",i,e])),r.end=Object.assign({},o),s.push(["exit",r,e]),t.add(n+1,0,s)}function so(t,e){const n=t[e],r=n[0]==="enter"?"start":"end";return n[1][r]}const T7={name:"tasklistCheck",tokenize:C7};function I7(){return{text:{91:T7}}}function C7(t,e,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),s)}function s(l){return $e(l)?(t.enter("taskListCheckValueUnchecked"),t.consume(l),t.exit("taskListCheckValueUnchecked"),o):l===88||l===120?(t.enter("taskListCheckValueChecked"),t.consume(l),t.exit("taskListCheckValueChecked"),o):n(l)}function o(l){return l===93?(t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),a):n(l)}function a(l){return le(l)?e(l):Te(l)?t.check({tokenize:A7},e,n)(l):n(l)}}function A7(t,e,n){return Re(t,r,"whitespace");function r(i){return i===null?n(i):e(i)}}function N7(t){return lT([t7(),h7(),x7(t),b7(),I7()])}const P7={};function W1(t){const e=this,n=t||P7,r=e.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(N7(n)),s.push(JB()),o.push(XB(n))}function R7({resources:t,onGenerate:e,initialNotes:n,onNotesGenerated:r,spaceId:i}){const[s,o]=M.useState(n||""),[a,l]=M.useState(!1),[c,d]=M.useState(!n),[f,p]=M.useState([]),[g,w]=M.useState(""),[T,I]=M.useState(null),[E,v]=M.useState(!0),[x,N]=M.useState([]),[O,A]=M.useState(""),[k,b]=M.useState(384),[S,_]=M.useState("idle"),[P,D]=M.useState(""),R=M.useRef(!1),q=M.useRef(0),Q=M.useRef(0);M.useEffect(()=>{n&&(o(n),d(!1))},[n,i]),M.useEffect(()=>{i&&(async()=>{try{const pe=await fetch(`https://beeka-backend.onrender.com/spaces/${i}`);if(pe.ok){const ve=await pe.json();ve.notes&&(o(ve.notes),d(!1))}}catch(pe){console.error("Error loading space notes:",pe)}})()},[i]);const ce=t.filter(X=>X.name.toLowerCase().includes(g.toLowerCase())),se=X=>{p(pe=>pe.includes(X)?pe.filter(ve=>ve!==X):[...pe,X])},U=async()=>{if(f.length===0){I("Please select at least one file");return}l(!0),I(null),_("reading");try{const X=await e(f),pe=t.filter(ke=>f.includes(ke.id)).map(ke=>ke.name);pe.length>0&&D(pe[0].replace(".pdf",""));const ve=`# Generated Study Notes

${pe.map((ke,Fe)=>`## File ${Fe+1}: ${ke.replace(".pdf","")}

${X.split("---").length>Fe?X.split("---")[Fe].trim():""}

`).join(`---

`)}`;o(ve),d(!1),N([]),_("complete"),r&&r(ve);try{if(!(await fetch(`https://beeka-backend.onrender.com/spaces/${i}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({notes:ve})})).ok)throw new Error("Failed to update space with notes")}catch(ke){console.error("Error updating space with notes:",ke)}}catch(X){console.error("Error generating notes:",X),I(X instanceof Error?X.message:"Failed to generate notes"),_("idle")}finally{l(!1)}},Y=async()=>{if(!O.trim()||!s)return;const X={space_id:i,role:"user",content:O,timestamp:new Date().toISOString()};N(pe=>[...pe,X]),A("");try{const pe=await fetch("https://beeka-backend.onrender.com/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:O,context:s})});if(!pe.ok)throw new Error("Failed to get response");const ve=await pe.json(),ke={space_id:i,role:"ai",content:ve.response,timestamp:new Date().toISOString()};N(Fe=>[...Fe,ke])}catch(pe){console.error("Error sending message:",pe);const ve={space_id:i,role:"ai",content:"Sorry, I encountered an error processing your message.",timestamp:new Date().toISOString()};N(ke=>[...ke,ve])}},j=M.useCallback(X=>{R.current=!0,q.current=X.pageX,Q.current=k,document.body.style.cursor="col-resize",document.body.style.userSelect="none"},[k]),J=M.useCallback(()=>{R.current=!1,document.body.style.cursor="",document.body.style.userSelect=""},[]),ne=M.useCallback(X=>{if(!R.current)return;const pe=Q.current-(X.pageX-q.current);b(Math.min(Math.max(320,pe),640))},[]);M.useEffect(()=>(document.addEventListener("mousemove",ne),document.addEventListener("mouseup",J),()=>{document.removeEventListener("mousemove",ne),document.removeEventListener("mouseup",J)}),[ne,J]);const L=({inline:X,className:pe,children:ve,...ke})=>{const Fe=/language-(\w+)/.exec(pe||"");return!X&&Fe?h.jsx(Dh,{style:F1,language:Fe[1],PreTag:"div",...ke,children:String(ve).replace(/\n$/,"")}):h.jsx("code",{className:"bg-[#2A2D3E] px-1 py-0.5 rounded",...ke,children:ve})},ge=({inline:X,className:pe,children:ve,...ke})=>{const Fe=/language-(\w+)/.exec(pe||"");return Fe?h.jsx("div",{className:"rounded !bg-[#12141F] !p-2 my-2 text-sm",children:h.jsx(Dh,{style:F1,language:Fe[1],PreTag:"div",...ke,children:String(ve).replace(/\n$/,"")})}):h.jsx("code",{className:"bg-[#12141F] px-1 rounded text-pink-400",...ke,children:ve})},Ne={h1:({...X})=>h.jsx("h1",{className:"text-3xl font-bold mb-6 pb-2 border-b border-gray-700",...X}),h2:({...X})=>h.jsx("h2",{className:"text-2xl font-bold mt-8 mb-4",...X}),h3:({...X})=>h.jsx("h3",{className:"text-xl font-bold mt-6 mb-3",...X}),ul:({...X})=>h.jsx("ul",{className:"list-disc list-inside mb-4 space-y-2",...X}),ol:({...X})=>h.jsx("ol",{className:"list-decimal list-inside mb-4 space-y-2",...X}),p:({...X})=>h.jsx("p",{className:"mb-4 leading-relaxed",...X}),strong:({...X})=>h.jsx("strong",{className:"text-blue-400 font-bold",...X}),em:({...X})=>h.jsx("em",{className:"text-yellow-400",...X}),code:L},he={p:({children:X})=>h.jsx("p",{className:"text-sm",children:X}),code:ge};return h.jsxs("div",{className:"min-h-screen bg-[#0A0B14] text-white",children:[h.jsxs("div",{className:"flex h-screen overflow-hidden",children:[h.jsxs("div",{className:"flex-1 flex flex-col",children:[h.jsxs("div",{className:"p-4 md:p-8 flex justify-between items-center border-b border-gray-700",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-2xl md:text-3xl font-bold flex items-center gap-3",children:[h.jsx(lr,{className:"text-blue-400"}),s?"Generated Study Notes":"Study Notes Generator"]}),h.jsx("p",{className:"text-gray-400 mt-2",children:s?P:"Transform your resources into comprehensive study notes"})]}),h.jsxs("div",{className:"flex items-center gap-4",children:[s?h.jsxs("button",{onClick:()=>v(!E),className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded-lg transition-all transform hover:scale-105 flex items-center gap-2",children:[h.jsx(Ah,{size:20}),"Chat with AI"]}):h.jsxs("button",{onClick:()=>d(!0),disabled:t.length===0,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded-lg transition-all transform hover:scale-105 disabled:opacity-50 disabled:hover:scale-100 flex items-center gap-2",children:[h.jsx(lr,{size:20}),"Select & Generate"]}),h.jsx("button",{onClick:()=>v(!E),className:"p-2 hover:bg-[#2A2D3E] rounded-lg transition-colors",children:E?h.jsx(Go,{size:24}):h.jsx($l,{size:24})})]})]}),h.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-8",children:a?h.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[h.jsx(Ko,{className:"animate-spin text-blue-400 mb-4",size:48}),h.jsx("p",{className:"text-gray-400",children:S==="reading"?"Reading your resources...":"Generating notes..."})]}):T?h.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[h.jsx(Aw,{className:"text-red-400 mb-4",size:48}),h.jsx("p",{className:"text-red-400",children:T})]}):s?h.jsx("div",{className:"prose prose-invert max-w-none",children:h.jsx(jh,{remarkPlugins:[W1],components:Ne,children:s})}):h.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[h.jsx(lr,{className:"text-gray-400 mb-4",size:48}),h.jsx("p",{className:"text-gray-400",children:"Select files to generate study notes"})]})})]}),E&&s&&h.jsxs("div",{className:"border-l border-gray-700 flex flex-col h-screen relative",style:{width:k},children:[h.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-blue-500 transition-colors",onMouseDown:j}),h.jsxs("div",{className:"p-4 border-b border-gray-700 flex justify-between items-center",children:[h.jsx("h3",{className:"text-lg font-semibold",children:"Chat with AI"}),h.jsx("button",{onClick:()=>v(!1),className:"p-2 hover:bg-[#2A2D3E] rounded-lg transition-colors",children:h.jsx(Go,{size:20})})]}),h.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:x.map((X,pe)=>h.jsx("div",{className:`${X.role==="user"?"ml-auto bg-blue-600":"mr-auto bg-[#2A2D3E]"} max-w-[80%] rounded-lg p-3`,children:h.jsx(jh,{remarkPlugins:[W1],components:he,children:X.content})},pe))}),h.jsx("div",{className:"p-4 border-t border-gray-700",children:h.jsxs("div",{className:"flex gap-2",children:[h.jsx("input",{type:"text",value:O,onChange:X=>A(X.target.value),onKeyPress:X=>X.key==="Enter"&&Y(),placeholder:"Ask about your notes...",className:"flex-1 bg-[#2A2D3E] border border-gray-700 rounded-lg px-4 py-2 focus:outline-none focus:border-blue-500",disabled:!s}),h.jsx("button",{onClick:Y,disabled:!O.trim()||!s,className:"p-2 bg-blue-600 hover:bg-blue-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:h.jsx(fm,{size:20})})]})})]})]}),c&&t.length>0&&h.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-[#1A1D2E] rounded-xl w-full max-w-2xl",children:[h.jsxs("div",{className:"p-6 border-b border-gray-700",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h3",{className:"text-xl font-bold",children:"Select Study Materials"}),h.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-white transition-colors",children:h.jsx(Mt,{size:24})})]}),h.jsxs("div",{className:"relative",children:[h.jsx(H3,{size:20,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),h.jsx("input",{type:"text",placeholder:"Search files...",value:g,onChange:X=>w(X.target.value),className:"w-full pl-10 pr-4 py-2 bg-[#12141F] rounded-lg border border-gray-700 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all"})]})]}),h.jsxs("div",{className:"p-6",children:[h.jsx("div",{className:"max-h-[40vh] overflow-y-auto mb-6 space-y-2",children:ce.map(X=>h.jsxs("div",{onClick:()=>se(X.id),className:`p-4 rounded-lg cursor-pointer flex items-center justify-between transition-colors ${f.includes(X.id)?"bg-blue-600":"bg-[#12141F] hover:bg-[#2A2D3E]"}`,children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(Ul,{size:20,className:"text-gray-400"}),h.jsx("span",{children:X.name})]}),f.includes(X.id)&&h.jsx(wy,{size:20})]},X.id))}),h.jsxs("div",{className:"flex justify-end gap-4",children:[h.jsx("button",{onClick:()=>d(!1),className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"}),h.jsx("button",{onClick:U,disabled:f.length===0||a,className:`px-6 py-2 rounded-lg flex items-center gap-2 transition-all ${f.length===0||a?"bg-gray-600 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:a?h.jsxs(h.Fragment,{children:["\\n                                            ",h.jsx(Ko,{size:20,className:"animate-spin"}),h.jsx("span",{children:"Generating..."})]}):h.jsxs(h.Fragment,{children:["\\n                                            ",h.jsx(lr,{size:20}),h.jsx("span",{children:"Generate Notes"})]})})]})]})]})}),c&&t.length===0&&h.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:h.jsx("div",{className:"bg-[#1A1D2E] rounded-xl w-full max-w-2xl",children:h.jsxs("div",{className:"p-6 text-center",children:[h.jsx(Aw,{size:40,className:"text-yellow-400 mx-auto mb-4"}),h.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"No Resources Available"}),h.jsx("p",{className:"text-gray-400 mb-6",children:"Please upload some documents in the Resource Manager to generate notes."}),h.jsx("button",{onClick:()=>d(!1),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg text-white transition-colors",children:"Close"})]})})})]})}function j7({onCreateFolder:t,onCreateSpace:e,folders:n}){const[r,i]=M.useState(!1),[s,o]=M.useState(null),a=(d,f)=>{const p=document.getElementById(f);if(p){const g=d==="left"?-300:300;p.scrollBy({left:g,behavior:"smooth"})}},l=d=>{o(d),i(!0)},c=()=>{s&&(e(s),i(!1),o(null))};return h.jsxs("div",{className:"px-8 py-12 max-w-6xl mx-auto overflow-y-auto h-[calc(100vh-4rem)]",children:[h.jsxs("div",{className:"mb-12",children:[h.jsx("div",{className:"w-1/2 mb-6",children:h.jsxs("button",{onClick:()=>l("chat"),className:"w-full bg-[#1A1D2E] hover:bg-[#2A2D3E] p-6 rounded-xl text-left transition-all hover:scale-[1.02] group",children:[h.jsxs("div",{className:"flex items-center gap-3 text-xl font-semibold text-white mb-2",children:[h.jsx(Ah,{className:"text-blue-400"}),"Chat with AI"]}),h.jsx("p",{className:"text-gray-400",children:"Get instant help and explanations from your AI Beeka AI"})]})}),h.jsx("h2",{className:"text-2xl font-semibold text-white mb-6",children:"Study Guide"}),h.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:[h.jsxs("button",{onClick:()=>l("notes"),className:"bg-[#1A1D2E] hover:bg-[#2A2D3E] p-6 rounded-xl text-left transition-all hover:scale-[1.02]",children:[h.jsxs("div",{className:"flex items-center gap-3 text-lg font-semibold text-white mb-2",children:[h.jsx(lr,{className:"text-green-400"}),"Generate Notes"]}),h.jsx("p",{className:"text-sm text-gray-400",children:"Create AI-powered study notes"})]}),h.jsxs("button",{onClick:()=>l("quiz"),className:"bg-[#1A1D2E] hover:bg-[#2A2D3E] p-6 rounded-xl text-left transition-all hover:scale-[1.02]",children:[h.jsxs("div",{className:"flex items-center gap-3 text-lg font-semibold text-white mb-2",children:[h.jsx(hm,{className:"text-purple-400"}),"Quiz"]}),h.jsx("p",{className:"text-sm text-gray-400",children:"Test your knowledge"})]}),h.jsxs("button",{onClick:()=>l("flashcards"),className:"bg-[#1A1D2E] hover:bg-[#2A2D3E] p-6 rounded-xl text-left transition-all hover:scale-[1.02]",children:[h.jsxs("div",{className:"flex items-center gap-3 text-lg font-semibold text-white mb-2",children:[h.jsx(WS,{className:"text-yellow-400"}),"Flashcards"]}),h.jsx("p",{className:"text-sm text-gray-400",children:"Review with smart flashcards"})]})]}),h.jsx("h2",{className:"text-2xl font-semibold text-white mt-8 mb-6",children:"Write"}),h.jsx("div",{className:"w-1/2",children:h.jsxs("button",{onClick:()=>l("solve"),className:"bg-[#1A1D2E] hover:bg-[#2A2D3E] p-6 rounded-xl text-left transition-all hover:scale-[1.02]",children:[h.jsxs("div",{className:"flex items-center gap-3 text-lg font-semibold text-white mb-2",children:[h.jsx(qS,{className:"text-red-400"}),"Solve"]}),h.jsx("p",{className:"text-sm text-gray-400",children:"Write Essays, Reports, and more"})]})})]}),h.jsxs("div",{className:"mb-8",children:[h.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Recent Sessions"}),h.jsxs("div",{className:"relative group",children:[h.jsx("button",{onClick:()=>a("left","sessions-container"),className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 bg-[#1A1D2E]/80 p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:h.jsx($l,{className:"text-white"})}),h.jsx("div",{id:"sessions-container",className:"flex gap-4 overflow-x-auto pb-4 scroll-smooth hide-scrollbar",children:n.flatMap(d=>d.spaces.map(f=>h.jsxs("div",{onClick:()=>l(f.type),className:"min-w-[250px] bg-[#1A1D2E] p-6 rounded-xl cursor-pointer hover:bg-[#2A2D3E] transition-all hover:scale-[1.02]",children:[h.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:f.name}),h.jsxs("p",{className:"text-sm text-gray-400",children:["Folder: ",d.name]})]},f.id)))}),h.jsx("button",{onClick:()=>a("right","sessions-container"),className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 bg-[#1A1D2E]/80 p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:h.jsx(Go,{className:"text-white"})})]})]}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"My Folders"}),h.jsxs("div",{className:"relative group",children:[h.jsx("button",{onClick:()=>a("left","folders-container"),className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 bg-[#1A1D2E]/80 p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:h.jsx($l,{className:"text-white"})}),h.jsxs("div",{id:"folders-container",className:"flex gap-4 overflow-x-auto pb-4 scroll-smooth hide-scrollbar",children:[h.jsxs("button",{onClick:t,className:"min-w-[250px] bg-[#1A1D2E] p-6 rounded-xl cursor-pointer hover:bg-[#2A2D3E] transition-all hover:scale-[1.02] text-left",children:[h.jsxs("div",{className:"flex items-center gap-3 text-lg font-semibold text-white mb-2",children:[h.jsx(cm,{className:"text-orange-400"}),"Create Folder"]}),h.jsx("p",{className:"text-sm text-gray-400",children:"Organize your study materials"})]}),n.map(d=>h.jsxs("div",{className:"min-w-[250px] bg-[#1A1D2E] p-6 rounded-xl cursor-pointer hover:bg-[#2A2D3E] transition-all hover:scale-[1.02]",children:[h.jsxs("div",{className:"flex items-center gap-3 text-lg font-semibold text-white mb-2",children:[h.jsx(Ul,{className:"text-blue-400"}),d.name]}),h.jsxs("p",{className:"text-sm text-gray-400",children:[d.spaces.length," spaces"]})]},d.id))]}),h.jsx("button",{onClick:()=>a("right","folders-container"),className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 bg-[#1A1D3E]/80 p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:h.jsx(Go,{className:"text-white"})})]})]}),r&&h.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:h.jsxs("div",{className:"bg-[#1A1D2E] rounded-xl p-6 w-full max-w-md",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h3",{className:"text-xl font-semibold text-white",children:"Select a Folder"}),h.jsx("button",{onClick:()=>i(!1),className:"text-gray-400 hover:text-white",children:h.jsx(Mt,{size:24})})]}),h.jsxs("div",{className:"space-y-2 max-h-[300px] overflow-y-auto",children:[n.map(d=>h.jsx("button",{onClick:()=>c(),className:"w-full p-4 bg-[#2A2D3E] hover:bg-[#353849] rounded-lg text-left transition-colors",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(Ul,{size:20,className:"text-blue-400"}),h.jsx("span",{className:"text-white",children:d.name})]})},d.id)),h.jsx("button",{onClick:()=>{i(!1),t()},className:"w-full p-4 bg-[#2A2D3E] hover:bg-[#353849] rounded-lg text-left transition-colors",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(cm,{size:20,className:"text-orange-400"}),h.jsx("span",{className:"text-white",children:"Create New Folder"})]})})]})]})})]})}function D7({resources:t,onGenerate:e,initialQuiz:n,onQuizGenerated:r}){const[i,s]=M.useState(!0),[o,a]=M.useState(1),[l,c]=M.useState([]),[d,f]=M.useState(""),[p,g]=M.useState(!1),[w,T]=M.useState(null),[I,E]=M.useState(n||""),[v,x]=M.useState({numQuestions:5,questionTypes:{trueFalse:!0,multipleChoice:!0,fillInBlank:!0,shortAnswer:!0}}),[N,O]=M.useState("idle"),[A,k]=M.useState({}),b=t.filter(q=>q.name.toLowerCase().includes(d.toLowerCase())),S=q=>{c(Q=>Q.includes(q)?Q.filter(ce=>ce!==q):[...Q,q])},_=async()=>{if(l.length===0){T("Please select at least one file");return}if(Object.values(v.questionTypes).every(q=>!q)){T("Please select at least one question type");return}g(!0),T(null),O("reading"),E("");try{const q={num_questions:v.numQuestions,question_types:{trueFalse:v.questionTypes.trueFalse,fillInBlank:v.questionTypes.fillInBlank,shortAnswer:v.questionTypes.shortAnswer}},Q=await e(l,q);if(!Q)throw new Error("No quiz content received");E(Q),r(Q),O("complete"),s(!1)}catch(q){console.error("Error generating quiz:",q),T(q instanceof Error?q.message:"Failed to generate quiz. Please try again."),O("idle"),s(!0)}finally{g(!1)}},P=q=>{k(Q=>({...Q,[q]:!Q[q]}))},R=(q=>{const Q=[],ce=q.split(`
`);let se={},U=[],Y=!1;for(let j=0;j<ce.length;j++){const J=ce[j].trim();if(J.startsWith("# Answer Key")){Y=!0;continue}if(Y){if(J.match(/^\d+\./)){const ne=Q.findIndex(L=>!L.answer);ne!==-1&&(Q[ne].answer=J.replace(/^\d+\.\s*/,""))}}else if(J.startsWith("Question Type:"))se.question&&(U.length>0&&(se.question+=`

Options:
`+U.join(`
`)),Q.push(se)),se={type:J.replace("Question Type:","").trim(),question:"",answer:""},U=[];else if(J.startsWith("Question:"))se.question=J.replace("Question:","").trim();else{if(J.startsWith("Options:"))continue;J.match(/^[A-D]\./)?U.push(J):J.startsWith("Answer:")?se.answer=J.replace("Answer:","").trim():se.question&&J&&(se.question+=`
`+J)}}return se.question&&(U.length>0&&(se.question+=`

Options:
`+U.join(`
`)),Q.push(se)),Q})(I);return h.jsx("div",{className:"h-full bg-[#0A0B14] text-white p-8",children:i?h.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:h.jsxs("div",{className:"bg-[#12141F] rounded-xl p-8 w-full max-w-2xl",children:[h.jsxs("div",{className:"flex justify-between items-center mb-8",children:[h.jsx("h3",{className:"text-2xl font-bold",children:"Create Quiz"}),h.jsx("button",{onClick:()=>s(!1),className:"hover:bg-[#2A2D3E] p-2 rounded-lg",children:h.jsx(Mt,{size:24})})]}),w&&h.jsx("div",{className:"mb-4 p-4 bg-red-500/20 border border-red-500 rounded-lg",children:h.jsx("p",{className:"text-red-400",children:w})}),p?h.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[h.jsx(Ko,{className:"animate-spin text-blue-400 mb-4",size:48}),h.jsx("p",{className:"text-gray-400",children:N==="reading"?"Reading your resources...":"Generating quiz..."})]}):h.jsxs(h.Fragment,{children:[o===1&&h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[h.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-600 flex items-center justify-center",children:"1"}),h.jsx("h4",{className:"text-lg font-semibold",children:"Select Resources"})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("input",{type:"text",placeholder:"Search resources...",value:d,onChange:q=>f(q.target.value),className:"w-full p-3 bg-[#1A1D2E] border border-gray-700 rounded-lg"}),h.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2",children:b.map(q=>h.jsxs("div",{onClick:()=>S(q.id),className:`w-full p-3 flex items-center gap-3 rounded-lg transition-colors cursor-pointer ${l.includes(q.id)?"bg-blue-600/20 border border-blue-600":"bg-[#1A1D2E] hover:bg-[#2A2D3E]"}`,children:[h.jsx(lr,{size:20}),h.jsx("span",{className:"flex-1 text-left",children:q.name}),l.includes(q.id)&&h.jsx(wy,{size:20})]},q.id))})]}),h.jsx("div",{className:"flex justify-end",children:h.jsxs("button",{onClick:()=>a(2),disabled:l.length===0,className:"px-6 py-2 bg-blue-600 rounded-lg flex items-center gap-2 disabled:opacity-50",children:["Next",h.jsx(Go,{size:20})]})})]}),o===2&&h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[h.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-600 flex items-center justify-center",children:"2"}),h.jsx("h4",{className:"text-lg font-semibold",children:"Quiz Settings"})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium mb-2",children:"Number of Questions"}),h.jsx("input",{type:"number",min:"1",max:"20",value:v.numQuestions,onChange:q=>x(Q=>({...Q,numQuestions:Math.min(20,Math.max(1,parseInt(q.target.value)||1))})),className:"w-full p-3 bg-[#1A1D2E] border border-gray-700 rounded-lg"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium mb-2",children:"Question Types"}),h.jsx("div",{className:"space-y-2",children:Object.entries(v.questionTypes).map(([q,Q])=>h.jsxs("label",{className:"flex items-center gap-2",children:[h.jsx("input",{type:"checkbox",checked:Q,onChange:ce=>x(se=>({...se,questionTypes:{...se.questionTypes,[q]:ce.target.checked}})),className:"rounded border-gray-700"}),h.jsx("span",{className:"capitalize",children:q.replace(/([A-Z])/g," $1").trim()})]},q))})]})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsxs("button",{onClick:()=>a(1),className:"px-6 py-2 bg-[#2A2D3E] rounded-lg flex items-center gap-2",children:[h.jsx($l,{size:20}),"Back"]}),h.jsx("button",{onClick:_,disabled:p||Object.values(v.questionTypes).every(q=>!q),className:"px-6 py-2 bg-blue-600 rounded-lg flex items-center gap-2 disabled:opacity-50",children:p?h.jsxs(h.Fragment,{children:[h.jsx(Ko,{size:20,className:"animate-spin"}),N==="reading"?"Reading Files...":N==="generating"?"Generating Quiz...":"Loading..."]}):"Generate Quiz"})]})]})]})]})}):h.jsx("div",{className:"max-w-4xl mx-auto",children:I?h.jsx("div",{className:"space-y-8",children:R.map((q,Q)=>h.jsxs("div",{className:"bg-[#12141F] rounded-xl p-6",children:[h.jsxs("div",{className:"flex justify-between items-start mb-4",children:[h.jsxs("h3",{className:"text-lg font-semibold",children:["Question ",Q+1]}),h.jsx("span",{className:"text-sm text-gray-400 capitalize",children:q.type})]}),h.jsx("div",{className:"prose prose-invert max-w-none",children:h.jsx(jh,{children:q.question})}),h.jsx("button",{onClick:()=>P(Q),className:"mt-4 px-4 py-2 bg-[#2A2D3E] rounded-lg hover:bg-[#353849] transition-colors",children:A[Q]?"Hide Answer":"Show Answer"}),A[Q]&&h.jsxs("div",{className:"mt-4 p-4 bg-[#1A1D2E] rounded-lg",children:[h.jsx("h4",{className:"font-semibold mb-2",children:"Answer:"}),h.jsx(jh,{children:q.answer})]})]},Q))}):h.jsxs("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-4rem)]",children:[h.jsx(lr,{className:"text-gray-400 mb-4",size:48}),h.jsx("p",{className:"text-gray-400",children:"No quiz generated yet"}),h.jsxs("button",{onClick:()=>s(!0),className:"mt-4 px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded-lg transition-all transform hover:scale-105 flex items-center gap-2",children:[h.jsx(lr,{size:20}),"Generate Quiz"]})]})})})}const O7=({resources:t,onGenerate:e})=>{const[n,r]=M.useState(!0),[i,s]=M.useState([]),[o,a]=M.useState(!1),[l,c]=M.useState([]),[d,f]=M.useState(0),[p,g]=M.useState(!1),[w,T]=M.useState(null),[I,E]=M.useState(5),[v,x]=M.useState("idle"),N=async()=>{if(i.length===0){T("Please select at least one file");return}a(!0),T(null),x("reading");try{const _=await e(i,{num_flashcards:I}),P=O(_);c(P),f(0),g(!1),x("complete"),r(!1)}catch(_){console.error("Error generating flashcards:",_),T(_ instanceof Error?_.message:"Failed to generate flashcards. Please try again."),x("idle")}finally{a(!1)}},O=_=>{const P=[],D=_.split(`
`);let R={};for(const q of D)q.startsWith("Front:")?(R.front&&R.back&&P.push(R),R={id:Math.random().toString(36).substr(2,9),front:q.replace("Front:","").trim()}):q.startsWith("Back:")&&(R.back=q.replace("Back:","").trim());return R.front&&R.back&&P.push(R),P},A=()=>{d<l.length-1&&(f(d+1),g(!1))},k=()=>{d>0&&(f(d-1),g(!1))},b=()=>{f(0),g(!1)},S=_=>{s(P=>P.includes(_)?P.filter(D=>D!==_):[...P,_])};return h.jsx("div",{className:"h-full flex flex-col bg-[#0A0B14] text-white",children:n?h.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:h.jsxs("div",{className:"bg-[#12141F] rounded-xl p-8 w-full max-w-2xl",children:[h.jsxs("div",{className:"flex justify-between items-center mb-8",children:[h.jsx("h3",{className:"text-2xl font-bold",children:"Create Flashcards"}),h.jsx("button",{onClick:()=>r(!1),className:"hover:bg-[#2A2D3E] p-2 rounded-lg",children:h.jsx(Mt,{size:24})})]}),w&&h.jsx("div",{className:"mb-4 p-4 bg-red-500/20 border border-red-500 rounded-lg",children:h.jsx("p",{className:"text-red-400",children:w})}),o?h.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[h.jsx(Ko,{className:"animate-spin text-blue-400 mb-4",size:48}),h.jsx("p",{className:"text-gray-400",children:v==="reading"?"Reading your resources...":"Generating flashcards..."})]}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Select Files"}),h.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:t.map(_=>h.jsxs("label",{className:"flex items-center space-x-2 p-2 hover:bg-[#2A2D3E] rounded-lg",children:[h.jsx("input",{type:"checkbox",checked:i.includes(_.id),onChange:()=>S(_.id),className:"form-checkbox h-5 w-5 text-blue-600"}),h.jsx("span",{children:_.name})]},_.id))})]}),h.jsxs("div",{className:"mb-6",children:[h.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Number of Flashcards"}),h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx("input",{type:"range",min:"1",max:"10",value:I,onChange:_=>E(parseInt(_.target.value)),className:"w-full"}),h.jsx("span",{className:"text-lg font-semibold",children:I})]})]}),h.jsx("div",{className:"flex justify-end",children:h.jsx("button",{onClick:N,disabled:o||i.length===0,className:"px-6 py-2 bg-blue-600 rounded-lg flex items-center gap-2 disabled:opacity-50",children:o?h.jsxs(h.Fragment,{children:[h.jsx(Ko,{size:20,className:"animate-spin"}),v==="reading"?"Reading Files...":v==="generating"?"Generating Flashcards...":"Loading..."]}):"Generate Flashcards"})})]})]})}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"p-6 border-b border-gray-700",children:[h.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Flashcards"}),l.length===0&&h.jsx("button",{onClick:()=>r(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Generate Flashcards"})]}),l.length>0&&h.jsx("div",{className:"flex-1 flex flex-col items-center justify-center p-6",children:h.jsxs("div",{className:"w-full max-w-2xl",children:[h.jsxs("div",{className:"text-center mb-4",children:["Card ",d+1," of ",l.length]}),h.jsx("div",{className:"relative w-full aspect-[3/2] cursor-pointer perspective-1000",onClick:()=>g(!p),children:h.jsxs("div",{className:`absolute w-full h-full transition-transform duration-500 transform-style-3d ${p?"rotate-y-180":""}`,children:[h.jsx("div",{className:"absolute w-full h-full bg-[#1A1D2E] rounded-xl p-8 backface-hidden",children:h.jsx("div",{className:"h-full flex items-center justify-center text-center",children:h.jsx("p",{className:"text-xl",children:l[d].front})})}),h.jsx("div",{className:"absolute w-full h-full bg-[#2A2D3E] rounded-xl p-8 backface-hidden rotate-y-180",children:h.jsx("div",{className:"h-full flex items-center justify-center text-center",children:h.jsx("p",{className:"text-xl",children:l[d].back})})})]})}),h.jsxs("div",{className:"flex justify-center items-center space-x-4 mt-8",children:[h.jsx("button",{onClick:k,disabled:d===0,className:"p-2 rounded-full bg-[#1A1D2E] hover:bg-[#2A2D3E] transition-colors disabled:opacity-50",children:h.jsx($l,{size:24})}),h.jsx("button",{onClick:b,className:"p-2 rounded-full bg-[#1A1D2E] hover:bg-[#2A2D3E] transition-colors",children:h.jsx(B3,{size:24})}),h.jsx("button",{onClick:A,disabled:d===l.length-1,className:"p-2 rounded-full bg-[#1A1D2E] hover:bg-[#2A2D3E] transition-colors disabled:opacity-50",children:h.jsx(Go,{size:24})})]})]})})]})})},L7=t=>{const n={yearly:"https://buy.stripe.com/test_eVq14n3LIe8Kg2i9SxbII01",monthly:"https://buy.stripe.com/test_fZu5kD3LI0hUdUa8OtbII00"}[t];n?window.location.href=n:(console.error("Invalid plan selected:",t),alert("Could not find payment link for the selected plan."))};function M7(){var wt,pa;const[t,e]=M.useState(!0),[n,r]=M.useState(!1),[i,s]=M.useState(!1),[o,a]=M.useState(!1),[l,c]=M.useState(!1),[d,f]=M.useState(!1),[p,g]=M.useState(0),[w,T]=M.useState([]),[I,E]=M.useState(null),[v,x]=M.useState(""),[N,O]=M.useState(null),[A,k]=M.useState(!0),[b,S]=M.useState(!1),[_,P]=M.useState(""),[D,R]=M.useState([]),[q,Q]=M.useState(""),[ce,se]=M.useState(null),[U,Y]=M.useState(null),[j,J]=M.useState(null),[ne,L]=M.useState(null),[ge,Ne]=M.useState(""),[he,X]=M.useState(""),{signOut:pe,user:ve}=Wo(),ke=Wi(),[Fe,pn]=M.useState(!1),[Fn,_r]=M.useState(!1),[Gr,Kr]=M.useState(!1),[qs,Zi]=M.useState(!1),[es,Vn]=M.useState(!1),[Ws,ha]=M.useState(""),[Qr,Yr]=M.useState(!1),[Sn,V]=M.useState("yearly"),[W,de]=M.useState(0),xe=[{text:"Beeka AI has completely transformed how I prepare for exams. I've improved my grades significantly with much less stress.",author:"Sarah Johnson, Medical Student"},{text:"The AI chat feature feels like having a tutor available 24/7. It explains complex concepts in ways that actually make sense.",author:"Michael Chen, Computer Science Major"},{text:"The AI-powered quizzes are challenging but fair. They've helped me identify my weak areas and improve significantly.",author:"Alex Rodriguez, Business Student"},{text:"The flashcard system uses spaced repetition which helped me retain information long-term. Ace my finals thanks to Beeka AI!",author:"Jessica Patel, Law Student"},{text:"I love how Beeka AI adapts to my learning style. The personalized approach makes studying so much more effective.",author:"Emma Wilson, Psychology Major"},{text:"The note generation feature is incredible! It helped me organize my thoughts and create comprehensive study materials in minutes.",author:"David Kim, Engineering Student"}];M.useEffect(()=>{const $=localStorage.getItem("folders");$&&T(JSON.parse($))},[]),M.useEffect(()=>{const $=setInterval(()=>{de(ee=>(ee+1)%xe.length)},3e3);return()=>clearInterval($)},[xe.length]);const je=$=>{const ee=new Date,re=String(ee.getDate()).padStart(2,"0"),_e=String(ee.getMonth()+1).padStart(2,"0"),Se=ee.getFullYear(),qe=ee.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return $==="chat"?`Chat ${re}/${_e}/${Se} ${qe}`:$==="notes"?`Note ${re}/${_e}/${Se} ${qe}`:$==="quiz"?`Quiz ${re}/${_e}/${Se} ${qe}`:$==="flashcards"?`FlashC ${re}/${_e}/${Se} ${qe}`:$==="solve"?`Write ${re}/${_e}/${Se} ${qe}`:`New ${$.charAt(0).toUpperCase()+$.slice(1)}`},Wt=async()=>{if(v.trim()){if(w.some($=>$.name.toLowerCase()===v.toLowerCase())){alert("A folder with that name already exists. Please use a different name.");return}try{const $=await fetch("https://beeka-backend.onrender.com/folders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:v,user_id:(ve==null?void 0:ve.uid)||"default"})});if(!$.ok)throw new Error("Failed to create folder in backend");const re={id:(await $.json()).id,name:v,resources:[],spaces:[]};T([...w,re]),x(""),s(!1)}catch($){alert($ instanceof Error?$.message:"Failed to create folder")}}},Gt=()=>{E(null),O(null),k(!1),e(!0)},nn=$=>{E($),e(!1),k(!0),O(null)},Kt=async $=>{if(I)try{let ee=je($);const re={type:$,name:ee,folder_id:I.id},_e=await fetch("https://beeka-backend.onrender.com/spaces",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(re)});if(!_e.ok){const ze=await _e.json().catch(()=>null);throw new Error((ze==null?void 0:ze.detail)||"Failed to create space")}const Se=await _e.json(),qe={...I,spaces:[...I.spaces,Se]};T(w.map(ze=>ze.id===I.id?qe:ze)),E(qe),O(Se),a(!1),k(!0)}catch(ee){alert(ee instanceof Error?ee.message:"Failed to create space")}},zn=async()=>{try{await pe(),ke("/signin")}catch($){console.error("Failed to log out:",$)}},xt=async $=>{if(!I){alert("Please select a folder first");return}if(!$.type.includes("pdf")){alert("Please upload PDF files only");return}if($.size>10*1024*1024){alert("File size must be less than 10MB");return}f(!0),g(0);const ee=new FormData;ee.append("file",$);try{const re=await fetch(`https://beeka-backend.onrender.com/upload/${I.id}`,{method:"POST",body:ee});if(!re.ok){const qe=await re.json();throw new Error(qe.detail||"Upload failed")}const _e=await re.json();console.log("Upload success:",_e);const Se={...I,resources:[...I.resources,{id:_e.id,name:_e.name}]};E(Se),T(w.map(qe=>qe.id===I.id?Se:qe)),c(!1)}catch(re){console.error("Upload error:",re),alert(re instanceof Error?re.message:"Failed to upload file. Please try again.")}finally{f(!1),g(0)}},Xn=$=>{O($),k(!1)},kt=$=>{$.preventDefault(),$.stopPropagation(),S($.type==="dragenter"||$.type==="dragover")},pu=$=>{var ee;$.preventDefault(),$.stopPropagation(),S(!1),(ee=$.dataTransfer.files)!=null&&ee.length&&Array.from($.dataTransfer.files).forEach(re=>xt(re))},mu=async($,ee)=>{try{const re=await fetch("https://beeka-backend.onrender.com/ask",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:$,context:ee})});if(!re.ok)throw new Error("Failed to connect to the AI service.");return(await re.json()).response}catch(re){throw console.error("Error connecting to AI service:",re),re}},ts=async $=>{let re=0;for(;re<3;)try{const Se=(await Promise.all($.map(async st=>{const er=await fetch(`https://beeka-backend.onrender.com/file-content/${st}`);if(!er.ok)throw new Error(`Failed to fetch content for file ID: ${st}`);return(await er.json()).content}))).join(`

---

`),qe=await fetch("https://beeka-backend.onrender.com/generate-notes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({context:Se})});if(!qe.ok){const st=await qe.json();throw new Error(st.detail||"Failed to generate notes")}const ze=await qe.json();if(!ze.notes||ze.notes.trim()==="")throw new Error("Generated notes are empty");if(N&&N.type==="notes"){const st=ze.notes.split(`
`)[0].trim(),er=st.startsWith("#")?st.substring(1).trim():st,rs=await fetch(`https://beeka-backend.onrender.com/spaces/${N.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...N,name:er,notes:ze.notes})});if(!rs.ok)throw new Error("Failed to update space with notes");const is=await rs.json();if(O(is),I){const tr=I.spaces.map(ss=>ss.id===N.id?is:ss),xu={...I,spaces:tr};T(ss=>ss.map(Gs=>Gs.id===I.id?xu:Gs))}}return ze.notes}catch(_e){if(console.error(`Error generating notes (attempt ${re+1}/3):`,_e),re++,re===3){const Se="Failed to generate notes after multiple attempts. Please try again.";throw new Error(Se)}await new Promise(Se=>setTimeout(Se,1e3*Math.pow(2,re)))}},da=async($,ee)=>{try{const re=await fetch("https://beeka-backend.onrender.com/generate-quiz",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({file_ids:$,options:ee})});if(!re.ok){const Se=await re.json();throw new Error(Se.detail||"Failed to generate quiz")}const _e=await re.json();if(N&&N.type==="quiz"){const Se={...N,notes:_e.quiz};if(O(Se),I){const qe=I.spaces.map(st=>st.id===N.id?Se:st),ze={...I,spaces:qe};T(st=>st.map(er=>er.id===I.id?ze:er))}}return _e.quiz}catch(re){throw console.error("Error generating quiz:",re),new Error(re instanceof Error?re.message:"Failed to generate quiz. Please try again.")}},fa=async $=>{try{const ee=await fetch("https://beeka-backend.onrender.com/generate-flashcards",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({file_ids:$})});if(!ee.ok){const _e=await ee.json();throw new Error(_e.detail||"Failed to generate flashcards")}const re=await ee.json();if(N&&N.type==="flashcards"){const _e={...N,notes:re.flashcards};if(O(_e),I){const Se=I.spaces.map(ze=>ze.id===N.id?_e:ze),qe={...I,spaces:Se};T(ze=>ze.map(st=>st.id===I.id?qe:st))}}return re.flashcards}catch(ee){throw console.error("Error generating flashcards:",ee),new Error(ee instanceof Error?ee.message:"Failed to generate flashcards. Please try again.")}},Zn=async($,ee)=>{try{if(!(await fetch(`https://beeka-backend.onrender.com/folders/${$}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:ee})})).ok)throw new Error("Failed to rename folder");T(w.map(_e=>_e.id===$?{..._e,name:ee}:_e)),J(null)}catch(re){console.error("Error renaming folder:",re),alert("Failed to rename folder. Please try again.")}},gu=async $=>{if(window.confirm("Are you sure you want to remove this folder? This action cannot be undone."))try{if(!(await fetch(`https://beeka-backend.onrender.com/folders/${$}`,{method:"DELETE"})).ok)throw new Error("Failed to remove folder");T(w.filter(re=>re.id!==$)),(I==null?void 0:I.id)===$&&(E(null),k(!1))}catch(ee){console.error("Error removing folder:",ee),alert("Failed to remove folder. Please try again.")}},ns=async($,ee)=>{try{if(!(await fetch(`https://beeka-backend.onrender.com/spaces/${$}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:ee})})).ok)throw new Error("Failed to rename space");T(w.map(_e=>({..._e,spaces:_e.spaces.map(Se=>Se.id===$?{...Se,name:ee}:Se)}))),L(null)}catch(re){console.error("Error renaming space:",re),alert("Failed to rename space. Please try again.")}},yu=async $=>{if(window.confirm("Are you sure you want to remove this space? This action cannot be undone."))try{if(!(await fetch(`https://beeka-backend.onrender.com/spaces/${$}`,{method:"DELETE"})).ok)throw new Error("Failed to remove space");T(w.map(re=>({...re,spaces:re.spaces.filter(_e=>_e.id!==$)}))),(N==null?void 0:N.id)===$&&O(null)}catch(ee){console.error("Error removing space:",ee),alert("Failed to remove space. Please try again.")}},Er=async $=>{if(!N)return;const ee=je(N.type);if(ee!==N.name)try{const re=await fetch(`https://beeka-backend.onrender.com/spaces/${$}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...N,name:ee})});if(!re.ok)throw new Error("Failed to update space name");const _e=await re.json();if(O(_e),I){const Se=I.spaces.map(ze=>ze.id===$?_e:ze),qe={...I,spaces:Se};T(w.map(ze=>ze.id===I.id?qe:ze))}}catch(re){console.error("Error updating space name:",re)}},vu=async()=>{try{if(!ve)return;await pe(),ke("/signin")}catch($){console.error("Error deleting account:",$),alert("Failed to delete account. Please try again.")}};return h.jsxs("div",{className:"flex flex-col md:flex-row min-h-screen bg-[#0A0B14]",children:[h.jsxs("div",{className:"md:hidden flex items-center justify-between p-4 bg-[#12141F] text-white",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[h.jsx("defs",{children:h.jsxs("linearGradient",{id:"bStudyGradientMobile",x1:"0",y1:"0",x2:"64",y2:"64",gradientUnits:"userSpaceOnUse",children:[h.jsx("stop",{"stop-color":"#6EE7B7"}),h.jsx("stop",{offset:"0.5","stop-color":"#3B82F6"}),h.jsx("stop",{offset:"1","stop-color":"#A78BFA"})]})}),h.jsx("path",{d:"M12 48 Q32 36 52 48 Q32 60 12 48 Z",fill:"url(#bStudyGradientMobile)",opacity:"0.7"}),h.jsx("path",{d:"M20 44 Q32 38 44 44",stroke:"#fff",strokeWidth:"2",fill:"none"}),h.jsx("polygon",{points:"32,10 48,18 32,26 16,18",fill:"url(#bStudyGradientMobile)",opacity:"0.8"}),h.jsx("path",{d:"M28 20 v24 q0 4 4 4 h2 q8 0 8-8 q0-4-4-6 q4-2 4-6 q0-8-8-8 h-2 q-4 0-4 4 z M32 24 h2 q4 0 4 4 q0 4-4 4 h-2 z M32 36 h2 q4 0 4 4 q0 4-4 4 h-2 z",fill:"#fff",stroke:"url(#bStudyGradientMobile)",strokeWidth:"1.5"})]}),h.jsx("h1",{className:"text-xl font-bold",children:"Beeka AI"})]}),h.jsx("button",{onClick:()=>r(!n),className:"p-2",children:h.jsx(dm,{size:24})})]}),h.jsxs("div",{className:`${n?"translate-x-0":"-translate-x-full"} 
        md:translate-x-0 ${t?"w-full md:w-64":"w-16"} 
        bg-[#12141F] text-white transition-all duration-300 flex flex-col fixed md:relative h-screen z-40`,children:[h.jsx("div",{className:"p-4 flex items-center justify-between md:justify-center border-b border-gray-700 sticky top-0 bg-[#12141F] z-10",children:t?h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[h.jsx("defs",{children:h.jsxs("linearGradient",{id:"bStudyGradient",x1:"0",y1:"0",x2:"64",y2:"64",gradientUnits:"userSpaceOnUse",children:[h.jsx("stop",{"stop-color":"#6EE7B7"}),h.jsx("stop",{offset:"0.5","stop-color":"#3B82F6"}),h.jsx("stop",{offset:"1","stop-color":"#A78BFA"})]})}),h.jsx("path",{d:"M12 48 Q32 36 52 48 Q32 60 12 48 Z",fill:"url(#bStudyGradient)",opacity:"0.7"}),h.jsx("path",{d:"M20 44 Q32 38 44 44",stroke:"#fff",strokeWidth:"2",fill:"none"}),h.jsx("polygon",{points:"32,10 48,18 32,26 16,18",fill:"url(#bStudyGradient)",opacity:"0.8"}),h.jsx("path",{d:"M28 20 v24 q0 4 4 4 h2 q8 0 8-8 q0-4-4-6 q4-2 4-6 q0-8-8-8 h-2 q-4 0-4 4 z M32 24 h2 q4 0 4 4 q0 4-4 4 h-2 z M32 36 h2 q4 0 4 4 q0 4-4 4 h-2 z",fill:"#fff",stroke:"url(#bStudyGradient)",strokeWidth:"1.5"})]}),h.jsx("h1",{className:"text-xl font-bold",children:"Beeka AI"})]}),h.jsx("button",{onClick:()=>r(!1),className:"md:hidden",children:h.jsx(Mt,{size:24})})]}):h.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[h.jsx("defs",{children:h.jsxs("linearGradient",{id:"bStudyGradient2",x1:"0",y1:"0",x2:"64",y2:"64",gradientUnits:"userSpaceOnUse",children:[h.jsx("stop",{"stop-color":"#6EE7B7"}),h.jsx("stop",{offset:"0.5","stop-color":"#3B82F6"}),h.jsx("stop",{offset:"1","stop-color":"#A78BFA"})]})}),h.jsx("path",{d:"M12 48 Q32 36 52 48 Q32 60 12 48 Z",fill:"url(#bStudyGradient2)",opacity:"0.7"}),h.jsx("path",{d:"M20 44 Q32 38 44 44",stroke:"#fff",strokeWidth:"2",fill:"none"}),h.jsx("polygon",{points:"32,10 48,18 32,26 16,18",fill:"url(#bStudyGradient2)",opacity:"0.8"}),h.jsx("path",{d:"M28 20 v24 q0 4 4 4 h2 q8 0 8-8 q0-4-4-6 q4-2 4-6 q0-8-8-8 h-2 q-4 0-4 4 z M32 24 h2 q4 0 4 4 q0 4-4 4 h-2 z M32 36 h2 q4 0 4 4 q0 4-4 4 h-2 z",fill:"#fff",stroke:"url(#bStudyGradient2)",strokeWidth:"1.5"})]})}),h.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[h.jsxs("nav",{className:"flex-1 overflow-y-auto py-4",children:[h.jsxs("button",{onClick:Gt,className:"w-full p-4 flex items-center gap-3 hover:bg-[#1A1D2E] transition-colors",children:[h.jsx(F3,{size:20}),t&&h.jsx("span",{children:"Home"})]}),h.jsxs("button",{onClick:()=>s(!0),className:"w-full p-4 flex items-center gap-3 hover:bg-[#1A1D2E] transition-colors",children:[h.jsx(cm,{size:20}),t&&h.jsx("span",{children:"Create Folder"})]}),h.jsx("div",{className:"px-4 py-2",children:w.map($=>h.jsx("div",{className:"relative",onMouseEnter:()=>se($.id),onMouseLeave:()=>se(null),children:h.jsxs("div",{onClick:()=>nn($),className:"w-full p-2 flex items-center justify-between hover:bg-[#1A1D2E] rounded transition-colors cursor-pointer",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Ul,{size:16}),j===$.id?h.jsx("input",{type:"text",value:ge,onChange:ee=>Ne(ee.target.value),onBlur:()=>{ge.trim()&&Zn($.id,ge),J(null)},onKeyPress:ee=>{ee.key==="Enter"&&ge.trim()&&(Zn($.id,ge),J(null))},className:"bg-[#2A2D3E] text-white px-2 py-1 rounded",autoFocus:!0}):h.jsx(h.Fragment,{children:t&&h.jsx("span",{children:$.name})})]}),ce===$.id&&t&&h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"p-1 hover:bg-[#2A2D3E] rounded cursor-pointer",onClick:ee=>{ee.stopPropagation();const re=ee.currentTarget.nextElementSibling;re&&re.classList.toggle("hidden")},children:h.jsx(Pc,{size:16})}),h.jsxs("div",{className:"absolute right-0 mt-1 bg-[#2A2D3E] rounded-lg shadow-lg py-1 w-32 hidden",children:[h.jsx("div",{onClick:ee=>{ee.stopPropagation(),J($.id),Ne($.name)},className:"w-full px-4 py-2 text-left hover:bg-[#353849] text-sm cursor-pointer",children:"Rename"}),h.jsx("div",{onClick:ee=>{ee.stopPropagation(),gu($.id)},className:"w-full px-4 py-2 text-left hover:bg-[#353849] text-sm text-red-400 cursor-pointer",children:"Remove"})]})]})]})},$.id))})]}),h.jsxs("div",{className:"mt-auto border-t border-gray-700 p-4 space-y-2",children:[h.jsxs("button",{onClick:()=>e(!t),className:"w-full p-2 flex items-center gap-2 hover:bg-[#1A1D2E] rounded transition-colors",children:[h.jsx(dm,{size:20}),t&&h.jsx("span",{children:"Close Sidebar"})]}),h.jsxs("button",{onClick:()=>Kr(!0),className:"w-full p-2 flex items-center gap-2 hover:bg-[#1A1D2E] rounded transition-colors",children:[h.jsx("div",{className:"p-1 rounded-full bg-gradient-to-r from-green-400 to-green-600",children:h.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"})})}),t&&h.jsx("span",{children:"Mobile App"})]}),h.jsxs("button",{onClick:()=>_r(!0),className:"w-full p-2 flex items-center gap-2 hover:bg-[#1A1D2E] rounded transition-colors",children:[h.jsx("div",{className:"p-1 rounded-full bg-gradient-to-r from-yellow-400 to-yellow-600",children:h.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})})}),t&&h.jsx("span",{children:"Upgrade to Pro"})]}),h.jsx("div",{className:"relative",children:h.jsxs("button",{onClick:()=>pn(!Fe),className:"w-full p-2 flex items-center gap-2 hover:bg-[#1A1D2E] rounded transition-colors",children:[h.jsx(W3,{size:20}),t&&h.jsx("span",{children:"Profile"})]})})]})]})]}),I&&A&&h.jsxs("div",{className:"w-64 bg-[#12141F] text-white p-6 border-r border-gray-700 h-screen overflow-hidden flex flex-col",children:[h.jsx("h2",{className:"text-2xl font-bold mb-6 sticky top-0 bg-[#12141F] z-10",children:I.name}),h.jsxs("div",{className:"space-y-4 overflow-y-auto flex-1",children:[h.jsxs("button",{onClick:()=>c(!0),className:"w-full py-2 px-4 bg-[#2A2D3E] hover:bg-[#353849] rounded-lg flex items-center gap-2",children:[h.jsx($3,{size:18}),h.jsx("span",{children:"Add Files"})]}),h.jsxs("button",{onClick:()=>{I&&I.resources.length>0&&k(!1)},className:"w-full py-2 px-4 bg-[#2A2D3E] hover:bg-[#353849] rounded-lg flex items-center gap-2",children:[h.jsx(M3,{size:18}),h.jsx("span",{children:"View Resources"})]}),h.jsx("div",{className:"w-full h-px bg-gray-700 my-6"}),h.jsx("button",{onClick:()=>a(!0),className:"w-full py-2 px-4 bg-[#2A2D3E] hover:bg-[#353849] rounded-lg",children:"Create Space"}),h.jsx("div",{className:"mt-4 space-y-2",children:I.spaces.map($=>h.jsx("div",{className:"relative group",onMouseEnter:()=>Y($.id),onMouseLeave:()=>Y(null),children:h.jsxs("button",{onClick:()=>Xn($),className:"w-full p-2 flex items-center justify-between hover:bg-[#1A1D2E] rounded text-left",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[$.type==="chat"&&h.jsx(Ah,{size:16}),$.type==="notes"&&h.jsx(lr,{size:16}),$.type==="quiz"&&h.jsx(hm,{size:16}),ne===$.id?h.jsx("input",{type:"text",value:he,onChange:ee=>X(ee.target.value),onBlur:()=>{he.trim()&&ns($.id,he),L(null)},onKeyPress:ee=>{ee.key==="Enter"&&he.trim()&&(ns($.id,he),L(null))},className:"bg-[#2A2D3E] text-white px-2 py-1 rounded",autoFocus:!0}):h.jsx("span",{children:$.name})]}),U===$.id&&h.jsxs("div",{className:"relative",children:[h.jsx("button",{className:"p-1 hover:bg-[#2A2D3E] rounded",onClick:ee=>{ee.stopPropagation();const re=ee.currentTarget.nextElementSibling;re&&re.classList.toggle("hidden")},children:h.jsx(Pc,{size:16})}),h.jsxs("div",{className:"absolute right-0 mt-1 bg-[#2A2D3E] rounded-lg shadow-lg py-1 w-32 hidden",children:[h.jsx("button",{onClick:ee=>{ee.stopPropagation(),L($.id),X($.name)},className:"w-full px-4 py-2 text-left hover:bg-[#353849] text-sm",children:"Rename"}),h.jsx("button",{onClick:ee=>{ee.stopPropagation(),yu($.id)},className:"w-full px-4 py-2 text-left hover:bg-[#353849] text-sm text-red-400",children:"Remove"})]})]})]})},$.id))})]})]}),h.jsx("div",{className:"flex-1 md:ml-0 mt-16 md:mt-0 h-screen overflow-hidden",children:N?h.jsxs("div",{className:"h-full overflow-y-auto",children:[N.type==="chat"&&h.jsx(tM,{spaceId:N.id,pdfText:_,messages:D,message:q,setMessage:Q,setMessages:R,setPdfText:P,resources:(I==null?void 0:I.resources)||[],onSendMessage:mu,onMessageSent:()=>Er(N.id)}),N.type==="notes"&&h.jsx(R7,{resources:(I==null?void 0:I.resources)||[],onGenerate:ts,initialNotes:N.notes,onNotesGenerated:()=>{N&&Er(N.id)},spaceId:N.id}),N.type==="quiz"&&h.jsx(D7,{resources:(I==null?void 0:I.resources)||[],onGenerate:da,initialQuiz:N.notes,onQuizGenerated:()=>Er(N.id)}),N.type==="flashcards"&&h.jsx(O7,{resources:(I==null?void 0:I.resources)||[],onGenerate:fa}),N.type==="solve"&&h.jsxs("div",{className:"p-8 text-white text-center",children:[h.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Write"}),h.jsx("p",{children:"Coming Soon..."})]})]}):I?h.jsx("div",{className:"p-8",children:h.jsx(nM,{resources:(I==null?void 0:I.resources)||[]})}):h.jsx("div",{className:"h-full overflow-y-auto scrollbar-hide",children:h.jsx(j7,{onCreateFolder:()=>s(!0),onCreateSpace:Kt,folders:w})})}),i&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:h.jsxs("div",{className:"bg-[#12141F] rounded-lg p-6 w-full max-w-sm text-white",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h3",{className:"text-xl font-bold",children:"Create a New Folder"}),h.jsx("button",{onClick:()=>s(!1),children:h.jsx(Mt,{size:20})})]}),h.jsx("input",{type:"text",value:v,onChange:$=>x($.target.value),placeholder:"Enter folder name",className:"w-full p-2 bg-[#1A1D2E] border border-gray-700 rounded mb-4 text-white"}),h.jsx("button",{onClick:Wt,className:"w-full py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Create"})]})}),o&&h.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:h.jsxs("div",{className:"bg-[#12141F] rounded-xl p-8 w-full max-w-4xl text-white",children:[h.jsxs("div",{className:"flex justify-between items-center mb-8",children:[h.jsx("h3",{className:"text-2xl font-bold",children:"Create Your Study Space"}),h.jsx("button",{onClick:()=>a(!1),className:"hover:bg-[#2A2D3E] p-2 rounded-lg transition-colors",children:h.jsx(Mt,{size:24})})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("button",{onClick:()=>Kt("chat"),className:"bg-[#2A2D3E] hover:bg-[#353849] p-4 rounded-xl flex flex-col items-center text-center gap-3 transition-all hover:scale-105 md:col-span-2",children:[h.jsx(Ah,{size:28,className:"text-blue-400"}),h.jsx("h4",{className:"text-lg font-semibold",children:"Chat with AI"}),h.jsx("p",{className:"text-gray-400 text-sm",children:"Get instant answers and explanations from your AI Beeka AI"})]}),h.jsxs("button",{onClick:()=>Kt("notes"),className:"bg-[#2A2D3E] hover:bg-[#353849] p-4 rounded-xl flex flex-col items-center text-center gap-3 transition-all hover:scale-105",children:[h.jsx(lr,{size:24,className:"text-green-400"}),h.jsx("h4",{className:"text-lg font-semibold",children:"Generate Notes"}),h.jsx("p",{className:"text-gray-400 text-sm",children:"Create comprehensive study notes from your materials"})]}),h.jsxs("button",{onClick:()=>Kt("quiz"),className:"bg-[#2A2D3E] hover:bg-[#353849] p-4 rounded-xl flex flex-col items-center text-center gap-3 transition-all hover:scale-105",children:[h.jsx(hm,{size:24,className:"text-purple-400"}),h.jsx("h4",{className:"text-lg font-semibold",children:"Generate Questions"}),h.jsx("p",{className:"text-gray-400 text-sm",children:"Create practice questions to test your knowledge"})]}),h.jsxs("button",{onClick:()=>Kt("flashcards"),className:"bg-[#2A2D3E] hover:bg-[#353849] p-4 rounded-xl flex flex-col items-center text-center gap-3 transition-all hover:scale-105",children:[h.jsx(WS,{size:24,className:"text-yellow-400"}),h.jsx("h4",{className:"text-lg font-semibold",children:"Flashcards"}),h.jsx("p",{className:"text-gray-400 text-sm",children:"Create and study with interactive flashcards"})]}),h.jsxs("button",{onClick:()=>Kt("solve"),className:"bg-[#2A2D3E] hover:bg-[#353849] p-4 rounded-xl flex flex-col items-center text-center gap-3 transition-all hover:scale-105",children:[h.jsx(qS,{size:24,className:"text-red-400"}),h.jsx("h4",{className:"text-lg font-semibold",children:"Write"}),h.jsx("p",{className:"text-gray-400 text-sm",children:"Write Essays, Reports, and more"})]})]})]})}),l&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:h.jsxs("div",{className:"bg-[#12141F] rounded-lg p-6 w-full max-w-lg text-white",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h3",{className:"text-xl font-bold",children:"Add Resources"}),h.jsx("button",{onClick:()=>c(!1),children:h.jsx(Mt,{size:20})})]}),h.jsx("div",{onDragEnter:kt,onDragLeave:kt,onDragOver:kt,onDrop:pu,className:`border-2 border-dashed rounded-lg p-8 text-center ${b?"border-blue-500 bg-[#1A1D2E]":"border-gray-700"}`,children:d?h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2.5",children:h.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${p}%`}})}),h.jsxs("p",{className:"text-gray-400",children:["Uploading... ",p,"%"]})]}):h.jsxs(h.Fragment,{children:[h.jsx("input",{type:"file",multiple:!0,accept:".pdf",onChange:$=>{$.target.files&&Array.from($.target.files).forEach(ee=>xt(ee))},className:"hidden",id:"file-upload"}),h.jsx("label",{htmlFor:"file-upload",className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Click to browse"}),h.jsx("span",{className:"text-gray-400",children:" or drag and drop PDFs here"})]})})]})}),Gr&&h.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:h.jsx("div",{className:"bg-[#12141F] rounded-xl p-8 max-w-md w-full text-white",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-r from-green-400 to-green-600 flex items-center justify-center",children:h.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"})})}),h.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Coming Soon!"}),h.jsx("p",{className:"text-gray-400 mb-6",children:"Our mobile app is currently under development. Stay tuned for the release!"}),h.jsx("button",{onClick:()=>Kr(!1),className:"px-6 py-2 bg-green-600 hover:bg-green-700 rounded-lg transition-colors",children:"Got it"})]})})}),Fn&&h.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:h.jsxs("div",{className:"bg-[#12141F] rounded-xl p-8 max-w-6xl w-full text-white",children:[h.jsxs("div",{className:"flex justify-between items-center mb-8",children:[h.jsx("h3",{className:"text-2xl font-bold",children:"Subscribe to Beeka AI AI!"}),h.jsx("button",{onClick:()=>_r(!1),className:"hover:bg-[#2A2D3E] p-2 rounded-lg transition-colors",children:h.jsx(Mt,{size:24})})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsxs("button",{onClick:()=>V("yearly"),className:`w-full p-4 rounded-xl flex items-center justify-between group relative ${Sn==="yearly"?"bg-[#353849] border border-blue-500":"bg-[#2A2D3E] hover:bg-[#353849]"}`,children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${Sn==="yearly"?"border-blue-500":"border-gray-600"}`,children:Sn==="yearly"&&h.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"})}),h.jsx("span",{className:"font-medium",children:"Yearly"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-2xl font-bold",children:"$25"}),h.jsx("span",{className:"text-sm text-gray-400",children:"/year"})]}),h.jsx("div",{className:"absolute -top-2 -right-2 bg-green-500 text-xs px-2 py-1 rounded-full",children:"65% Cheaper"})]}),h.jsxs("button",{onClick:()=>V("monthly"),className:`w-full p-4 rounded-xl flex items-center justify-between ${Sn==="monthly"?"bg-[#353849] border border-blue-500":"bg-[#2A2D3E] hover:bg-[#353849]"}`,children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${Sn==="monthly"?"border-blue-500":"border-gray-600"}`,children:Sn==="monthly"&&h.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"})}),h.jsx("span",{className:"font-medium",children:"Monthly"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-2xl font-bold",children:"$6"}),h.jsx("span",{className:"text-sm text-gray-400",children:"/month"})]})]})]}),h.jsx("button",{onClick:()=>L7(Sn),className:"w-full py-3 bg-blue-600 hover:bg-blue-700 rounded-xl font-medium transition-colors",children:"Upgrade Now"})]}),h.jsxs("div",{className:"bg-[#1A1D2E] rounded-xl p-6",children:[h.jsxs("div",{className:"grid grid-cols-[minmax(0,_1fr)_auto_auto] gap-4 mb-6 items-center",children:[h.jsx("div",{})," ",h.jsx("div",{className:"text-center text-lg font-semibold",children:"Free"}),h.jsx("div",{className:"text-center text-lg font-semibold",children:"Pro"})]}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-[minmax(0,_1fr)_auto_auto] gap-4 items-center",children:[h.jsx("span",{className:"text-base font-bold",children:"Unlimited Space"}),h.jsx("div",{className:"flex justify-center",children:h.jsx(Mt,{size:20,className:"text-red-500"})}),h.jsx("div",{className:"flex justify-center",children:h.jsx("svg",{className:"w-5 h-5 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})})]}),h.jsxs("div",{className:"grid grid-cols-[minmax(0,_1fr)_auto_auto] gap-4 items-center",children:[h.jsx("span",{className:"text-base font-bold",children:"Unlimited Chat"}),h.jsx("div",{className:"flex justify-center",children:h.jsx(Mt,{size:20,className:"text-red-500"})}),h.jsx("div",{className:"flex justify-center",children:h.jsx("svg",{className:"w-5 h-5 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})})]}),h.jsxs("div",{className:"grid grid-cols-[minmax(0,_1fr)_auto_auto] gap-4 items-center",children:[h.jsx("span",{className:"text-base font-bold",children:"Unlimited Upload"}),h.jsx("div",{className:"flex justify-center",children:h.jsx(Mt,{size:20,className:"text-red-500"})}),h.jsx("div",{className:"flex justify-center",children:h.jsx("svg",{className:"w-5 h-5 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})})]})]})]})]}),h.jsxs("div",{className:"mt-8 text-center text-gray-400 italic",children:[xe[W].text,h.jsxs("p",{className:"mt-2 not-italic font-semibold text-white",children:["- ",xe[W].author]})]})]})}),Fe&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:h.jsxs("div",{className:"bg-[#12141F] rounded-lg p-6 w-full max-w-sm text-white",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h3",{className:"text-xl font-bold",children:"Profile"}),h.jsxs("div",{className:"relative",children:[h.jsx("button",{onClick:()=>Yr(!Qr),className:"p-2 hover:bg-[#2A2D3E] rounded-lg transition-colors",children:h.jsx(Pc,{size:20})}),Qr&&h.jsx("div",{className:"absolute right-0 top-full mt-2 bg-[#1A1D2E] rounded-lg shadow-lg py-1 w-48",children:h.jsx("button",{onClick:$=>{$.stopPropagation(),Yr(!1),Zi(!0)},className:"w-full px-4 py-2 text-left text-red-400 hover:bg-[#2A2D3E] text-sm",children:"Delete Account"})})]})]}),h.jsxs("div",{className:"flex items-center gap-3 mb-6 p-4 bg-[#1A1D2E] rounded-lg",children:[h.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-blue-500 to-blue-600 flex items-center justify-center",children:h.jsx("span",{className:"text-xl font-semibold text-white",children:(pa=(wt=ve==null?void 0:ve.email)==null?void 0:wt[0])==null?void 0:pa.toUpperCase()})}),h.jsxs("div",{children:[h.jsx("p",{className:"font-medium text-white",children:ve==null?void 0:ve.email}),h.jsx("p",{className:"text-sm text-gray-400",children:"Free Plan"})]})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("button",{onClick:()=>{pn(!1),_r(!0)},className:"w-full py-2 px-4 bg-[#2A2D3E] hover:bg-[#353849] rounded-lg flex items-center gap-2",children:[h.jsx("div",{className:"p-1 rounded-full bg-gradient-to-r from-yellow-400 to-yellow-600",children:h.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})})}),h.jsx("span",{children:"Upgrade to Pro"})]}),h.jsxs("button",{onClick:()=>{pn(!1),Vn(!0)},className:"w-full py-2 px-4 bg-red-500/10 hover:bg-red-500/20 text-red-400 rounded-lg flex items-center gap-2",children:[h.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),h.jsx("span",{children:"Logout"})]}),h.jsx("button",{onClick:()=>pn(!1),className:"w-full py-2 px-4 bg-[#2A2D3E] hover:bg-[#353849] rounded-lg",children:"Cancel"})]})]})}),qs&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:h.jsxs("div",{className:"bg-[#12141F] rounded-lg p-6 w-full max-w-md text-white",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h3",{className:"text-xl font-bold",children:"Delete Account"}),h.jsx("button",{onClick:()=>Zi(!1),children:h.jsx(Mt,{size:20})})]}),h.jsx("p",{className:"text-gray-400 mb-4",children:"Are you sure you want to delete your account? This action cannot be undone."}),h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block text-sm font-medium mb-2",children:"Why are you deleting your account?"}),h.jsx("textarea",{value:Ws,onChange:$=>ha($.target.value),className:"w-full p-3 bg-[#1A1D2E] border border-gray-700 rounded-lg text-white resize-none h-32",placeholder:"Please let us know your reason..."})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:()=>{Zi(!1),pn(!1)},className:"flex-1 py-2 px-4 bg-[#2A2D3E] hover:bg-[#353849] rounded-lg",children:"Get Help Instead"}),h.jsx("button",{onClick:vu,className:"flex-1 py-2 px-4 bg-red-500 hover:bg-red-600 text-white rounded-lg",children:"Delete Account"})]})]})}),es&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:h.jsxs("div",{className:"bg-[#12141F] rounded-lg p-6 w-full max-w-sm text-white",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h3",{className:"text-xl font-bold",children:"Logout"}),h.jsx("button",{onClick:()=>Vn(!1),children:h.jsx(Mt,{size:20})})]}),h.jsx("p",{className:"text-gray-400 mb-6",children:"Are you sure you want to logout?"}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:()=>Vn(!1),className:"flex-1 py-2 px-4 bg-[#2A2D3E] hover:bg-[#353849] rounded-lg",children:"Cancel"}),h.jsx("button",{onClick:()=>{Vn(!1),zn()},className:"flex-1 py-2 px-4 bg-blue-600 hover:bg-blue-700 rounded-lg",children:"Logout"})]})]})})]})}const F7=({onSubmit:t})=>{const e=["Google Search","Friend","LinkedIn","YouTube","Other"];return h.jsxs("div",{className:"w-full max-w-md space-y-8",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"How did you hear about us?"}),h.jsx("p",{className:"text-gray-400",children:"Select where you discovered Beeka AI"})]}),h.jsx("div",{className:"space-y-4",children:e.map(n=>h.jsx("button",{onClick:()=>t(n),className:"w-full bg-[#1a1625] hover:bg-[#322c45] text-white font-medium py-3 px-4 rounded-lg transition-colors text-left",children:n},n))})]})},V7=({onSubmit:t})=>{const e=["University","High School","Other"];return h.jsxs("div",{className:"w-full max-w-md space-y-8",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"What's your level of education?"}),h.jsx("p",{className:"text-gray-400",children:"Help us personalize your experience"})]}),h.jsx("div",{className:"space-y-4",children:e.map(n=>h.jsx("button",{onClick:()=>t(n),className:"w-full bg-[#1a1625] hover:bg-[#322c45] text-white font-medium py-3 px-4 rounded-lg transition-colors text-left",children:n},n))})]})},z7=({onSubmit:t})=>{const e=["Prepare for an exam","Get homework help","Improve grades overall","Learn new skills","Other"],[n,r]=M.useState([]),i=s=>{r(o=>o.includes(s)?o.filter(a=>a!==s):[...o,s])};return h.jsxs("div",{className:"w-full max-w-md space-y-8",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"What's your main study goal right now?"}),h.jsx("p",{className:"text-gray-400",children:"Select all that apply"})]}),h.jsx("div",{className:"space-y-4",children:e.map(s=>h.jsx("button",{type:"button",onClick:()=>i(s),className:`w-full py-3 px-4 rounded-lg font-medium text-left transition-colors
              ${n.includes(s)?"bg-blue-600 text-white":"bg-[#1a1625] text-white hover:bg-[#322c45]"}
            `,children:s},s))}),h.jsx("button",{onClick:()=>t(n),disabled:n.length===0,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-4 rounded-lg transition-colors mt-4 disabled:opacity-50",children:"Continue"})]})},U7=({onComplete:t})=>h.jsxs("div",{className:"w-full max-w-4xl space-y-8",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Welcome to Beeka AI!"}),h.jsx("p",{className:"text-gray-400",children:"Watch this quick guide to get started"})]}),h.jsx("div",{className:"aspect-video bg-[#1a1625] rounded-lg overflow-hidden",children:h.jsx("iframe",{className:"w-full h-full",src:"https://www.youtube.com/embed/FMU0j_ly4kk?autoplay=1&controls=1&modestbranding=1&rel=0",title:"Welcome Video",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0})}),h.jsx("button",{onClick:t,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-4 rounded-lg transition-colors",children:"Continue to Dashboard"})]}),$7=()=>{const{user:t,setUser:e}=Wo(),[n,r]=M.useState(0),i=Wi(),s=async()=>{if(t){const o=NS($S,"users",t.uid);await N3(o,{profile_complete:!0}),e({...t,profile_complete:!0})}i("/dashboard")};return h.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-[#0a0814] to-[#1a1625] p-4",children:[n===0&&h.jsx(F7,{onSubmit:()=>{r(1)}}),n===1&&h.jsx(V7,{onSubmit:()=>{r(2)}}),n===2&&h.jsx(z7,{onSubmit:()=>{r(3)}}),n===3&&h.jsx(U7,{onComplete:s})]})};function B7(){const{user:t}=Wo(),e=({children:n})=>{const{user:r,loading:i}=Wo();return i?h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):r?r&&r.profile_complete===!1?h.jsx(ii,{to:"/complete-profile",replace:!0}):h.jsx(h.Fragment,{children:n}):h.jsx(ii,{to:"/signin"})};return h.jsxs(cN,{children:[h.jsx(fs,{path:"/landing/*",element:t?h.jsx(ii,{to:"/dashboard",replace:!0}):h.jsx(J3,{})}),h.jsx(fs,{path:"/signup/*",element:t?h.jsx(ii,{to:"/dashboard",replace:!0}):h.jsx(X3,{})}),h.jsx(fs,{path:"/signin/*",element:t?h.jsx(ii,{to:"/dashboard",replace:!0}):h.jsx(Z3,{})}),h.jsx(fs,{path:"/complete-profile",element:h.jsx($7,{})}),h.jsx(fs,{path:"/dashboard/*",element:h.jsx(e,{children:h.jsx(M7,{})})}),h.jsx(fs,{path:"/",element:h.jsx(ii,{to:"/landing",replace:!0})})]})}function H7(){return h.jsx(yN,{children:h.jsxs(HS,{children:[h.jsx(cP,{position:"top-center"}),h.jsx(B7,{})]})})}Uf.createRoot(document.getElementById("root")).render(h.jsx(or.StrictMode,{children:h.jsx(HS,{children:h.jsx(H7,{})})}));
